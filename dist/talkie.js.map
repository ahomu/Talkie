{"version":3,"file":"talkie.js","sources":["../node_modules/core-js/modules/_a-function.js","../node_modules/core-js/modules/_ctx.js","../node_modules/core-js/modules/_global.js","../node_modules/core-js/modules/_core.js","../node_modules/core-js/modules/_is-object.js","../node_modules/core-js/modules/_an-object.js","../node_modules/core-js/modules/_fails.js","../node_modules/core-js/modules/_descriptors.js","../node_modules/core-js/modules/_dom-create.js","../node_modules/core-js/modules/_ie8-dom-define.js","../node_modules/core-js/modules/_to-primitive.js","../node_modules/core-js/modules/_object-dp.js","../node_modules/core-js/modules/_property-desc.js","../node_modules/core-js/modules/_hide.js","../node_modules/core-js/modules/_has.js","../node_modules/core-js/modules/_uid.js","../node_modules/core-js/modules/_redefine.js","../node_modules/core-js/modules/_export.js","../node_modules/core-js/modules/_defined.js","../node_modules/core-js/modules/_to-object.js","../node_modules/core-js/modules/_iter-call.js","../node_modules/core-js/modules/_iterators.js","../node_modules/core-js/modules/_shared.js","../node_modules/core-js/modules/_wks.js","../node_modules/core-js/modules/_is-array-iter.js","../node_modules/core-js/modules/_to-integer.js","../node_modules/core-js/modules/_to-length.js","../node_modules/core-js/modules/_create-property.js","../node_modules/core-js/modules/_cof.js","../node_modules/core-js/modules/_classof.js","../node_modules/core-js/modules/core.get-iterator-method.js","../node_modules/core-js/modules/_iter-detect.js","../node_modules/core-js/modules/es6.array.from.js","../node_modules/core-js/modules/_add-to-unscopables.js","../node_modules/core-js/modules/_iter-step.js","../node_modules/core-js/modules/_iobject.js","../node_modules/core-js/modules/_to-iobject.js","../node_modules/core-js/modules/_library.js","../node_modules/core-js/modules/_to-absolute-index.js","../node_modules/core-js/modules/_array-includes.js","../node_modules/core-js/modules/_shared-key.js","../node_modules/core-js/modules/_object-keys-internal.js","../node_modules/core-js/modules/_enum-bug-keys.js","../node_modules/core-js/modules/_object-keys.js","../node_modules/core-js/modules/_object-dps.js","../node_modules/core-js/modules/_html.js","../node_modules/core-js/modules/_object-create.js","../node_modules/core-js/modules/_set-to-string-tag.js","../node_modules/core-js/modules/_iter-create.js","../node_modules/core-js/modules/_object-gpo.js","../node_modules/core-js/modules/_iter-define.js","../node_modules/core-js/modules/es6.array.iterator.js","../node_modules/core-js/modules/web.dom.iterable.js","../node_modules/core-js/modules/_wks-ext.js","../node_modules/core-js/modules/_wks-define.js","../node_modules/core-js/modules/es7.symbol.async-iterator.js","../node_modules/core-js/modules/_meta.js","../node_modules/core-js/modules/_object-gops.js","../node_modules/core-js/modules/_object-pie.js","../node_modules/core-js/modules/_enum-keys.js","../node_modules/core-js/modules/_is-array.js","../node_modules/core-js/modules/_object-gopn.js","../node_modules/core-js/modules/_object-gopn-ext.js","../node_modules/core-js/modules/_object-gopd.js","../node_modules/core-js/modules/es6.symbol.js","../node_modules/core-js/modules/_an-instance.js","../node_modules/core-js/modules/_for-of.js","../node_modules/core-js/modules/_species-constructor.js","../node_modules/core-js/modules/_invoke.js","../node_modules/core-js/modules/_task.js","../node_modules/core-js/modules/_microtask.js","../node_modules/core-js/modules/_new-promise-capability.js","../node_modules/core-js/modules/_perform.js","../node_modules/core-js/modules/_promise-resolve.js","../node_modules/core-js/modules/_redefine-all.js","../node_modules/core-js/modules/_set-species.js","../node_modules/core-js/modules/es6.promise.js","../node_modules/core-js/modules/_object-assign.js","../node_modules/core-js/modules/es6.object.assign.js","../node_modules/tslib/tslib.es6.js","../node_modules/rxjs/_esm5/internal/util/errorObject.js","../node_modules/rxjs/_esm5/internal/util/tryCatch.js","../node_modules/rxjs/_esm5/internal/util/isFunction.js","../node_modules/rxjs/_esm5/internal/Observer.js","../node_modules/rxjs/_esm5/internal/util/isArray.js","../node_modules/rxjs/_esm5/internal/util/isObject.js","../node_modules/rxjs/_esm5/internal/util/UnsubscriptionError.js","../node_modules/rxjs/_esm5/internal/Subscription.js","../node_modules/rxjs/_esm5/internal/symbol/rxSubscriber.js","../node_modules/rxjs/_esm5/internal/Subscriber.js","../node_modules/rxjs/_esm5/internal/OuterSubscriber.js","../node_modules/rxjs/_esm5/internal/InnerSubscriber.js","../node_modules/rxjs/_esm5/internal/util/toSubscriber.js","../node_modules/rxjs/_esm5/internal/symbol/observable.js","../node_modules/rxjs/_esm5/internal/util/noop.js","../node_modules/rxjs/_esm5/internal/util/pipe.js","../node_modules/rxjs/_esm5/internal/config.js","../node_modules/rxjs/_esm5/internal/Observable.js","../node_modules/rxjs/_esm5/internal/util/subscribeToArray.js","../node_modules/rxjs/_esm5/internal/util/subscribeToPromise.js","../node_modules/rxjs/_esm5/internal/symbol/iterator.js","../node_modules/rxjs/_esm5/internal/util/subscribeToIterable.js","../node_modules/rxjs/_esm5/internal/util/subscribeToObservable.js","../node_modules/rxjs/_esm5/internal/util/isArrayLike.js","../node_modules/rxjs/_esm5/internal/util/isPromise.js","../node_modules/rxjs/_esm5/internal/util/subscribeTo.js","../node_modules/rxjs/_esm5/internal/util/subscribeToResult.js","../node_modules/rxjs/_esm5/internal/operators/audit.js","../node_modules/rxjs/_esm5/internal/scheduler/Action.js","../node_modules/rxjs/_esm5/internal/scheduler/AsyncAction.js","../node_modules/rxjs/_esm5/internal/Scheduler.js","../node_modules/rxjs/_esm5/internal/scheduler/AsyncScheduler.js","../node_modules/rxjs/_esm5/internal/scheduler/async.js","../node_modules/rxjs/_esm5/internal/util/isNumeric.js","../node_modules/rxjs/_esm5/internal/util/isScheduler.js","../node_modules/rxjs/_esm5/internal/observable/timer.js","../node_modules/rxjs/_esm5/internal/operators/auditTime.js","../node_modules/rxjs/_esm5/internal/operators/buffer.js","../node_modules/rxjs/_esm5/internal/operators/bufferCount.js","../node_modules/rxjs/_esm5/internal/operators/bufferTime.js","../node_modules/rxjs/_esm5/internal/operators/bufferToggle.js","../node_modules/rxjs/_esm5/internal/operators/bufferWhen.js","../node_modules/rxjs/_esm5/internal/operators/catchError.js","../node_modules/rxjs/_esm5/internal/observable/fromArray.js","../node_modules/rxjs/_esm5/internal/observable/combineLatest.js","../node_modules/rxjs/_esm5/internal/operators/combineAll.js","../node_modules/rxjs/_esm5/internal/operators/mergeMap.js","../node_modules/rxjs/_esm5/internal/util/identity.js","../node_modules/rxjs/_esm5/internal/operators/mergeAll.js","../node_modules/rxjs/_esm5/internal/operators/concatAll.js","../node_modules/rxjs/_esm5/internal/operators/concatMap.js","../node_modules/rxjs/_esm5/internal/operators/concatMapTo.js","../node_modules/rxjs/_esm5/internal/operators/count.js","../node_modules/rxjs/_esm5/internal/operators/debounce.js","../node_modules/rxjs/_esm5/internal/operators/debounceTime.js","../node_modules/rxjs/_esm5/internal/operators/defaultIfEmpty.js","../node_modules/rxjs/_esm5/internal/util/isDate.js","../node_modules/rxjs/_esm5/internal/observable/empty.js","../node_modules/rxjs/_esm5/internal/observable/scalar.js","../node_modules/rxjs/_esm5/internal/observable/of.js","../node_modules/rxjs/_esm5/internal/observable/throwError.js","../node_modules/rxjs/_esm5/internal/Notification.js","../node_modules/rxjs/_esm5/internal/operators/delay.js","../node_modules/rxjs/_esm5/internal/operators/delayWhen.js","../node_modules/rxjs/_esm5/internal/operators/dematerialize.js","../node_modules/core-js/modules/_validate-collection.js","../node_modules/core-js/modules/_collection-strong.js","../node_modules/core-js/modules/_set-proto.js","../node_modules/core-js/modules/_inherit-if-required.js","../node_modules/core-js/modules/_collection.js","../node_modules/core-js/modules/es6.set.js","../node_modules/rxjs/_esm5/internal/operators/distinct.js","../node_modules/rxjs/_esm5/internal/operators/distinctUntilChanged.js","../node_modules/rxjs/_esm5/internal/operators/distinctUntilKeyChanged.js","../node_modules/rxjs/_esm5/internal/util/ArgumentOutOfRangeError.js","../node_modules/rxjs/_esm5/internal/operators/elementAt.js","../node_modules/rxjs/_esm5/internal/operators/every.js","../node_modules/rxjs/_esm5/internal/operators/exhaust.js","../node_modules/rxjs/_esm5/internal/operators/exhaustMap.js","../node_modules/rxjs/_esm5/internal/operators/expand.js","../node_modules/rxjs/_esm5/internal/operators/filter.js","../node_modules/rxjs/_esm5/internal/operators/finalize.js","../node_modules/rxjs/_esm5/internal/operators/find.js","../node_modules/rxjs/_esm5/internal/operators/findIndex.js","../node_modules/rxjs/_esm5/internal/util/EmptyError.js","../node_modules/rxjs/_esm5/internal/operators/first.js","../node_modules/core-js/modules/es6.map.js","../node_modules/rxjs/_esm5/internal/util/ObjectUnsubscribedError.js","../node_modules/rxjs/_esm5/internal/SubjectSubscription.js","../node_modules/rxjs/_esm5/internal/Subject.js","../node_modules/rxjs/_esm5/internal/operators/groupBy.js","../node_modules/rxjs/_esm5/internal/operators/ignoreElements.js","../node_modules/rxjs/_esm5/internal/operators/isEmpty.js","../node_modules/rxjs/_esm5/internal/operators/last.js","../node_modules/rxjs/_esm5/internal/operators/map.js","../node_modules/rxjs/_esm5/internal/operators/mapTo.js","../node_modules/rxjs/_esm5/internal/operators/materialize.js","../node_modules/rxjs/_esm5/internal/operators/scan.js","../node_modules/rxjs/_esm5/internal/operators/takeLast.js","../node_modules/rxjs/_esm5/internal/operators/reduce.js","../node_modules/rxjs/_esm5/internal/operators/max.js","../node_modules/rxjs/_esm5/internal/operators/mergeMapTo.js","../node_modules/rxjs/_esm5/internal/operators/mergeScan.js","../node_modules/rxjs/_esm5/internal/operators/min.js","../node_modules/rxjs/_esm5/internal/operators/refCount.js","../node_modules/rxjs/_esm5/internal/observable/ConnectableObservable.js","../node_modules/rxjs/_esm5/internal/operators/multicast.js","../node_modules/rxjs/_esm5/internal/operators/observeOn.js","../node_modules/rxjs/_esm5/internal/operators/pairwise.js","../node_modules/rxjs/_esm5/internal/util/not.js","../node_modules/rxjs/_esm5/internal/operators/partition.js","../node_modules/rxjs/_esm5/internal/operators/pluck.js","../node_modules/rxjs/_esm5/internal/operators/publish.js","../node_modules/rxjs/_esm5/internal/BehaviorSubject.js","../node_modules/rxjs/_esm5/internal/operators/publishBehavior.js","../node_modules/rxjs/_esm5/internal/AsyncSubject.js","../node_modules/rxjs/_esm5/internal/operators/publishLast.js","../node_modules/rxjs/_esm5/internal/scheduler/QueueAction.js","../node_modules/rxjs/_esm5/internal/scheduler/QueueScheduler.js","../node_modules/rxjs/_esm5/internal/scheduler/queue.js","../node_modules/rxjs/_esm5/internal/ReplaySubject.js","../node_modules/rxjs/_esm5/internal/operators/publishReplay.js","../node_modules/rxjs/_esm5/internal/operators/repeat.js","../node_modules/rxjs/_esm5/internal/operators/repeatWhen.js","../node_modules/rxjs/_esm5/internal/operators/retry.js","../node_modules/rxjs/_esm5/internal/operators/retryWhen.js","../node_modules/rxjs/_esm5/internal/operators/sample.js","../node_modules/rxjs/_esm5/internal/operators/sampleTime.js","../node_modules/rxjs/_esm5/internal/operators/sequenceEqual.js","../node_modules/rxjs/_esm5/internal/operators/share.js","../node_modules/rxjs/_esm5/internal/operators/shareReplay.js","../node_modules/rxjs/_esm5/internal/operators/single.js","../node_modules/rxjs/_esm5/internal/operators/skip.js","../node_modules/rxjs/_esm5/internal/operators/skipLast.js","../node_modules/rxjs/_esm5/internal/operators/skipUntil.js","../node_modules/rxjs/_esm5/internal/operators/skipWhile.js","../node_modules/rxjs/_esm5/internal/util/isObservable.js","../node_modules/rxjs/_esm5/internal/util/isIterable.js","../node_modules/rxjs/_esm5/internal/observable/fromPromise.js","../node_modules/rxjs/_esm5/internal/observable/fromIterable.js","../node_modules/rxjs/_esm5/internal/observable/fromObservable.js","../node_modules/rxjs/_esm5/internal/observable/from.js","../node_modules/rxjs/_esm5/internal/observable/concat.js","../node_modules/rxjs/_esm5/internal/operators/startWith.js","../node_modules/rxjs/_esm5/internal/operators/switchMap.js","../node_modules/rxjs/_esm5/internal/operators/switchAll.js","../node_modules/rxjs/_esm5/internal/operators/switchMapTo.js","../node_modules/rxjs/_esm5/internal/operators/take.js","../node_modules/rxjs/_esm5/internal/operators/takeUntil.js","../node_modules/rxjs/_esm5/internal/operators/takeWhile.js","../node_modules/rxjs/_esm5/internal/operators/tap.js","../node_modules/rxjs/_esm5/internal/operators/throttle.js","../node_modules/rxjs/_esm5/internal/operators/throttleTime.js","../node_modules/rxjs/_esm5/internal/operators/throwIfEmpty.js","../node_modules/rxjs/_esm5/internal/operators/timeInterval.js","../node_modules/rxjs/_esm5/internal/util/TimeoutError.js","../node_modules/rxjs/_esm5/internal/operators/timeout.js","../node_modules/rxjs/_esm5/internal/operators/timeoutWith.js","../node_modules/rxjs/_esm5/internal/operators/timestamp.js","../node_modules/rxjs/_esm5/internal/operators/toArray.js","../node_modules/rxjs/_esm5/internal/operators/window.js","../node_modules/rxjs/_esm5/internal/operators/windowCount.js","../node_modules/rxjs/_esm5/internal/operators/windowTime.js","../node_modules/rxjs/_esm5/internal/operators/windowToggle.js","../node_modules/rxjs/_esm5/internal/operators/windowWhen.js","../node_modules/rxjs/_esm5/internal/operators/withLatestFrom.js","../node_modules/rxjs/_esm5/internal/observable/zip.js","../node_modules/rxjs/_esm5/internal/operators/zipAll.js","../node_modules/rxjs/_esm5/operators/index.js","../node_modules/rxjs/internal/util/isFunction.js","../node_modules/rxjs/internal/Observer.js","../node_modules/rxjs/internal/util/isArray.js","../node_modules/rxjs/internal/util/isObject.js","../node_modules/rxjs/internal/util/errorObject.js","../node_modules/rxjs/internal/util/tryCatch.js","../node_modules/rxjs/internal/util/UnsubscriptionError.js","../node_modules/rxjs/internal/Subscription.js","../node_modules/rxjs/internal/symbol/rxSubscriber.js","../node_modules/rxjs/internal/Subscriber.js","../node_modules/rxjs/internal/util/toSubscriber.js","../node_modules/rxjs/internal/symbol/observable.js","../node_modules/rxjs/internal/util/noop.js","../node_modules/rxjs/internal/util/pipe.js","../node_modules/rxjs/internal/config.js","../node_modules/rxjs/internal/Observable.js","../node_modules/rxjs/internal/util/ObjectUnsubscribedError.js","../node_modules/rxjs/internal/SubjectSubscription.js","../node_modules/rxjs/internal/Subject.js","../node_modules/rxjs/internal/operators/refCount.js","../node_modules/rxjs/internal/observable/ConnectableObservable.js","../node_modules/rxjs/internal/BehaviorSubject.js","../node_modules/rxjs/internal/scheduler/Action.js","../node_modules/rxjs/internal/scheduler/AsyncAction.js","../node_modules/rxjs/internal/scheduler/QueueAction.js","../node_modules/rxjs/internal/Scheduler.js","../node_modules/rxjs/internal/scheduler/AsyncScheduler.js","../node_modules/rxjs/internal/scheduler/QueueScheduler.js","../node_modules/rxjs/internal/scheduler/queue.js","../node_modules/rxjs/internal/observable/empty.js","../node_modules/rxjs/internal/util/isScheduler.js","../node_modules/rxjs/internal/util/subscribeToArray.js","../node_modules/rxjs/internal/observable/fromArray.js","../node_modules/rxjs/internal/observable/scalar.js","../node_modules/rxjs/internal/observable/of.js","../node_modules/rxjs/internal/observable/throwError.js","../node_modules/rxjs/internal/Notification.js","../node_modules/rxjs/internal/operators/observeOn.js","../node_modules/rxjs/internal/ReplaySubject.js","../node_modules/rxjs/internal/AsyncSubject.js","../node_modules/rxjs/internal/util/Immediate.js","../node_modules/rxjs/internal/scheduler/AsapAction.js","../node_modules/rxjs/internal/scheduler/AsapScheduler.js","../node_modules/rxjs/internal/scheduler/asap.js","../node_modules/rxjs/internal/scheduler/async.js","../node_modules/rxjs/internal/scheduler/AnimationFrameAction.js","../node_modules/rxjs/internal/scheduler/AnimationFrameScheduler.js","../node_modules/rxjs/internal/scheduler/animationFrame.js","../node_modules/core-js/modules/_strict-method.js","../node_modules/core-js/modules/es6.array.sort.js","../node_modules/rxjs/internal/scheduler/VirtualTimeScheduler.js","../node_modules/rxjs/internal/util/identity.js","../node_modules/rxjs/internal/util/ArgumentOutOfRangeError.js","../node_modules/rxjs/internal/util/EmptyError.js","../node_modules/rxjs/internal/util/TimeoutError.js","../node_modules/rxjs/internal/observable/bindCallback.js","../node_modules/rxjs/internal/observable/bindNodeCallback.js","../node_modules/rxjs/internal/OuterSubscriber.js","../node_modules/rxjs/internal/InnerSubscriber.js","../node_modules/rxjs/internal/util/subscribeToPromise.js","../node_modules/rxjs/internal/symbol/iterator.js","../node_modules/rxjs/internal/util/subscribeToIterable.js","../node_modules/rxjs/internal/util/subscribeToObservable.js","../node_modules/rxjs/internal/util/isArrayLike.js","../node_modules/rxjs/internal/util/isPromise.js","../node_modules/rxjs/internal/util/subscribeTo.js","../node_modules/rxjs/internal/util/subscribeToResult.js","../node_modules/rxjs/internal/observable/combineLatest.js","../node_modules/rxjs/internal/util/isObservable.js","../node_modules/rxjs/internal/util/isIterable.js","../node_modules/rxjs/internal/observable/fromPromise.js","../node_modules/rxjs/internal/observable/fromIterable.js","../node_modules/rxjs/internal/observable/fromObservable.js","../node_modules/rxjs/internal/observable/from.js","../node_modules/rxjs/internal/operators/mergeMap.js","../node_modules/rxjs/internal/operators/mergeAll.js","../node_modules/rxjs/internal/operators/concatAll.js","../node_modules/rxjs/internal/observable/concat.js","../node_modules/rxjs/internal/observable/defer.js","../node_modules/rxjs/internal/observable/forkJoin.js","../node_modules/rxjs/internal/observable/fromEvent.js","../node_modules/rxjs/internal/observable/fromEventPattern.js","../node_modules/rxjs/internal/observable/generate.js","../node_modules/rxjs/internal/observable/iif.js","../node_modules/rxjs/internal/util/isNumeric.js","../node_modules/rxjs/internal/observable/interval.js","../node_modules/rxjs/internal/observable/merge.js","../node_modules/rxjs/internal/observable/onErrorResumeNext.js","../node_modules/rxjs/internal/observable/pairs.js","../node_modules/rxjs/internal/observable/race.js","../node_modules/rxjs/internal/observable/range.js","../node_modules/rxjs/internal/observable/timer.js","../node_modules/rxjs/internal/observable/using.js","../node_modules/rxjs/internal/observable/zip.js","../node_modules/rxjs/internal/observable/never.js","../node_modules/rxjs/index.js","../node_modules/core-js/modules/_bind.js","../node_modules/core-js/modules/es6.reflect.construct.js","../node_modules/core-js/modules/es6.function.name.js","../node_modules/core-js/modules/_fix-re-wks.js","../node_modules/core-js/modules/_is-regexp.js","../node_modules/core-js/modules/es6.regexp.split.js","../node_modules/lit-html/lit-html.js","../node_modules/lit-html/lib/shady-render.js","../src/components/TalkieBackface.ts","../src/components/TalkiePager.ts","../src/components/TalkieProgress.ts","../node_modules/core-js/modules/es7.array.includes.js","../node_modules/core-js/modules/es6.regexp.replace.js","../node_modules/markdown-it/lib/common/entities.js","../node_modules/uc.micro/categories/P/regex.js","../node_modules/mdurl/encode.js","../node_modules/mdurl/decode.js","../node_modules/core-js/modules/es6.regexp.search.js","../node_modules/mdurl/format.js","../node_modules/core-js/modules/es6.regexp.match.js","../node_modules/mdurl/parse.js","../node_modules/mdurl/index.js","../node_modules/uc.micro/properties/Any/regex.js","../node_modules/uc.micro/categories/Cc/regex.js","../node_modules/uc.micro/categories/Cf/regex.js","../node_modules/uc.micro/categories/Z/regex.js","../node_modules/uc.micro/index.js","../node_modules/markdown-it/lib/common/utils.js","../node_modules/markdown-it/lib/helpers/parse_link_label.js","../node_modules/markdown-it/lib/helpers/parse_link_destination.js","../node_modules/markdown-it/lib/helpers/parse_link_title.js","../node_modules/markdown-it/lib/helpers/index.js","../node_modules/markdown-it/lib/renderer.js","../node_modules/markdown-it/lib/ruler.js","../node_modules/markdown-it/lib/rules_core/normalize.js","../node_modules/markdown-it/lib/rules_core/block.js","../node_modules/markdown-it/lib/rules_core/inline.js","../node_modules/markdown-it/lib/rules_core/linkify.js","../node_modules/markdown-it/lib/rules_core/replacements.js","../node_modules/markdown-it/lib/rules_core/smartquotes.js","../node_modules/markdown-it/lib/token.js","../node_modules/markdown-it/lib/rules_core/state_core.js","../node_modules/markdown-it/lib/parser_core.js","../node_modules/markdown-it/lib/rules_block/table.js","../node_modules/markdown-it/lib/rules_block/code.js","../node_modules/markdown-it/lib/rules_block/fence.js","../node_modules/markdown-it/lib/rules_block/blockquote.js","../node_modules/markdown-it/lib/rules_block/hr.js","../node_modules/markdown-it/lib/rules_block/list.js","../node_modules/markdown-it/lib/rules_block/reference.js","../node_modules/markdown-it/lib/rules_block/heading.js","../node_modules/markdown-it/lib/rules_block/lheading.js","../node_modules/markdown-it/lib/common/html_blocks.js","../node_modules/markdown-it/lib/common/html_re.js","../node_modules/markdown-it/lib/rules_block/html_block.js","../node_modules/markdown-it/lib/rules_block/paragraph.js","../node_modules/markdown-it/lib/rules_block/state_block.js","../node_modules/markdown-it/lib/parser_block.js","../node_modules/markdown-it/lib/rules_inline/text.js","../node_modules/markdown-it/lib/rules_inline/newline.js","../node_modules/markdown-it/lib/rules_inline/escape.js","../node_modules/markdown-it/lib/rules_inline/backticks.js","../node_modules/markdown-it/lib/rules_inline/strikethrough.js","../node_modules/markdown-it/lib/rules_inline/emphasis.js","../node_modules/markdown-it/lib/rules_inline/link.js","../node_modules/markdown-it/lib/rules_inline/image.js","../node_modules/markdown-it/lib/rules_inline/autolink.js","../node_modules/markdown-it/lib/rules_inline/html_inline.js","../node_modules/markdown-it/lib/rules_inline/entity.js","../node_modules/markdown-it/lib/rules_inline/balance_pairs.js","../node_modules/markdown-it/lib/rules_inline/text_collapse.js","../node_modules/markdown-it/lib/rules_inline/state_inline.js","../node_modules/markdown-it/lib/parser_inline.js","../node_modules/linkify-it/lib/re.js","../node_modules/linkify-it/index.js","../node_modules/punycode/punycode.js","../node_modules/markdown-it/lib/presets/default.js","../node_modules/markdown-it/lib/presets/zero.js","../node_modules/markdown-it/lib/presets/commonmark.js","../node_modules/markdown-it/lib/index.js","../node_modules/markdown-it/index.js","../src/markdown.ts","../src/components/TalkieSlide.ts","../node_modules/keycode/index.js","../node_modules/rxjs/_esm5/internal/util/Immediate.js","../node_modules/rxjs/_esm5/internal/scheduler/AsapAction.js","../node_modules/rxjs/_esm5/internal/scheduler/AsapScheduler.js","../node_modules/rxjs/_esm5/internal/scheduler/asap.js","../node_modules/rxjs/_esm5/internal/scheduler/AnimationFrameAction.js","../node_modules/rxjs/_esm5/internal/scheduler/AnimationFrameScheduler.js","../node_modules/rxjs/_esm5/internal/scheduler/animationFrame.js","../node_modules/rxjs/_esm5/internal/scheduler/VirtualTimeScheduler.js","../node_modules/rxjs/_esm5/internal/observable/bindCallback.js","../node_modules/rxjs/_esm5/internal/observable/bindNodeCallback.js","../node_modules/rxjs/_esm5/internal/observable/defer.js","../node_modules/rxjs/_esm5/internal/observable/forkJoin.js","../node_modules/rxjs/_esm5/internal/observable/fromEvent.js","../node_modules/rxjs/_esm5/internal/observable/fromEventPattern.js","../node_modules/rxjs/_esm5/internal/observable/generate.js","../node_modules/rxjs/_esm5/internal/observable/iif.js","../node_modules/rxjs/_esm5/internal/observable/interval.js","../node_modules/rxjs/_esm5/internal/observable/merge.js","../node_modules/rxjs/_esm5/internal/observable/onErrorResumeNext.js","../node_modules/rxjs/_esm5/internal/observable/pairs.js","../node_modules/rxjs/_esm5/internal/observable/race.js","../node_modules/rxjs/_esm5/internal/observable/range.js","../node_modules/rxjs/_esm5/internal/observable/using.js","../node_modules/rxjs/_esm5/internal/observable/never.js","../node_modules/rxjs/_esm5/index.js","../src/event.ts","../src/responsive.ts","../src/paging.ts","../src/fullscreen.ts","../src/util.ts","../src/index.ts"],"sourcesContent":["module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var core = module.exports = { version: '2.5.5' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","var global = require('./_global');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar SRC = require('./_uid')('src');\nvar TO_STRING = 'toString';\nvar $toString = Function[TO_STRING];\nvar TPL = ('' + $toString).split(TO_STRING);\n\nrequire('./_core').inspectSource = function (it) {\n  return $toString.call(it);\n};\n\n(module.exports = function (O, key, val, safe) {\n  var isFunction = typeof val == 'function';\n  if (isFunction) has(val, 'name') || hide(val, 'name', key);\n  if (O[key] === val) return;\n  if (isFunction) has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n  if (O === global) {\n    O[key] = val;\n  } else if (!safe) {\n    delete O[key];\n    hide(O, key, val);\n  } else if (O[key]) {\n    O[key] = val;\n  } else {\n    hide(O, key, val);\n  }\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, TO_STRING, function toString() {\n  return typeof this == 'function' && this[SRC] || $toString.call(this);\n});\n","var global = require('./_global');\nvar core = require('./_core');\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar ctx = require('./_ctx');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE];\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});\n  var key, own, out, exp;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    // export native or passed\n    out = (own ? target : source)[key];\n    // bind timers to global for call from export context\n    exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // extend global\n    if (target) redefine(target, key, out, type & $export.U);\n    // export\n    if (exports[key] != out) hide(exports, key, exp);\n    if (IS_PROTO && expProto[key] != out) expProto[key] = out;\n  }\n};\nglobal.core = core;\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","module.exports = {};\n","var global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function (key) {\n  return store[key] || (store[key] = {});\n};\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n","// 22.1.3.31 Array.prototype[@@unscopables]\nvar UNSCOPABLES = require('./_wks')('unscopables');\nvar ArrayProto = Array.prototype;\nif (ArrayProto[UNSCOPABLES] == undefined) require('./_hide')(ArrayProto, UNSCOPABLES, {});\nmodule.exports = function (key) {\n  ArrayProto[UNSCOPABLES][key] = true;\n};\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","module.exports = false;\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","var $iterators = require('./es6.array.iterator');\nvar getKeys = require('./_object-keys');\nvar redefine = require('./_redefine');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar wks = require('./_wks');\nvar ITERATOR = wks('iterator');\nvar TO_STRING_TAG = wks('toStringTag');\nvar ArrayValues = Iterators.Array;\n\nvar DOMIterables = {\n  CSSRuleList: true, // TODO: Not spec compliant, should be false.\n  CSSStyleDeclaration: false,\n  CSSValueList: false,\n  ClientRectList: false,\n  DOMRectList: false,\n  DOMStringList: false,\n  DOMTokenList: true,\n  DataTransferItemList: false,\n  FileList: false,\n  HTMLAllCollection: false,\n  HTMLCollection: false,\n  HTMLFormElement: false,\n  HTMLSelectElement: false,\n  MediaList: true, // TODO: Not spec compliant, should be false.\n  MimeTypeArray: false,\n  NamedNodeMap: false,\n  NodeList: true,\n  PaintRequestList: false,\n  Plugin: false,\n  PluginArray: false,\n  SVGLengthList: false,\n  SVGNumberList: false,\n  SVGPathSegList: false,\n  SVGPointList: false,\n  SVGStringList: false,\n  SVGTransformList: false,\n  SourceBufferList: false,\n  StyleSheetList: true, // TODO: Not spec compliant, should be false.\n  TextTrackCueList: false,\n  TextTrackList: false,\n  TouchList: false\n};\n\nfor (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {\n  var NAME = collections[i];\n  var explicit = DOMIterables[NAME];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  var key;\n  if (proto) {\n    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);\n    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);\n  }\n}\n","exports.f = require('./_wks');\n","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n","require('./_wks-define')('asyncIterator');\n","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","exports.f = Object.getOwnPropertySymbols;\n","exports.f = {}.propertyIsEnumerable;\n","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function';\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  require('./_object-gops').f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n  } else if (Observer && !(global.navigator && global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    var promise = Promise.resolve();\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n","var anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","var redefine = require('./_redefine');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) redefine(target, key, src[key], safe);\n  return target;\n};\n","'use strict';\nvar global = require('./_global');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function') && promise.then(empty) instanceof FakePromise;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // may throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        if (domain && !exited) domain.exit();\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n  } return T;\n} : $assign;\n","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","// typeof any so that it we don't have to cast when comparing a result to the error object\n/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var errorObject = { e: {} };\n//# sourceMappingURL=errorObject.js.map\n","/** PURE_IMPORTS_START ._errorObject PURE_IMPORTS_END */\nimport { errorObject } from './errorObject';\nvar tryCatchTarget;\nfunction tryCatcher() {\n    try {\n        return tryCatchTarget.apply(this, arguments);\n    }\n    catch (e) {\n        errorObject.e = e;\n        return errorObject;\n    }\n}\nexport function tryCatch(fn) {\n    tryCatchTarget = fn;\n    return tryCatcher;\n}\n//# sourceMappingURL=tryCatch.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function isFunction(x) {\n    return typeof x === 'function';\n}\n//# sourceMappingURL=isFunction.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var empty = {\n    closed: true,\n    next: function (value) { },\n    error: function (err) { throw err; },\n    complete: function () { }\n};\n//# sourceMappingURL=Observer.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var isArray = Array.isArray || (function (x) { return x && typeof x.length === 'number'; });\n//# sourceMappingURL=isArray.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function isObject(x) {\n    return x != null && typeof x === 'object';\n}\n//# sourceMappingURL=isObject.js.map\n","/** PURE_IMPORTS_START tslib PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\n/**\n * An error thrown when one or more errors have occurred during the\n * `unsubscribe` of a {@link Subscription}.\n */\nvar UnsubscriptionError = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(UnsubscriptionError, _super);\n    function UnsubscriptionError(errors) {\n        var _this = _super.call(this, errors ?\n            errors.length + \" errors occurred during unsubscription:\\n  \" + errors.map(function (err, i) { return i + 1 + \") \" + err.toString(); }).join('\\n  ') : '') || this;\n        _this.errors = errors;\n        _this.name = 'UnsubscriptionError';\n        Object.setPrototypeOf(_this, UnsubscriptionError.prototype);\n        return _this;\n    }\n    return UnsubscriptionError;\n}(Error));\nexport { UnsubscriptionError };\n//# sourceMappingURL=UnsubscriptionError.js.map\n","/** PURE_IMPORTS_START ._util_isArray,._util_isObject,._util_isFunction,._util_tryCatch,._util_errorObject,._util_UnsubscriptionError PURE_IMPORTS_END */\nimport { isArray } from './util/isArray';\nimport { isObject } from './util/isObject';\nimport { isFunction } from './util/isFunction';\nimport { tryCatch } from './util/tryCatch';\nimport { errorObject } from './util/errorObject';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\n/**\n * Represents a disposable resource, such as the execution of an Observable. A\n * Subscription has one important method, `unsubscribe`, that takes no argument\n * and just disposes the resource held by the subscription.\n *\n * Additionally, subscriptions may be grouped together through the `add()`\n * method, which will attach a child Subscription to the current Subscription.\n * When a Subscription is unsubscribed, all its children (and its grandchildren)\n * will be unsubscribed as well.\n *\n * @class Subscription\n */\nvar Subscription = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    /**\n     * @param {function(): void} [unsubscribe] A function describing how to\n     * perform the disposal of resources when the `unsubscribe` method is called.\n     */\n    function Subscription(unsubscribe) {\n        /**\n         * A flag to indicate whether this Subscription has already been unsubscribed.\n         * @type {boolean}\n         */\n        this.closed = false;\n        /** @internal */\n        this._parent = null;\n        /** @internal */\n        this._parents = null;\n        /** @internal */\n        this._subscriptions = null;\n        if (unsubscribe) {\n            this._unsubscribe = unsubscribe;\n        }\n    }\n    /**\n     * Disposes the resources held by the subscription. May, for instance, cancel\n     * an ongoing Observable execution or cancel any other type of work that\n     * started when the Subscription was created.\n     * @return {void}\n     */\n    Subscription.prototype.unsubscribe = function () {\n        var hasErrors = false;\n        var errors;\n        if (this.closed) {\n            return;\n        }\n        var _a = this, _parent = _a._parent, _parents = _a._parents, _unsubscribe = _a._unsubscribe, _subscriptions = _a._subscriptions;\n        this.closed = true;\n        this._parent = null;\n        this._parents = null;\n        // null out _subscriptions first so any child subscriptions that attempt\n        // to remove themselves from this subscription will noop\n        this._subscriptions = null;\n        var index = -1;\n        var len = _parents ? _parents.length : 0;\n        // if this._parent is null, then so is this._parents, and we\n        // don't have to remove ourselves from any parent subscriptions.\n        while (_parent) {\n            _parent.remove(this);\n            // if this._parents is null or index >= len,\n            // then _parent is set to null, and the loop exits\n            _parent = ++index < len && _parents[index] || null;\n        }\n        if (isFunction(_unsubscribe)) {\n            var trial = tryCatch(_unsubscribe).call(this);\n            if (trial === errorObject) {\n                hasErrors = true;\n                errors = errors || (errorObject.e instanceof UnsubscriptionError ?\n                    flattenUnsubscriptionErrors(errorObject.e.errors) : [errorObject.e]);\n            }\n        }\n        if (isArray(_subscriptions)) {\n            index = -1;\n            len = _subscriptions.length;\n            while (++index < len) {\n                var sub = _subscriptions[index];\n                if (isObject(sub)) {\n                    var trial = tryCatch(sub.unsubscribe).call(sub);\n                    if (trial === errorObject) {\n                        hasErrors = true;\n                        errors = errors || [];\n                        var err = errorObject.e;\n                        if (err instanceof UnsubscriptionError) {\n                            errors = errors.concat(flattenUnsubscriptionErrors(err.errors));\n                        }\n                        else {\n                            errors.push(err);\n                        }\n                    }\n                }\n            }\n        }\n        if (hasErrors) {\n            throw new UnsubscriptionError(errors);\n        }\n    };\n    /**\n     * Adds a tear down to be called during the unsubscribe() of this\n     * Subscription.\n     *\n     * If the tear down being added is a subscription that is already\n     * unsubscribed, is the same reference `add` is being called on, or is\n     * `Subscription.EMPTY`, it will not be added.\n     *\n     * If this subscription is already in an `closed` state, the passed\n     * tear down logic will be executed immediately.\n     *\n     * @param {TeardownLogic} teardown The additional logic to execute on\n     * teardown.\n     * @return {Subscription} Returns the Subscription used or created to be\n     * added to the inner subscriptions list. This Subscription can be used with\n     * `remove()` to remove the passed teardown logic from the inner subscriptions\n     * list.\n     */\n    Subscription.prototype.add = function (teardown) {\n        if (!teardown || (teardown === Subscription.EMPTY)) {\n            return Subscription.EMPTY;\n        }\n        if (teardown === this) {\n            return this;\n        }\n        var subscription = teardown;\n        switch (typeof teardown) {\n            case 'function':\n                subscription = new Subscription(teardown);\n            case 'object':\n                if (subscription.closed || typeof subscription.unsubscribe !== 'function') {\n                    return subscription;\n                }\n                else if (this.closed) {\n                    subscription.unsubscribe();\n                    return subscription;\n                }\n                else if (typeof subscription._addParent !== 'function' /* quack quack */) {\n                    var tmp = subscription;\n                    subscription = new Subscription();\n                    subscription._subscriptions = [tmp];\n                }\n                break;\n            default:\n                throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n        }\n        var subscriptions = this._subscriptions || (this._subscriptions = []);\n        subscriptions.push(subscription);\n        subscription._addParent(this);\n        return subscription;\n    };\n    /**\n     * Removes a Subscription from the internal list of subscriptions that will\n     * unsubscribe during the unsubscribe process of this Subscription.\n     * @param {Subscription} subscription The subscription to remove.\n     * @return {void}\n     */\n    Subscription.prototype.remove = function (subscription) {\n        var subscriptions = this._subscriptions;\n        if (subscriptions) {\n            var subscriptionIndex = subscriptions.indexOf(subscription);\n            if (subscriptionIndex !== -1) {\n                subscriptions.splice(subscriptionIndex, 1);\n            }\n        }\n    };\n    /** @internal */\n    Subscription.prototype._addParent = function (parent) {\n        var _a = this, _parent = _a._parent, _parents = _a._parents;\n        if (!_parent || _parent === parent) {\n            // If we don't have a parent, or the new parent is the same as the\n            // current parent, then set this._parent to the new parent.\n            this._parent = parent;\n        }\n        else if (!_parents) {\n            // If there's already one parent, but not multiple, allocate an Array to\n            // store the rest of the parent Subscriptions.\n            this._parents = [parent];\n        }\n        else if (_parents.indexOf(parent) === -1) {\n            // Only add the new parent to the _parents list if it's not already there.\n            _parents.push(parent);\n        }\n    };\n    Subscription.EMPTY = (function (empty) {\n        empty.closed = true;\n        return empty;\n    }(new Subscription()));\n    return Subscription;\n}());\nexport { Subscription };\nfunction flattenUnsubscriptionErrors(errors) {\n    return errors.reduce(function (errs, err) { return errs.concat((err instanceof UnsubscriptionError) ? err.errors : err); }, []);\n}\n//# sourceMappingURL=Subscription.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var rxSubscriber = (typeof Symbol === 'function' && typeof Symbol.for === 'function')\n    ? /*@__PURE__*/ Symbol.for('rxSubscriber')\n    : '@@rxSubscriber';\n/**\n * @deprecated use rxSubscriber instead\n */\nexport var $$rxSubscriber = rxSubscriber;\n//# sourceMappingURL=rxSubscriber.js.map\n","/** PURE_IMPORTS_START tslib,._util_isFunction,._Observer,._Subscription,.._internal_symbol_rxSubscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { empty as emptyObserver } from './Observer';\nimport { Subscription } from './Subscription';\nimport { rxSubscriber as rxSubscriberSymbol } from '../internal/symbol/rxSubscriber';\n/**\n * Implements the {@link Observer} interface and extends the\n * {@link Subscription} class. While the {@link Observer} is the public API for\n * consuming the values of an {@link Observable}, all Observers get converted to\n * a Subscriber, in order to provide Subscription-like capabilities such as\n * `unsubscribe`. Subscriber is a common type in RxJS, and crucial for\n * implementing operators, but it is rarely used as a public API.\n *\n * @class Subscriber<T>\n */\nvar Subscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(Subscriber, _super);\n    /**\n     * @param {Observer|function(value: T): void} [destinationOrNext] A partially\n     * defined Observer or a `next` callback function.\n     * @param {function(e: ?any): void} [error] The `error` callback of an\n     * Observer.\n     * @param {function(): void} [complete] The `complete` callback of an\n     * Observer.\n     */\n    function Subscriber(destinationOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this.isStopped = false;\n        switch (arguments.length) {\n            case 0:\n                _this.destination = emptyObserver;\n                break;\n            case 1:\n                if (!destinationOrNext) {\n                    _this.destination = emptyObserver;\n                    break;\n                }\n                if (typeof destinationOrNext === 'object') {\n                    if (destinationOrNext instanceof Subscriber) {\n                        _this.destination = destinationOrNext;\n                        _this.destination.add(_this);\n                    }\n                    else {\n                        _this.destination = new SafeSubscriber(destinationOrNext);\n                    }\n                    break;\n                }\n            default:\n                _this.destination = new SafeSubscriber(destinationOrNext, error, complete);\n                break;\n        }\n        return _this;\n    }\n    Subscriber.prototype[rxSubscriberSymbol] = function () { return this; };\n    /**\n     * A static factory for a Subscriber, given a (potentially partial) definition\n     * of an Observer.\n     * @param {function(x: ?T): void} [next] The `next` callback of an Observer.\n     * @param {function(e: ?any): void} [error] The `error` callback of an\n     * Observer.\n     * @param {function(): void} [complete] The `complete` callback of an\n     * Observer.\n     * @return {Subscriber<T>} A Subscriber wrapping the (partially defined)\n     * Observer represented by the given arguments.\n     */\n    Subscriber.create = function (next, error, complete) {\n        var subscriber = new Subscriber(next, error, complete);\n        return subscriber;\n    };\n    /**\n     * The {@link Observer} callback to receive notifications of type `next` from\n     * the Observable, with a value. The Observable may call this method 0 or more\n     * times.\n     * @param {T} [value] The `next` value.\n     * @return {void}\n     */\n    Subscriber.prototype.next = function (value) {\n        if (!this.isStopped) {\n            this._next(value);\n        }\n    };\n    /**\n     * The {@link Observer} callback to receive notifications of type `error` from\n     * the Observable, with an attached {@link Error}. Notifies the Observer that\n     * the Observable has experienced an error condition.\n     * @param {any} [err] The `error` exception.\n     * @return {void}\n     */\n    Subscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    /**\n     * The {@link Observer} callback to receive a valueless notification of type\n     * `complete` from the Observable. Notifies the Observer that the Observable\n     * has finished sending push-based notifications.\n     * @return {void}\n     */\n    Subscriber.prototype.complete = function () {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.isStopped = true;\n        _super.prototype.unsubscribe.call(this);\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        this.destination.error(err);\n        this.unsubscribe();\n    };\n    Subscriber.prototype._complete = function () {\n        this.destination.complete();\n        this.unsubscribe();\n    };\n    Subscriber.prototype._unsubscribeAndRecycle = function () {\n        var _a = this, _parent = _a._parent, _parents = _a._parents;\n        this._parent = null;\n        this._parents = null;\n        this.unsubscribe();\n        this.closed = false;\n        this.isStopped = false;\n        this._parent = _parent;\n        this._parents = _parents;\n        return this;\n    };\n    return Subscriber;\n}(Subscription));\nexport { Subscriber };\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SafeSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SafeSubscriber, _super);\n    function SafeSubscriber(observerOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        var next;\n        var context = _this;\n        if (isFunction(observerOrNext)) {\n            next = observerOrNext;\n        }\n        else if (observerOrNext) {\n            next = observerOrNext.next;\n            error = observerOrNext.error;\n            complete = observerOrNext.complete;\n            if (observerOrNext !== emptyObserver) {\n                context = Object.create(observerOrNext);\n                if (isFunction(context.unsubscribe)) {\n                    _this.add(context.unsubscribe.bind(context));\n                }\n                context.unsubscribe = _this.unsubscribe.bind(_this);\n            }\n        }\n        _this._context = context;\n        _this._next = next;\n        _this._error = error;\n        _this._complete = complete;\n        return _this;\n    }\n    SafeSubscriber.prototype.next = function (value) {\n        if (!this.isStopped && this._next) {\n            try {\n                this._next.call(this._context, value);\n            }\n            catch (err) {\n                this._hostReportError(err);\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            if (this._error) {\n                try {\n                    this._error.call(this._context, err);\n                }\n                catch (err) {\n                    this._hostReportError(err);\n                }\n            }\n            else {\n                this._hostReportError(err);\n            }\n            this.unsubscribe();\n        }\n    };\n    SafeSubscriber.prototype.complete = function () {\n        if (!this.isStopped) {\n            if (this._complete) {\n                try {\n                    this._complete.call(this._context);\n                }\n                catch (err) {\n                    this._hostReportError(err);\n                }\n            }\n            this.unsubscribe();\n        }\n    };\n    SafeSubscriber.prototype._unsubscribe = function () {\n        this._context = null;\n    };\n    SafeSubscriber.prototype._hostReportError = function (err) {\n        setTimeout(function () { throw err; });\n    };\n    return SafeSubscriber;\n}(Subscriber));\n//# sourceMappingURL=Subscriber.js.map\n","/** PURE_IMPORTS_START tslib,._Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from './Subscriber';\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar OuterSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(OuterSubscriber, _super);\n    function OuterSubscriber() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    OuterSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.destination.next(innerValue);\n    };\n    OuterSubscriber.prototype.notifyError = function (error, innerSub) {\n        this.destination.error(error);\n    };\n    OuterSubscriber.prototype.notifyComplete = function (innerSub) {\n        this.destination.complete();\n    };\n    return OuterSubscriber;\n}(Subscriber));\nexport { OuterSubscriber };\n//# sourceMappingURL=OuterSubscriber.js.map\n","/** PURE_IMPORTS_START tslib,._Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from './Subscriber';\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @internal\n * @ignore\n * @extends {Ignored}\n */\nvar InnerSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(InnerSubscriber, _super);\n    function InnerSubscriber(parent, outerValue, outerIndex) {\n        var _this = _super.call(this) || this;\n        _this.parent = parent;\n        _this.outerValue = outerValue;\n        _this.outerIndex = outerIndex;\n        _this.index = 0;\n        return _this;\n    }\n    InnerSubscriber.prototype._next = function (value) {\n        this.parent.notifyNext(this.outerValue, value, this.outerIndex, this.index++, this);\n    };\n    InnerSubscriber.prototype._error = function (error) {\n        this.parent.notifyError(error, this);\n        this.unsubscribe();\n    };\n    InnerSubscriber.prototype._complete = function () {\n        this.parent.notifyComplete(this);\n        this.unsubscribe();\n    };\n    return InnerSubscriber;\n}(Subscriber));\nexport { InnerSubscriber };\n//# sourceMappingURL=InnerSubscriber.js.map\n","/** PURE_IMPORTS_START .._Subscriber,.._symbol_rxSubscriber,.._Observer PURE_IMPORTS_END */\nimport { Subscriber } from '../Subscriber';\nimport { rxSubscriber as rxSubscriberSymbol } from '../symbol/rxSubscriber';\nimport { empty as emptyObserver } from '../Observer';\nexport function toSubscriber(nextOrObserver, error, complete) {\n    if (nextOrObserver) {\n        if (nextOrObserver instanceof Subscriber) {\n            return nextOrObserver;\n        }\n        if (nextOrObserver[rxSubscriberSymbol]) {\n            return nextOrObserver[rxSubscriberSymbol]();\n        }\n    }\n    if (!nextOrObserver && !error && !complete) {\n        return new Subscriber(emptyObserver);\n    }\n    return new Subscriber(nextOrObserver, error, complete);\n}\n//# sourceMappingURL=toSubscriber.js.map\n","/** Symbol.observable or a string \"@@observable\". Used for interop */\n/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var observable = typeof Symbol === 'function' && Symbol.observable || '@@observable';\n//# sourceMappingURL=observable.js.map\n","/* tslint:disable:no-empty */\n/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function noop() { }\n//# sourceMappingURL=noop.js.map\n","/** PURE_IMPORTS_START ._noop PURE_IMPORTS_END */\nimport { noop } from './noop';\n/* tslint:enable:max-line-length */\nexport function pipe() {\n    var fns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fns[_i] = arguments[_i];\n    }\n    return pipeFromArray(fns);\n}\n/* @internal */\nexport function pipeFromArray(fns) {\n    if (!fns) {\n        return noop;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n    };\n}\n//# sourceMappingURL=pipe.js.map\n","/**\n * The global configuration object for RxJS, used to configure things\n * like what Promise contructor should used to create Promises\n */\n/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var config = {\n    /**\n     * The promise constructor used by default for methods such as\n     * {@link toPromise} and {@link forEach}\n     */\n    Promise: Promise\n};\n//# sourceMappingURL=config.js.map\n","/** PURE_IMPORTS_START ._util_toSubscriber,.._internal_symbol_observable,._util_pipe,._config PURE_IMPORTS_END */\nimport { toSubscriber } from './util/toSubscriber';\nimport { observable as Symbol_observable } from '../internal/symbol/observable';\nimport { pipeFromArray } from './util/pipe';\nimport { config } from './config';\n/**\n * A representation of any set of values over any amount of time. This is the most basic building block\n * of RxJS.\n *\n * @class Observable<T>\n */\nvar Observable = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    /**\n     * @constructor\n     * @param {Function} subscribe the function that is called when the Observable is\n     * initially subscribed to. This function is given a Subscriber, to which new values\n     * can be `next`ed, or an `error` method can be called to raise an error, or\n     * `complete` can be called to notify of a successful completion.\n     */\n    function Observable(subscribe) {\n        /** @internal */\n        this._isScalar = false;\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    /**\n     * Creates a new Observable, with this Observable as the source, and the passed\n     * operator defined as the new observable's operator.\n     * @method lift\n     * @param {Operator} operator the operator defining the operation to take on the observable\n     * @return {Observable} a new observable with the Operator applied\n     */\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    /**\n     * Invokes an execution of an Observable and registers Observer handlers for notifications it will emit.\n     *\n     * <span class=\"informal\">Use it when you have all these Observables, but still nothing is happening.</span>\n     *\n     * `subscribe` is not a regular operator, but a method that calls Observable's internal `subscribe` function. It\n     * might be for example a function that you passed to a {@link create} static factory, but most of the time it is\n     * a library implementation, which defines what and when will be emitted by an Observable. This means that calling\n     * `subscribe` is actually the moment when Observable starts its work, not when it is created, as it is often\n     * thought.\n     *\n     * Apart from starting the execution of an Observable, this method allows you to listen for values\n     * that an Observable emits, as well as for when it completes or errors. You can achieve this in two\n     * following ways.\n     *\n     * The first way is creating an object that implements {@link Observer} interface. It should have methods\n     * defined by that interface, but note that it should be just a regular JavaScript object, which you can create\n     * yourself in any way you want (ES6 class, classic function constructor, object literal etc.). In particular do\n     * not attempt to use any RxJS implementation details to create Observers - you don't need them. Remember also\n     * that your object does not have to implement all methods. If you find yourself creating a method that doesn't\n     * do anything, you can simply omit it. Note however, that if `error` method is not provided, all errors will\n     * be left uncaught.\n     *\n     * The second way is to give up on Observer object altogether and simply provide callback functions in place of its methods.\n     * This means you can provide three functions as arguments to `subscribe`, where first function is equivalent\n     * of a `next` method, second of an `error` method and third of a `complete` method. Just as in case of Observer,\n     * if you do not need to listen for something, you can omit a function, preferably by passing `undefined` or `null`,\n     * since `subscribe` recognizes these functions by where they were placed in function call. When it comes\n     * to `error` function, just as before, if not provided, errors emitted by an Observable will be thrown.\n     *\n     * Whatever style of calling `subscribe` you use, in both cases it returns a Subscription object.\n     * This object allows you to call `unsubscribe` on it, which in turn will stop work that an Observable does and will clean\n     * up all resources that an Observable used. Note that cancelling a subscription will not call `complete` callback\n     * provided to `subscribe` function, which is reserved for a regular completion signal that comes from an Observable.\n     *\n     * Remember that callbacks provided to `subscribe` are not guaranteed to be called asynchronously.\n     * It is an Observable itself that decides when these functions will be called. For example {@link of}\n     * by default emits all its values synchronously. Always check documentation for how given Observable\n     * will behave when subscribed and if its default behavior can be modified with a {@link Scheduler}.\n     *\n     * @example <caption>Subscribe with an Observer</caption>\n     * const sumObserver = {\n     *   sum: 0,\n     *   next(value) {\n     *     console.log('Adding: ' + value);\n     *     this.sum = this.sum + value;\n     *   },\n     *   error() { // We actually could just remove this method,\n     *   },        // since we do not really care about errors right now.\n     *   complete() {\n     *     console.log('Sum equals: ' + this.sum);\n     *   }\n     * };\n     *\n     * Rx.Observable.of(1, 2, 3) // Synchronously emits 1, 2, 3 and then completes.\n     * .subscribe(sumObserver);\n     *\n     * // Logs:\n     * // \"Adding: 1\"\n     * // \"Adding: 2\"\n     * // \"Adding: 3\"\n     * // \"Sum equals: 6\"\n     *\n     *\n     * @example <caption>Subscribe with functions</caption>\n     * let sum = 0;\n     *\n     * Rx.Observable.of(1, 2, 3)\n     * .subscribe(\n     *   function(value) {\n     *     console.log('Adding: ' + value);\n     *     sum = sum + value;\n     *   },\n     *   undefined,\n     *   function() {\n     *     console.log('Sum equals: ' + sum);\n     *   }\n     * );\n     *\n     * // Logs:\n     * // \"Adding: 1\"\n     * // \"Adding: 2\"\n     * // \"Adding: 3\"\n     * // \"Sum equals: 6\"\n     *\n     *\n     * @example <caption>Cancel a subscription</caption>\n     * const subscription = Rx.Observable.interval(1000).subscribe(\n     *   num => console.log(num),\n     *   undefined,\n     *   () => console.log('completed!') // Will not be called, even\n     * );                                // when cancelling subscription\n     *\n     *\n     * setTimeout(() => {\n     *   subscription.unsubscribe();\n     *   console.log('unsubscribed!');\n     * }, 2500);\n     *\n     * // Logs:\n     * // 0 after 1s\n     * // 1 after 2s\n     * // \"unsubscribed!\" after 2.5s\n     *\n     *\n     * @param {Observer|Function} observerOrNext (optional) Either an observer with methods to be called,\n     *  or the first of three possible handlers, which is the handler for each value emitted from the subscribed\n     *  Observable.\n     * @param {Function} error (optional) A handler for a terminal event resulting from an error. If no error handler is provided,\n     *  the error will be thrown as unhandled.\n     * @param {Function} complete (optional) A handler for a terminal event resulting from successful completion.\n     * @return {ISubscription} a subscription reference to the registered handlers\n     * @method subscribe\n     */\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var operator = this.operator;\n        var sink = toSubscriber(observerOrNext, error, complete);\n        if (operator) {\n            operator.call(sink, this.source);\n        }\n        else {\n            sink.add(this.source ? this._subscribe(sink) : this._trySubscribe(sink));\n        }\n        return sink;\n    };\n    Observable.prototype._trySubscribe = function (sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            sink.error(err);\n        }\n    };\n    /**\n     * @method forEach\n     * @param {Function} next a handler for each value emitted by the observable\n     * @param {PromiseConstructor} [promiseCtor] a constructor function used to instantiate the Promise\n     * @return {Promise} a promise that either resolves on observable completion or\n     *  rejects with the handled error\n     */\n    Observable.prototype.forEach = function (next, promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            // Must be declared in a separate statement to avoid a RefernceError when\n            // accessing subscription below in the closure due to Temporal Dead Zone.\n            var subscription;\n            subscription = _this.subscribe(function (value) {\n                try {\n                    next(value);\n                }\n                catch (err) {\n                    reject(err);\n                    if (subscription) {\n                        subscription.unsubscribe();\n                    }\n                }\n            }, reject, resolve);\n        });\n    };\n    /** @internal */\n    Observable.prototype._subscribe = function (subscriber) {\n        return this.source.subscribe(subscriber);\n    };\n    /**\n     * An interop point defined by the es7-observable spec https://github.com/zenparsing/es-observable\n     * @method Symbol.observable\n     * @return {Observable} this instance of the observable\n     */\n    Observable.prototype[Symbol_observable] = function () {\n        return this;\n    };\n    /* tslint:enable:max-line-length */\n    /**\n     * Used to stitch together functional operators into a chain.\n     * @method pipe\n     * @return {Observable} the Observable result of all of the operators having\n     * been called in the order they were passed in.\n     *\n     * @example\n     *\n     * import { map, filter, scan } from 'rxjs/internal/operators';\n     *\n     * Rx.Observable.interval(1000)\n     *   .pipe(\n     *     filter(x => x % 2 === 0),\n     *     map(x => x + x),\n     *     scan((acc, x) => acc + x)\n     *   )\n     *   .subscribe(x => console.log(x))\n     */\n    Observable.prototype.pipe = function () {\n        var operations = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            operations[_i] = arguments[_i];\n        }\n        if (operations.length === 0) {\n            return this;\n        }\n        return pipeFromArray(operations)(this);\n    };\n    /* tslint:enable:max-line-length */\n    Observable.prototype.toPromise = function (promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var value;\n            _this.subscribe(function (x) { return value = x; }, function (err) { return reject(err); }, function () { return resolve(value); });\n        });\n    };\n    // HACK: Since TypeScript inherits static properties too, we have to\n    // fight against TypeScript here so Subject can have a different static create signature\n    /**\n     * Creates a new cold Observable by calling the Observable constructor\n     * @static true\n     * @owner Observable\n     * @method create\n     * @param {Function} subscribe? the subscriber function to be passed to the Observable constructor\n     * @return {Observable} a new cold observable\n     */\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\nexport { Observable };\n/**\n * Decides between a passed promise constructor from consuming code,\n * A default configured promise constructor, and the native promise\n * constructor and returns it. If nothing can be found, it will throw\n * an error.\n * @param promiseCtor The optional promise constructor to passed by consuming code\n */\nfunction getPromiseCtor(promiseCtor) {\n    if (!promiseCtor) {\n        promiseCtor = config.Promise || Promise;\n    }\n    if (!promiseCtor) {\n        throw new Error('no Promise impl found');\n    }\n    return promiseCtor;\n}\n//# sourceMappingURL=Observable.js.map\n","/**\n * Subscribes to an ArrayLike with a subscriber\n * @param array The array or array-like to subscribe to\n * @param subscriber The subscriber to subscribe with.\n */\n/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var subscribeToArray = function (array) {\n    return function (subscriber) {\n        for (var i = 0, len = array.length; i < len && !subscriber.closed; i++) {\n            subscriber.next(array[i]);\n        }\n        if (!subscriber.closed) {\n            subscriber.complete();\n        }\n    };\n};\n//# sourceMappingURL=subscribeToArray.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var subscribeToPromise = function (promise) {\n    return function (subscriber) {\n        promise.then(function (value) {\n            if (!subscriber.closed) {\n                subscriber.next(value);\n                subscriber.complete();\n            }\n        }, function (err) { return subscriber.error(err); })\n            .then(null, function (err) {\n            // Escaping the Promise trap: globally throw unhandled errors\n            setTimeout(function () { throw err; });\n        });\n        return subscriber;\n    };\n};\n//# sourceMappingURL=subscribeToPromise.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function getSymbolIterator() {\n    if (typeof Symbol !== 'function' || !Symbol.iterator) {\n        return '@@iterator';\n    }\n    return Symbol.iterator;\n}\nexport var iterator = /*@__PURE__*/ getSymbolIterator();\n/**\n * @deprecated use {@link iterator} instead\n */\nexport var $$iterator = iterator;\n//# sourceMappingURL=iterator.js.map\n","/** PURE_IMPORTS_START .._symbol_iterator PURE_IMPORTS_END */\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nexport var subscribeToIterable = function (iterable) {\n    return function (subscriber) {\n        var iterator = iterable[Symbol_iterator]();\n        do {\n            var item = iterator.next();\n            if (item.done) {\n                subscriber.complete();\n                break;\n            }\n            subscriber.next(item.value);\n            if (subscriber.closed) {\n                break;\n            }\n        } while (true);\n        // Finalize the iterator if it happens to be a Generator\n        if (typeof iterator.return === 'function') {\n            subscriber.add(function () {\n                if (iterator.return) {\n                    iterator.return();\n                }\n            });\n        }\n        return subscriber;\n    };\n};\n//# sourceMappingURL=subscribeToIterable.js.map\n","/** PURE_IMPORTS_START .._symbol_observable PURE_IMPORTS_END */\nimport { observable as Symbol_observable } from '../symbol/observable';\n/**\n * Subscribes to an object that implements Symbol.observable with the given\n * Subscriber.\n * @param obj An object that implements Symbol.observable\n * @param subscriber The Subscriber to use to subscribe to the observable\n */\nexport var subscribeToObservable = function (obj) {\n    return function (subscriber) {\n        var obs = obj[Symbol_observable]();\n        if (typeof obs.subscribe !== 'function') {\n            // Should be caught by observable subscribe function error handling.\n            throw new TypeError('Provided object does not correctly implement Symbol.observable');\n        }\n        else {\n            return obs.subscribe(subscriber);\n        }\n    };\n};\n//# sourceMappingURL=subscribeToObservable.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var isArrayLike = (function (x) { return x && typeof x.length === 'number'; });\n//# sourceMappingURL=isArrayLike.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function isPromise(value) {\n    return value && typeof value.subscribe !== 'function' && typeof value.then === 'function';\n}\n//# sourceMappingURL=isPromise.js.map\n","/** PURE_IMPORTS_START .._Observable,._subscribeToArray,._subscribeToPromise,._subscribeToIterable,._subscribeToObservable,._isArrayLike,._isPromise,._isObject,.._symbol_iterator,.._symbol_observable PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { subscribeToArray } from './subscribeToArray';\nimport { subscribeToPromise } from './subscribeToPromise';\nimport { subscribeToIterable } from './subscribeToIterable';\nimport { subscribeToObservable } from './subscribeToObservable';\nimport { isArrayLike } from './isArrayLike';\nimport { isPromise } from './isPromise';\nimport { isObject } from './isObject';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { observable as Symbol_observable } from '../symbol/observable';\nexport var subscribeTo = function (result) {\n    if (result instanceof Observable) {\n        return function (subscriber) {\n            if (result._isScalar) {\n                subscriber.next(result.value);\n                subscriber.complete();\n                return undefined;\n            }\n            else {\n                return result.subscribe(subscriber);\n            }\n        };\n    }\n    else if (isArrayLike(result)) {\n        return subscribeToArray(result);\n    }\n    else if (isPromise(result)) {\n        return subscribeToPromise(result);\n    }\n    else if (result && typeof result[Symbol_iterator] === 'function') {\n        return subscribeToIterable(result);\n    }\n    else if (result && typeof result[Symbol_observable] === 'function') {\n        return subscribeToObservable(result);\n    }\n    else {\n        var value = isObject(result) ? 'an invalid object' : \"'\" + result + \"'\";\n        var msg = \"You provided \" + value + \" where a stream was expected.\"\n            + ' You can provide an Observable, Promise, Array, or Iterable.';\n        throw new TypeError(msg);\n    }\n};\n//# sourceMappingURL=subscribeTo.js.map\n","/** PURE_IMPORTS_START .._InnerSubscriber,._subscribeTo PURE_IMPORTS_END */\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeTo } from './subscribeTo';\nexport function subscribeToResult(outerSubscriber, result, outerValue, outerIndex) {\n    var destination = new InnerSubscriber(outerSubscriber, outerValue, outerIndex);\n    return subscribeTo(result)(destination);\n}\n//# sourceMappingURL=subscribeToResult.js.map\n","/** PURE_IMPORTS_START tslib,.._util_tryCatch,.._util_errorObject,.._OuterSubscriber,.._util_subscribeToResult PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { tryCatch } from '../util/tryCatch';\nimport { errorObject } from '../util/errorObject';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\n/**\n * Ignores source values for a duration determined by another Observable, then\n * emits the most recent value from the source Observable, then repeats this\n * process.\n *\n * <span class=\"informal\">It's like {@link auditTime}, but the silencing\n * duration is determined by a second Observable.</span>\n *\n * <img src=\"./img/audit.png\" width=\"100%\">\n *\n * `audit` is similar to `throttle`, but emits the last value from the silenced\n * time window, instead of the first value. `audit` emits the most recent value\n * from the source Observable on the output Observable as soon as its internal\n * timer becomes disabled, and ignores source values while the timer is enabled.\n * Initially, the timer is disabled. As soon as the first source value arrives,\n * the timer is enabled by calling the `durationSelector` function with the\n * source value, which returns the \"duration\" Observable. When the duration\n * Observable emits a value or completes, the timer is disabled, then the most\n * recent source value is emitted on the output Observable, and this process\n * repeats for the next source value.\n *\n * @example <caption>Emit clicks at a rate of at most one click per second</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.audit(ev => Rx.Observable.interval(1000));\n * result.subscribe(x => console.log(x));\n *\n * @see {@link auditTime}\n * @see {@link debounce}\n * @see {@link delayWhen}\n * @see {@link sample}\n * @see {@link throttle}\n *\n * @param {function(value: T): SubscribableOrPromise} durationSelector A function\n * that receives a value from the source Observable, for computing the silencing\n * duration, returned as an Observable or a Promise.\n * @return {Observable<T>} An Observable that performs rate-limiting of\n * emissions from the source Observable.\n * @method audit\n * @owner Observable\n */\nexport function audit(durationSelector) {\n    return function auditOperatorFunction(source) {\n        return source.lift(new AuditOperator(durationSelector));\n    };\n}\nvar AuditOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function AuditOperator(durationSelector) {\n        this.durationSelector = durationSelector;\n    }\n    AuditOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new AuditSubscriber(subscriber, this.durationSelector));\n    };\n    return AuditOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar AuditSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(AuditSubscriber, _super);\n    function AuditSubscriber(destination, durationSelector) {\n        var _this = _super.call(this, destination) || this;\n        _this.durationSelector = durationSelector;\n        _this.hasValue = false;\n        return _this;\n    }\n    AuditSubscriber.prototype._next = function (value) {\n        this.value = value;\n        this.hasValue = true;\n        if (!this.throttled) {\n            var duration = tryCatch(this.durationSelector)(value);\n            if (duration === errorObject) {\n                this.destination.error(errorObject.e);\n            }\n            else {\n                var innerSubscription = subscribeToResult(this, duration);\n                if (innerSubscription.closed) {\n                    this.clearThrottle();\n                }\n                else {\n                    this.add(this.throttled = innerSubscription);\n                }\n            }\n        }\n    };\n    AuditSubscriber.prototype.clearThrottle = function () {\n        var _a = this, value = _a.value, hasValue = _a.hasValue, throttled = _a.throttled;\n        if (throttled) {\n            this.remove(throttled);\n            this.throttled = null;\n            throttled.unsubscribe();\n        }\n        if (hasValue) {\n            this.value = null;\n            this.hasValue = false;\n            this.destination.next(value);\n        }\n    };\n    AuditSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex) {\n        this.clearThrottle();\n    };\n    AuditSubscriber.prototype.notifyComplete = function () {\n        this.clearThrottle();\n    };\n    return AuditSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=audit.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscription PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscription } from '../Subscription';\n/**\n * A unit of work to be executed in a {@link Scheduler}. An action is typically\n * created from within a Scheduler and an RxJS user does not need to concern\n * themselves about creating and manipulating an Action.\n *\n * ```ts\n * class Action<T> extends Subscription {\n *   new (scheduler: Scheduler, work: (state?: T) => void);\n *   schedule(state?: T, delay: number = 0): Subscription;\n * }\n * ```\n *\n * @class Action<T>\n */\nvar Action = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(Action, _super);\n    function Action(scheduler, work) {\n        return _super.call(this) || this;\n    }\n    /**\n     * Schedules this action on its parent Scheduler for execution. May be passed\n     * some context object, `state`. May happen at some point in the future,\n     * according to the `delay` parameter, if specified.\n     * @param {T} [state] Some contextual data that the `work` function uses when\n     * called by the Scheduler.\n     * @param {number} [delay] Time to wait before executing the work, where the\n     * time unit is implicit and defined by the Scheduler.\n     * @return {void}\n     */\n    Action.prototype.schedule = function (state, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        return this;\n    };\n    return Action;\n}(Subscription));\nexport { Action };\n//# sourceMappingURL=Action.js.map\n","/** PURE_IMPORTS_START tslib,._Action PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Action } from './Action';\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar AsyncAction = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(AsyncAction, _super);\n    function AsyncAction(scheduler, work) {\n        var _this = _super.call(this, scheduler, work) || this;\n        _this.scheduler = scheduler;\n        _this.work = work;\n        _this.pending = false;\n        return _this;\n    }\n    AsyncAction.prototype.schedule = function (state, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        if (this.closed) {\n            return this;\n        }\n        // Always replace the current state with the new state.\n        this.state = state;\n        var id = this.id;\n        var scheduler = this.scheduler;\n        //\n        // Important implementation note:\n        //\n        // Actions only execute once by default, unless rescheduled from within the\n        // scheduled callback. This allows us to implement single and repeat\n        // actions via the same code path, without adding API surface area, as well\n        // as mimic traditional recursion but across asynchronous boundaries.\n        //\n        // However, JS runtimes and timers distinguish between intervals achieved by\n        // serial `setTimeout` calls vs. a single `setInterval` call. An interval of\n        // serial `setTimeout` calls can be individually delayed, which delays\n        // scheduling the next `setTimeout`, and so on. `setInterval` attempts to\n        // guarantee the interval callback will be invoked more precisely to the\n        // interval period, regardless of load.\n        //\n        // Therefore, we use `setInterval` to schedule single and repeat actions.\n        // If the action reschedules itself with the same delay, the interval is not\n        // canceled. If the action doesn't reschedule, or reschedules with a\n        // different delay, the interval will be canceled after scheduled callback\n        // execution.\n        //\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, delay);\n        }\n        // Set the pending flag indicating that this action has been scheduled, or\n        // has recursively rescheduled itself.\n        this.pending = true;\n        this.delay = delay;\n        // If this action has already an async Id, don't request a new one.\n        this.id = this.id || this.requestAsyncId(scheduler, this.id, delay);\n        return this;\n    };\n    AsyncAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        return setInterval(scheduler.flush.bind(scheduler, this), delay);\n    };\n    AsyncAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        // If this action is rescheduled with the same delay time, don't clear the interval id.\n        if (delay !== null && this.delay === delay && this.pending === false) {\n            return id;\n        }\n        // Otherwise, if the action's delay time is different from the current delay,\n        // or the action has been rescheduled before it's executed, clear the interval id\n        return clearInterval(id) && undefined || undefined;\n    };\n    /**\n     * Immediately executes this action and the `work` it contains.\n     * @return {any}\n     */\n    AsyncAction.prototype.execute = function (state, delay) {\n        if (this.closed) {\n            return new Error('executing a cancelled action');\n        }\n        this.pending = false;\n        var error = this._execute(state, delay);\n        if (error) {\n            return error;\n        }\n        else if (this.pending === false && this.id != null) {\n            // Dequeue if the action didn't reschedule itself. Don't call\n            // unsubscribe(), because the action could reschedule later.\n            // For example:\n            // ```\n            // scheduler.schedule(function doWork(counter) {\n            //   /* ... I'm a busy worker bee ... */\n            //   var originalAction = this;\n            //   /* wait 100ms before rescheduling the action */\n            //   setTimeout(function () {\n            //     originalAction.schedule(counter + 1);\n            //   }, 100);\n            // }, 1000);\n            // ```\n            this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n        }\n    };\n    AsyncAction.prototype._execute = function (state, delay) {\n        var errored = false;\n        var errorValue = undefined;\n        try {\n            this.work(state);\n        }\n        catch (e) {\n            errored = true;\n            errorValue = !!e && e || new Error(e);\n        }\n        if (errored) {\n            this.unsubscribe();\n            return errorValue;\n        }\n    };\n    AsyncAction.prototype._unsubscribe = function () {\n        var id = this.id;\n        var scheduler = this.scheduler;\n        var actions = scheduler.actions;\n        var index = actions.indexOf(this);\n        this.work = null;\n        this.state = null;\n        this.pending = false;\n        this.scheduler = null;\n        if (index !== -1) {\n            actions.splice(index, 1);\n        }\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, null);\n        }\n        this.delay = null;\n    };\n    return AsyncAction;\n}(Action));\nexport { AsyncAction };\n//# sourceMappingURL=AsyncAction.js.map\n","/**\n * An execution context and a data structure to order tasks and schedule their\n * execution. Provides a notion of (potentially virtual) time, through the\n * `now()` getter method.\n *\n * Each unit of work in a Scheduler is called an {@link Action}.\n *\n * ```ts\n * class Scheduler {\n *   now(): number;\n *   schedule(work, delay?, state?): Subscription;\n * }\n * ```\n *\n * @class Scheduler\n */\nvar Scheduler = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function Scheduler(SchedulerAction, now) {\n        if (now === void 0) {\n            now = Scheduler.now;\n        }\n        this.SchedulerAction = SchedulerAction;\n        this.now = now;\n    }\n    /**\n     * Schedules a function, `work`, for execution. May happen at some point in\n     * the future, according to the `delay` parameter, if specified. May be passed\n     * some context object, `state`, which will be passed to the `work` function.\n     *\n     * The given arguments will be processed an stored as an Action object in a\n     * queue of actions.\n     *\n     * @param {function(state: ?T): ?Subscription} work A function representing a\n     * task, or some unit of work to be executed by the Scheduler.\n     * @param {number} [delay] Time to wait before executing the work, where the\n     * time unit is implicit and defined by the Scheduler itself.\n     * @param {T} [state] Some contextual data that the `work` function uses when\n     * called by the Scheduler.\n     * @return {Subscription} A subscription in order to be able to unsubscribe\n     * the scheduled work.\n     */\n    Scheduler.prototype.schedule = function (work, delay, state) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        return new this.SchedulerAction(this, work).schedule(state, delay);\n    };\n    Scheduler.now = Date.now ? Date.now : function () { return +new Date(); };\n    return Scheduler;\n}());\nexport { Scheduler };\n//# sourceMappingURL=Scheduler.js.map\n","/** PURE_IMPORTS_START tslib,.._Scheduler PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Scheduler } from '../Scheduler';\nvar AsyncScheduler = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(AsyncScheduler, _super);\n    function AsyncScheduler() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.actions = [];\n        /**\n         * A flag to indicate whether the Scheduler is currently executing a batch of\n         * queued actions.\n         * @type {boolean}\n         */\n        _this.active = false;\n        /**\n         * An internal ID used to track the latest asynchronous task such as those\n         * coming from `setTimeout`, `setInterval`, `requestAnimationFrame`, and\n         * others.\n         * @type {any}\n         */\n        _this.scheduled = undefined;\n        return _this;\n    }\n    AsyncScheduler.prototype.flush = function (action) {\n        var actions = this.actions;\n        if (this.active) {\n            actions.push(action);\n            return;\n        }\n        var error;\n        this.active = true;\n        do {\n            if (error = action.execute(action.state, action.delay)) {\n                break;\n            }\n        } while (action = actions.shift()); // exhaust the scheduler queue\n        this.active = false;\n        if (error) {\n            while (action = actions.shift()) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    };\n    return AsyncScheduler;\n}(Scheduler));\nexport { AsyncScheduler };\n//# sourceMappingURL=AsyncScheduler.js.map\n","/** PURE_IMPORTS_START ._AsyncAction,._AsyncScheduler PURE_IMPORTS_END */\nimport { AsyncAction } from './AsyncAction';\nimport { AsyncScheduler } from './AsyncScheduler';\n/**\n *\n * Async Scheduler\n *\n * <span class=\"informal\">Schedule task as if you used setTimeout(task, duration)</span>\n *\n * `async` scheduler schedules tasks asynchronously, by putting them on the JavaScript\n * event loop queue. It is best used to delay tasks in time or to schedule tasks repeating\n * in intervals.\n *\n * If you just want to \"defer\" task, that is to perform it right after currently\n * executing synchronous code ends (commonly achieved by `setTimeout(deferredTask, 0)`),\n * better choice will be the {@link asap} scheduler.\n *\n * @example <caption>Use async scheduler to delay task</caption>\n * const task = () => console.log('it works!');\n *\n * Rx.Scheduler.async.schedule(task, 2000);\n *\n * // After 2 seconds logs:\n * // \"it works!\"\n *\n *\n * @example <caption>Use async scheduler to repeat task in intervals</caption>\n * function task(state) {\n *   console.log(state);\n *   this.schedule(state + 1, 1000); // `this` references currently executing Action,\n *                                   // which we reschedule with new state and delay\n * }\n *\n * Rx.Scheduler.async.schedule(task, 3000, 0);\n *\n * // Logs:\n * // 0 after 3s\n * // 1 after 4s\n * // 2 after 5s\n * // 3 after 6s\n *\n * @static true\n * @name async\n * @owner Scheduler\n */\nexport var async = /*@__PURE__*/ new AsyncScheduler(AsyncAction);\n//# sourceMappingURL=async.js.map\n","/** PURE_IMPORTS_START ._isArray PURE_IMPORTS_END */\nimport { isArray } from './isArray';\nexport function isNumeric(val) {\n    // parseFloat NaNs numeric-cast false positives (null|true|false|\"\")\n    // ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n    // subtraction forces infinities to NaN\n    // adding 1 corrects loss of precision from parseFloat (#15100)\n    return !isArray(val) && (val - parseFloat(val) + 1) >= 0;\n}\n//# sourceMappingURL=isNumeric.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function isScheduler(value) {\n    return value && typeof value.schedule === 'function';\n}\n//# sourceMappingURL=isScheduler.js.map\n","/** PURE_IMPORTS_START .._Observable,.._scheduler_async,.._util_isNumeric,.._util_isScheduler PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { async } from '../scheduler/async';\nimport { isNumeric } from '../util/isNumeric';\nimport { isScheduler } from '../util/isScheduler';\n/**\n * Creates an Observable that starts emitting after an `initialDelay` and\n * emits ever increasing numbers after each `period` of time thereafter.\n *\n * <span class=\"informal\">Its like {@link interval}, but you can specify when\n * should the emissions start.</span>\n *\n * <img src=\"./img/timer.png\" width=\"100%\">\n *\n * `timer` returns an Observable that emits an infinite sequence of ascending\n * integers, with a constant interval of time, `period` of your choosing\n * between those emissions. The first emission happens after the specified\n * `initialDelay`. The initial delay may be a {@link Date}. By default, this\n * operator uses the `async` IScheduler to provide a notion of time, but you\n * may pass any IScheduler to it. If `period` is not specified, the output\n * Observable emits only one value, `0`. Otherwise, it emits an infinite\n * sequence.\n *\n * @example <caption>Emits ascending numbers, one every second (1000ms), starting after 3 seconds</caption>\n * var numbers = Rx.Observable.timer(3000, 1000);\n * numbers.subscribe(x => console.log(x));\n *\n * @example <caption>Emits one number after five seconds</caption>\n * var numbers = Rx.Observable.timer(5000);\n * numbers.subscribe(x => console.log(x));\n *\n * @see {@link interval}\n * @see {@link delay}\n *\n * @param {number|Date} [dueTime] The initial delay time to wait before\n * emitting the first value of `0`.\n * @param {number|SchedulerLike} [periodOrScheduler] The period of time between emissions of the\n * subsequent numbers.\n * @param {SchedulerLike} [scheduler=async] The IScheduler to use for scheduling\n * the emission of values, and providing a notion of \"time\".\n * @return {Observable} An Observable that emits a `0` after the\n * `initialDelay` and ever increasing numbers after each `period` of time\n * thereafter.\n * @static true\n * @name timer\n * @owner Observable\n */\nexport function timer(dueTime, periodOrScheduler, scheduler) {\n    if (dueTime === void 0) {\n        dueTime = 0;\n    }\n    var period = -1;\n    if (isNumeric(periodOrScheduler)) {\n        period = Number(periodOrScheduler) < 1 && 1 || Number(periodOrScheduler);\n    }\n    else if (isScheduler(periodOrScheduler)) {\n        scheduler = periodOrScheduler;\n    }\n    if (!isScheduler(scheduler)) {\n        scheduler = async;\n    }\n    return new Observable(function (subscriber) {\n        var due = isNumeric(dueTime)\n            ? dueTime\n            : (+dueTime - scheduler.now());\n        return scheduler.schedule(dispatch, due, {\n            index: 0, period: period, subscriber: subscriber\n        });\n    });\n}\nfunction dispatch(state) {\n    var index = state.index, period = state.period, subscriber = state.subscriber;\n    subscriber.next(index);\n    if (subscriber.closed) {\n        return;\n    }\n    else if (period === -1) {\n        return subscriber.complete();\n    }\n    state.index = index + 1;\n    this.schedule(state, period);\n}\n//# sourceMappingURL=timer.js.map\n","/** PURE_IMPORTS_START .._scheduler_async,._audit,.._observable_timer PURE_IMPORTS_END */\nimport { async } from '../scheduler/async';\nimport { audit } from './audit';\nimport { timer } from '../observable/timer';\n/**\n * Ignores source values for `duration` milliseconds, then emits the most recent\n * value from the source Observable, then repeats this process.\n *\n * <span class=\"informal\">When it sees a source values, it ignores that plus\n * the next ones for `duration` milliseconds, and then it emits the most recent\n * value from the source.</span>\n *\n * <img src=\"./img/auditTime.png\" width=\"100%\">\n *\n * `auditTime` is similar to `throttleTime`, but emits the last value from the\n * silenced time window, instead of the first value. `auditTime` emits the most\n * recent value from the source Observable on the output Observable as soon as\n * its internal timer becomes disabled, and ignores source values while the\n * timer is enabled. Initially, the timer is disabled. As soon as the first\n * source value arrives, the timer is enabled. After `duration` milliseconds (or\n * the time unit determined internally by the optional `scheduler`) has passed,\n * the timer is disabled, then the most recent source value is emitted on the\n * output Observable, and this process repeats for the next source value.\n * Optionally takes a {@link IScheduler} for managing timers.\n *\n * @example <caption>Emit clicks at a rate of at most one click per second</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.auditTime(1000);\n * result.subscribe(x => console.log(x));\n *\n * @see {@link audit}\n * @see {@link debounceTime}\n * @see {@link delay}\n * @see {@link sampleTime}\n * @see {@link throttleTime}\n *\n * @param {number} duration Time to wait before emitting the most recent source\n * value, measured in milliseconds or the time unit determined internally\n * by the optional `scheduler`.\n * @param {Scheduler} [scheduler=async] The {@link IScheduler} to use for\n * managing the timers that handle the rate-limiting behavior.\n * @return {Observable<T>} An Observable that performs rate-limiting of\n * emissions from the source Observable.\n * @method auditTime\n * @owner Observable\n */\nexport function auditTime(duration, scheduler) {\n    if (scheduler === void 0) {\n        scheduler = async;\n    }\n    return audit(function () { return timer(duration, scheduler); });\n}\n//# sourceMappingURL=auditTime.js.map\n","/** PURE_IMPORTS_START tslib,.._OuterSubscriber,.._util_subscribeToResult PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\n/**\n * Buffers the source Observable values until `closingNotifier` emits.\n *\n * <span class=\"informal\">Collects values from the past as an array, and emits\n * that array only when another Observable emits.</span>\n *\n * <img src=\"./img/buffer.png\" width=\"100%\">\n *\n * Buffers the incoming Observable values until the given `closingNotifier`\n * Observable emits a value, at which point it emits the buffer on the output\n * Observable and starts a new buffer internally, awaiting the next time\n * `closingNotifier` emits.\n *\n * @example <caption>On every click, emit array of most recent interval events</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var interval = Rx.Observable.interval(1000);\n * var buffered = interval.buffer(clicks);\n * buffered.subscribe(x => console.log(x));\n *\n * @see {@link bufferCount}\n * @see {@link bufferTime}\n * @see {@link bufferToggle}\n * @see {@link bufferWhen}\n * @see {@link window}\n *\n * @param {Observable<any>} closingNotifier An Observable that signals the\n * buffer to be emitted on the output Observable.\n * @return {Observable<T[]>} An Observable of buffers, which are arrays of\n * values.\n * @method buffer\n * @owner Observable\n */\nexport function buffer(closingNotifier) {\n    return function bufferOperatorFunction(source) {\n        return source.lift(new BufferOperator(closingNotifier));\n    };\n}\nvar BufferOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function BufferOperator(closingNotifier) {\n        this.closingNotifier = closingNotifier;\n    }\n    BufferOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new BufferSubscriber(subscriber, this.closingNotifier));\n    };\n    return BufferOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar BufferSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(BufferSubscriber, _super);\n    function BufferSubscriber(destination, closingNotifier) {\n        var _this = _super.call(this, destination) || this;\n        _this.buffer = [];\n        _this.add(subscribeToResult(_this, closingNotifier));\n        return _this;\n    }\n    BufferSubscriber.prototype._next = function (value) {\n        this.buffer.push(value);\n    };\n    BufferSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        var buffer = this.buffer;\n        this.buffer = [];\n        this.destination.next(buffer);\n    };\n    return BufferSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=buffer.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\n/**\n * Buffers the source Observable values until the size hits the maximum\n * `bufferSize` given.\n *\n * <span class=\"informal\">Collects values from the past as an array, and emits\n * that array only when its size reaches `bufferSize`.</span>\n *\n * <img src=\"./img/bufferCount.png\" width=\"100%\">\n *\n * Buffers a number of values from the source Observable by `bufferSize` then\n * emits the buffer and clears it, and starts a new buffer each\n * `startBufferEvery` values. If `startBufferEvery` is not provided or is\n * `null`, then new buffers are started immediately at the start of the source\n * and when each buffer closes and is emitted.\n *\n * @example <caption>Emit the last two click events as an array</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var buffered = clicks.bufferCount(2);\n * buffered.subscribe(x => console.log(x));\n *\n * @example <caption>On every click, emit the last two click events as an array</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var buffered = clicks.bufferCount(2, 1);\n * buffered.subscribe(x => console.log(x));\n *\n * @see {@link buffer}\n * @see {@link bufferTime}\n * @see {@link bufferToggle}\n * @see {@link bufferWhen}\n * @see {@link pairwise}\n * @see {@link windowCount}\n *\n * @param {number} bufferSize The maximum size of the buffer emitted.\n * @param {number} [startBufferEvery] Interval at which to start a new buffer.\n * For example if `startBufferEvery` is `2`, then a new buffer will be started\n * on every other value from the source. A new buffer is started at the\n * beginning of the source by default.\n * @return {Observable<T[]>} An Observable of arrays of buffered values.\n * @method bufferCount\n * @owner Observable\n */\nexport function bufferCount(bufferSize, startBufferEvery) {\n    if (startBufferEvery === void 0) {\n        startBufferEvery = null;\n    }\n    return function bufferCountOperatorFunction(source) {\n        return source.lift(new BufferCountOperator(bufferSize, startBufferEvery));\n    };\n}\nvar BufferCountOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function BufferCountOperator(bufferSize, startBufferEvery) {\n        this.bufferSize = bufferSize;\n        this.startBufferEvery = startBufferEvery;\n        if (!startBufferEvery || bufferSize === startBufferEvery) {\n            this.subscriberClass = BufferCountSubscriber;\n        }\n        else {\n            this.subscriberClass = BufferSkipCountSubscriber;\n        }\n    }\n    BufferCountOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new this.subscriberClass(subscriber, this.bufferSize, this.startBufferEvery));\n    };\n    return BufferCountOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar BufferCountSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(BufferCountSubscriber, _super);\n    function BufferCountSubscriber(destination, bufferSize) {\n        var _this = _super.call(this, destination) || this;\n        _this.bufferSize = bufferSize;\n        _this.buffer = [];\n        return _this;\n    }\n    BufferCountSubscriber.prototype._next = function (value) {\n        var buffer = this.buffer;\n        buffer.push(value);\n        if (buffer.length == this.bufferSize) {\n            this.destination.next(buffer);\n            this.buffer = [];\n        }\n    };\n    BufferCountSubscriber.prototype._complete = function () {\n        var buffer = this.buffer;\n        if (buffer.length > 0) {\n            this.destination.next(buffer);\n        }\n        _super.prototype._complete.call(this);\n    };\n    return BufferCountSubscriber;\n}(Subscriber));\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar BufferSkipCountSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(BufferSkipCountSubscriber, _super);\n    function BufferSkipCountSubscriber(destination, bufferSize, startBufferEvery) {\n        var _this = _super.call(this, destination) || this;\n        _this.bufferSize = bufferSize;\n        _this.startBufferEvery = startBufferEvery;\n        _this.buffers = [];\n        _this.count = 0;\n        return _this;\n    }\n    BufferSkipCountSubscriber.prototype._next = function (value) {\n        var _a = this, bufferSize = _a.bufferSize, startBufferEvery = _a.startBufferEvery, buffers = _a.buffers, count = _a.count;\n        this.count++;\n        if (count % startBufferEvery === 0) {\n            buffers.push([]);\n        }\n        for (var i = buffers.length; i--;) {\n            var buffer = buffers[i];\n            buffer.push(value);\n            if (buffer.length === bufferSize) {\n                buffers.splice(i, 1);\n                this.destination.next(buffer);\n            }\n        }\n    };\n    BufferSkipCountSubscriber.prototype._complete = function () {\n        var _a = this, buffers = _a.buffers, destination = _a.destination;\n        while (buffers.length > 0) {\n            var buffer = buffers.shift();\n            if (buffer.length > 0) {\n                destination.next(buffer);\n            }\n        }\n        _super.prototype._complete.call(this);\n    };\n    return BufferSkipCountSubscriber;\n}(Subscriber));\n//# sourceMappingURL=bufferCount.js.map\n","/** PURE_IMPORTS_START tslib,.._scheduler_async,.._Subscriber,.._util_isScheduler PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { async } from '../scheduler/async';\nimport { Subscriber } from '../Subscriber';\nimport { isScheduler } from '../util/isScheduler';\n/* tslint:enable:max-line-length */\n/**\n * Buffers the source Observable values for a specific time period.\n *\n * <span class=\"informal\">Collects values from the past as an array, and emits\n * those arrays periodically in time.</span>\n *\n * <img src=\"./img/bufferTime.png\" width=\"100%\">\n *\n * Buffers values from the source for a specific time duration `bufferTimeSpan`.\n * Unless the optional argument `bufferCreationInterval` is given, it emits and\n * resets the buffer every `bufferTimeSpan` milliseconds. If\n * `bufferCreationInterval` is given, this operator opens the buffer every\n * `bufferCreationInterval` milliseconds and closes (emits and resets) the\n * buffer every `bufferTimeSpan` milliseconds. When the optional argument\n * `maxBufferSize` is specified, the buffer will be closed either after\n * `bufferTimeSpan` milliseconds or when it contains `maxBufferSize` elements.\n *\n * @example <caption>Every second, emit an array of the recent click events</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var buffered = clicks.bufferTime(1000);\n * buffered.subscribe(x => console.log(x));\n *\n * @example <caption>Every 5 seconds, emit the click events from the next 2 seconds</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var buffered = clicks.bufferTime(2000, 5000);\n * buffered.subscribe(x => console.log(x));\n *\n * @see {@link buffer}\n * @see {@link bufferCount}\n * @see {@link bufferToggle}\n * @see {@link bufferWhen}\n * @see {@link windowTime}\n *\n * @param {number} bufferTimeSpan The amount of time to fill each buffer array.\n * @param {number} [bufferCreationInterval] The interval at which to start new\n * buffers.\n * @param {number} [maxBufferSize] The maximum buffer size.\n * @param {Scheduler} [scheduler=async] The scheduler on which to schedule the\n * intervals that determine buffer boundaries.\n * @return {Observable<T[]>} An observable of arrays of buffered values.\n * @method bufferTime\n * @owner Observable\n */\nexport function bufferTime(bufferTimeSpan) {\n    var length = arguments.length;\n    var scheduler = async;\n    if (isScheduler(arguments[arguments.length - 1])) {\n        scheduler = arguments[arguments.length - 1];\n        length--;\n    }\n    var bufferCreationInterval = null;\n    if (length >= 2) {\n        bufferCreationInterval = arguments[1];\n    }\n    var maxBufferSize = Number.POSITIVE_INFINITY;\n    if (length >= 3) {\n        maxBufferSize = arguments[2];\n    }\n    return function bufferTimeOperatorFunction(source) {\n        return source.lift(new BufferTimeOperator(bufferTimeSpan, bufferCreationInterval, maxBufferSize, scheduler));\n    };\n}\nvar BufferTimeOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function BufferTimeOperator(bufferTimeSpan, bufferCreationInterval, maxBufferSize, scheduler) {\n        this.bufferTimeSpan = bufferTimeSpan;\n        this.bufferCreationInterval = bufferCreationInterval;\n        this.maxBufferSize = maxBufferSize;\n        this.scheduler = scheduler;\n    }\n    BufferTimeOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new BufferTimeSubscriber(subscriber, this.bufferTimeSpan, this.bufferCreationInterval, this.maxBufferSize, this.scheduler));\n    };\n    return BufferTimeOperator;\n}());\nvar Context = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function Context() {\n        this.buffer = [];\n    }\n    return Context;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar BufferTimeSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(BufferTimeSubscriber, _super);\n    function BufferTimeSubscriber(destination, bufferTimeSpan, bufferCreationInterval, maxBufferSize, scheduler) {\n        var _this = _super.call(this, destination) || this;\n        _this.bufferTimeSpan = bufferTimeSpan;\n        _this.bufferCreationInterval = bufferCreationInterval;\n        _this.maxBufferSize = maxBufferSize;\n        _this.scheduler = scheduler;\n        _this.contexts = [];\n        var context = _this.openContext();\n        _this.timespanOnly = bufferCreationInterval == null || bufferCreationInterval < 0;\n        if (_this.timespanOnly) {\n            var timeSpanOnlyState = { subscriber: _this, context: context, bufferTimeSpan: bufferTimeSpan };\n            _this.add(context.closeAction = scheduler.schedule(dispatchBufferTimeSpanOnly, bufferTimeSpan, timeSpanOnlyState));\n        }\n        else {\n            var closeState = { subscriber: _this, context: context };\n            var creationState = { bufferTimeSpan: bufferTimeSpan, bufferCreationInterval: bufferCreationInterval, subscriber: _this, scheduler: scheduler };\n            _this.add(context.closeAction = scheduler.schedule(dispatchBufferClose, bufferTimeSpan, closeState));\n            _this.add(scheduler.schedule(dispatchBufferCreation, bufferCreationInterval, creationState));\n        }\n        return _this;\n    }\n    BufferTimeSubscriber.prototype._next = function (value) {\n        var contexts = this.contexts;\n        var len = contexts.length;\n        var filledBufferContext;\n        for (var i = 0; i < len; i++) {\n            var context_1 = contexts[i];\n            var buffer = context_1.buffer;\n            buffer.push(value);\n            if (buffer.length == this.maxBufferSize) {\n                filledBufferContext = context_1;\n            }\n        }\n        if (filledBufferContext) {\n            this.onBufferFull(filledBufferContext);\n        }\n    };\n    BufferTimeSubscriber.prototype._error = function (err) {\n        this.contexts.length = 0;\n        _super.prototype._error.call(this, err);\n    };\n    BufferTimeSubscriber.prototype._complete = function () {\n        var _a = this, contexts = _a.contexts, destination = _a.destination;\n        while (contexts.length > 0) {\n            var context_2 = contexts.shift();\n            destination.next(context_2.buffer);\n        }\n        _super.prototype._complete.call(this);\n    };\n    BufferTimeSubscriber.prototype._unsubscribe = function () {\n        this.contexts = null;\n    };\n    BufferTimeSubscriber.prototype.onBufferFull = function (context) {\n        this.closeContext(context);\n        var closeAction = context.closeAction;\n        closeAction.unsubscribe();\n        this.remove(closeAction);\n        if (!this.closed && this.timespanOnly) {\n            context = this.openContext();\n            var bufferTimeSpan = this.bufferTimeSpan;\n            var timeSpanOnlyState = { subscriber: this, context: context, bufferTimeSpan: bufferTimeSpan };\n            this.add(context.closeAction = this.scheduler.schedule(dispatchBufferTimeSpanOnly, bufferTimeSpan, timeSpanOnlyState));\n        }\n    };\n    BufferTimeSubscriber.prototype.openContext = function () {\n        var context = new Context();\n        this.contexts.push(context);\n        return context;\n    };\n    BufferTimeSubscriber.prototype.closeContext = function (context) {\n        this.destination.next(context.buffer);\n        var contexts = this.contexts;\n        var spliceIndex = contexts ? contexts.indexOf(context) : -1;\n        if (spliceIndex >= 0) {\n            contexts.splice(contexts.indexOf(context), 1);\n        }\n    };\n    return BufferTimeSubscriber;\n}(Subscriber));\nfunction dispatchBufferTimeSpanOnly(state) {\n    var subscriber = state.subscriber;\n    var prevContext = state.context;\n    if (prevContext) {\n        subscriber.closeContext(prevContext);\n    }\n    if (!subscriber.closed) {\n        state.context = subscriber.openContext();\n        state.context.closeAction = this.schedule(state, state.bufferTimeSpan);\n    }\n}\nfunction dispatchBufferCreation(state) {\n    var bufferCreationInterval = state.bufferCreationInterval, bufferTimeSpan = state.bufferTimeSpan, subscriber = state.subscriber, scheduler = state.scheduler;\n    var context = subscriber.openContext();\n    var action = this;\n    if (!subscriber.closed) {\n        subscriber.add(context.closeAction = scheduler.schedule(dispatchBufferClose, bufferTimeSpan, { subscriber: subscriber, context: context }));\n        action.schedule(state, bufferCreationInterval);\n    }\n}\nfunction dispatchBufferClose(arg) {\n    var subscriber = arg.subscriber, context = arg.context;\n    subscriber.closeContext(context);\n}\n//# sourceMappingURL=bufferTime.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscription,.._util_subscribeToResult,.._OuterSubscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscription } from '../Subscription';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { OuterSubscriber } from '../OuterSubscriber';\n/**\n * Buffers the source Observable values starting from an emission from\n * `openings` and ending when the output of `closingSelector` emits.\n *\n * <span class=\"informal\">Collects values from the past as an array. Starts\n * collecting only when `opening` emits, and calls the `closingSelector`\n * function to get an Observable that tells when to close the buffer.</span>\n *\n * <img src=\"./img/bufferToggle.png\" width=\"100%\">\n *\n * Buffers values from the source by opening the buffer via signals from an\n * Observable provided to `openings`, and closing and sending the buffers when\n * a Subscribable or Promise returned by the `closingSelector` function emits.\n *\n * @example <caption>Every other second, emit the click events from the next 500ms</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var openings = Rx.Observable.interval(1000);\n * var buffered = clicks.bufferToggle(openings, i =>\n *   i % 2 ? Rx.Observable.interval(500) : Rx.Observable.empty()\n * );\n * buffered.subscribe(x => console.log(x));\n *\n * @see {@link buffer}\n * @see {@link bufferCount}\n * @see {@link bufferTime}\n * @see {@link bufferWhen}\n * @see {@link windowToggle}\n *\n * @param {SubscribableOrPromise<O>} openings A Subscribable or Promise of notifications to start new\n * buffers.\n * @param {function(value: O): SubscribableOrPromise} closingSelector A function that takes\n * the value emitted by the `openings` observable and returns a Subscribable or Promise,\n * which, when it emits, signals that the associated buffer should be emitted\n * and cleared.\n * @return {Observable<T[]>} An observable of arrays of buffered values.\n * @method bufferToggle\n * @owner Observable\n */\nexport function bufferToggle(openings, closingSelector) {\n    return function bufferToggleOperatorFunction(source) {\n        return source.lift(new BufferToggleOperator(openings, closingSelector));\n    };\n}\nvar BufferToggleOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function BufferToggleOperator(openings, closingSelector) {\n        this.openings = openings;\n        this.closingSelector = closingSelector;\n    }\n    BufferToggleOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new BufferToggleSubscriber(subscriber, this.openings, this.closingSelector));\n    };\n    return BufferToggleOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar BufferToggleSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(BufferToggleSubscriber, _super);\n    function BufferToggleSubscriber(destination, openings, closingSelector) {\n        var _this = _super.call(this, destination) || this;\n        _this.openings = openings;\n        _this.closingSelector = closingSelector;\n        _this.contexts = [];\n        _this.add(subscribeToResult(_this, openings));\n        return _this;\n    }\n    BufferToggleSubscriber.prototype._next = function (value) {\n        var contexts = this.contexts;\n        var len = contexts.length;\n        for (var i = 0; i < len; i++) {\n            contexts[i].buffer.push(value);\n        }\n    };\n    BufferToggleSubscriber.prototype._error = function (err) {\n        var contexts = this.contexts;\n        while (contexts.length > 0) {\n            var context_1 = contexts.shift();\n            context_1.subscription.unsubscribe();\n            context_1.buffer = null;\n            context_1.subscription = null;\n        }\n        this.contexts = null;\n        _super.prototype._error.call(this, err);\n    };\n    BufferToggleSubscriber.prototype._complete = function () {\n        var contexts = this.contexts;\n        while (contexts.length > 0) {\n            var context_2 = contexts.shift();\n            this.destination.next(context_2.buffer);\n            context_2.subscription.unsubscribe();\n            context_2.buffer = null;\n            context_2.subscription = null;\n        }\n        this.contexts = null;\n        _super.prototype._complete.call(this);\n    };\n    BufferToggleSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        outerValue ? this.closeBuffer(outerValue) : this.openBuffer(innerValue);\n    };\n    BufferToggleSubscriber.prototype.notifyComplete = function (innerSub) {\n        this.closeBuffer(innerSub.context);\n    };\n    BufferToggleSubscriber.prototype.openBuffer = function (value) {\n        try {\n            var closingSelector = this.closingSelector;\n            var closingNotifier = closingSelector.call(this, value);\n            if (closingNotifier) {\n                this.trySubscribe(closingNotifier);\n            }\n        }\n        catch (err) {\n            this._error(err);\n        }\n    };\n    BufferToggleSubscriber.prototype.closeBuffer = function (context) {\n        var contexts = this.contexts;\n        if (contexts && context) {\n            var buffer = context.buffer, subscription = context.subscription;\n            this.destination.next(buffer);\n            contexts.splice(contexts.indexOf(context), 1);\n            this.remove(subscription);\n            subscription.unsubscribe();\n        }\n    };\n    BufferToggleSubscriber.prototype.trySubscribe = function (closingNotifier) {\n        var contexts = this.contexts;\n        var buffer = [];\n        var subscription = new Subscription();\n        var context = { buffer: buffer, subscription: subscription };\n        contexts.push(context);\n        var innerSubscription = subscribeToResult(this, closingNotifier, context);\n        if (!innerSubscription || innerSubscription.closed) {\n            this.closeBuffer(context);\n        }\n        else {\n            innerSubscription.context = context;\n            this.add(innerSubscription);\n            subscription.add(innerSubscription);\n        }\n    };\n    return BufferToggleSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=bufferToggle.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscription,.._util_tryCatch,.._util_errorObject,.._OuterSubscriber,.._util_subscribeToResult PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscription } from '../Subscription';\nimport { tryCatch } from '../util/tryCatch';\nimport { errorObject } from '../util/errorObject';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\n/**\n * Buffers the source Observable values, using a factory function of closing\n * Observables to determine when to close, emit, and reset the buffer.\n *\n * <span class=\"informal\">Collects values from the past as an array. When it\n * starts collecting values, it calls a function that returns an Observable that\n * tells when to close the buffer and restart collecting.</span>\n *\n * <img src=\"./img/bufferWhen.png\" width=\"100%\">\n *\n * Opens a buffer immediately, then closes the buffer when the observable\n * returned by calling `closingSelector` function emits a value. When it closes\n * the buffer, it immediately opens a new buffer and repeats the process.\n *\n * @example <caption>Emit an array of the last clicks every [1-5] random seconds</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var buffered = clicks.bufferWhen(() =>\n *   Rx.Observable.interval(1000 + Math.random() * 4000)\n * );\n * buffered.subscribe(x => console.log(x));\n *\n * @see {@link buffer}\n * @see {@link bufferCount}\n * @see {@link bufferTime}\n * @see {@link bufferToggle}\n * @see {@link windowWhen}\n *\n * @param {function(): Observable} closingSelector A function that takes no\n * arguments and returns an Observable that signals buffer closure.\n * @return {Observable<T[]>} An observable of arrays of buffered values.\n * @method bufferWhen\n * @owner Observable\n */\nexport function bufferWhen(closingSelector) {\n    return function (source) {\n        return source.lift(new BufferWhenOperator(closingSelector));\n    };\n}\nvar BufferWhenOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function BufferWhenOperator(closingSelector) {\n        this.closingSelector = closingSelector;\n    }\n    BufferWhenOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new BufferWhenSubscriber(subscriber, this.closingSelector));\n    };\n    return BufferWhenOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar BufferWhenSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(BufferWhenSubscriber, _super);\n    function BufferWhenSubscriber(destination, closingSelector) {\n        var _this = _super.call(this, destination) || this;\n        _this.closingSelector = closingSelector;\n        _this.subscribing = false;\n        _this.openBuffer();\n        return _this;\n    }\n    BufferWhenSubscriber.prototype._next = function (value) {\n        this.buffer.push(value);\n    };\n    BufferWhenSubscriber.prototype._complete = function () {\n        var buffer = this.buffer;\n        if (buffer) {\n            this.destination.next(buffer);\n        }\n        _super.prototype._complete.call(this);\n    };\n    BufferWhenSubscriber.prototype._unsubscribe = function () {\n        this.buffer = null;\n        this.subscribing = false;\n    };\n    BufferWhenSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.openBuffer();\n    };\n    BufferWhenSubscriber.prototype.notifyComplete = function () {\n        if (this.subscribing) {\n            this.complete();\n        }\n        else {\n            this.openBuffer();\n        }\n    };\n    BufferWhenSubscriber.prototype.openBuffer = function () {\n        var closingSubscription = this.closingSubscription;\n        if (closingSubscription) {\n            this.remove(closingSubscription);\n            closingSubscription.unsubscribe();\n        }\n        var buffer = this.buffer;\n        if (this.buffer) {\n            this.destination.next(buffer);\n        }\n        this.buffer = [];\n        var closingNotifier = tryCatch(this.closingSelector)();\n        if (closingNotifier === errorObject) {\n            this.error(errorObject.e);\n        }\n        else {\n            closingSubscription = new Subscription();\n            this.closingSubscription = closingSubscription;\n            this.add(closingSubscription);\n            this.subscribing = true;\n            closingSubscription.add(subscribeToResult(this, closingNotifier));\n            this.subscribing = false;\n        }\n    };\n    return BufferWhenSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=bufferWhen.js.map\n","/** PURE_IMPORTS_START tslib,.._OuterSubscriber,.._util_subscribeToResult PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\n/**\n * Catches errors on the observable to be handled by returning a new observable or throwing an error.\n *\n * <img src=\"./img/catch.png\" width=\"100%\">\n *\n * @example <caption>Continues with a different Observable when there's an error</caption>\n *\n * Observable.of(1, 2, 3, 4, 5)\n *   .map(n => {\n * \t   if (n == 4) {\n * \t     throw 'four!';\n *     }\n *\t   return n;\n *   })\n *   .catch(err => Observable.of('I', 'II', 'III', 'IV', 'V'))\n *   .subscribe(x => console.log(x));\n *   // 1, 2, 3, I, II, III, IV, V\n *\n * @example <caption>Retries the caught source Observable again in case of error, similar to retry() operator</caption>\n *\n * Observable.of(1, 2, 3, 4, 5)\n *   .map(n => {\n * \t   if (n === 4) {\n * \t     throw 'four!';\n *     }\n * \t   return n;\n *   })\n *   .catch((err, caught) => caught)\n *   .take(30)\n *   .subscribe(x => console.log(x));\n *   // 1, 2, 3, 1, 2, 3, ...\n *\n * @example <caption>Throws a new error when the source Observable throws an error</caption>\n *\n * Observable.of(1, 2, 3, 4, 5)\n *   .map(n => {\n *     if (n == 4) {\n *       throw 'four!';\n *     }\n *     return n;\n *   })\n *   .catch(err => {\n *     throw 'error in source. Details: ' + err;\n *   })\n *   .subscribe(\n *     x => console.log(x),\n *     err => console.log(err)\n *   );\n *   // 1, 2, 3, error in source. Details: four!\n *\n * @param {function} selector a function that takes as arguments `err`, which is the error, and `caught`, which\n *  is the source observable, in case you'd like to \"retry\" that observable by returning it again. Whatever observable\n *  is returned by the `selector` will be used to continue the observable chain.\n * @return {Observable} An observable that originates from either the source or the observable returned by the\n *  catch `selector` function.\n * @name catchError\n */\nexport function catchError(selector) {\n    return function catchErrorOperatorFunction(source) {\n        var operator = new CatchOperator(selector);\n        var caught = source.lift(operator);\n        return (operator.caught = caught);\n    };\n}\nvar CatchOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function CatchOperator(selector) {\n        this.selector = selector;\n    }\n    CatchOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new CatchSubscriber(subscriber, this.selector, this.caught));\n    };\n    return CatchOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar CatchSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(CatchSubscriber, _super);\n    function CatchSubscriber(destination, selector, caught) {\n        var _this = _super.call(this, destination) || this;\n        _this.selector = selector;\n        _this.caught = caught;\n        return _this;\n    }\n    // NOTE: overriding `error` instead of `_error` because we don't want\n    // to have this flag this subscriber as `isStopped`. We can mimic the\n    // behavior of the RetrySubscriber (from the `retry` operator), where\n    // we unsubscribe from our source chain, reset our Subscriber flags,\n    // then subscribe to the selector result.\n    CatchSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var result = void 0;\n            try {\n                result = this.selector(err, this.caught);\n            }\n            catch (err2) {\n                _super.prototype.error.call(this, err2);\n                return;\n            }\n            this._unsubscribeAndRecycle();\n            this.add(subscribeToResult(this, result));\n        }\n    };\n    return CatchSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=catchError.js.map\n","/** PURE_IMPORTS_START .._Observable,.._Subscription,.._util_subscribeToArray PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nimport { subscribeToArray } from '../util/subscribeToArray';\nexport function fromArray(input, scheduler) {\n    if (!scheduler) {\n        return new Observable(subscribeToArray(input));\n    }\n    else {\n        return new Observable(function (subscriber) {\n            var sub = new Subscription();\n            var i = 0;\n            sub.add(scheduler.schedule(function () {\n                if (i === input.length) {\n                    subscriber.complete();\n                    return;\n                }\n                subscriber.next(input[i++]);\n                if (!subscriber.closed) {\n                    sub.add(this.schedule());\n                }\n            }));\n            return sub;\n        });\n    }\n}\n//# sourceMappingURL=fromArray.js.map\n","/** PURE_IMPORTS_START tslib,.._util_isScheduler,.._util_isArray,.._OuterSubscriber,.._util_subscribeToResult,._fromArray PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { isScheduler } from '../util/isScheduler';\nimport { isArray } from '../util/isArray';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { fromArray } from './fromArray';\nvar NONE = {};\n/* tslint:enable:max-line-length */\n/**\n * Combines multiple Observables to create an Observable whose values are\n * calculated from the latest values of each of its input Observables.\n *\n * <span class=\"informal\">Whenever any input Observable emits a value, it\n * computes a formula using the latest values from all the inputs, then emits\n * the output of that formula.</span>\n *\n * <img src=\"./img/combineLatest.png\" width=\"100%\">\n *\n * `combineLatest` combines the values from all the Observables passed as\n * arguments. This is done by subscribing to each Observable in order and,\n * whenever any Observable emits, collecting an array of the most recent\n * values from each Observable. So if you pass `n` Observables to operator,\n * returned Observable will always emit an array of `n` values, in order\n * corresponding to order of passed Observables (value from the first Observable\n * on the first place and so on).\n *\n * Static version of `combineLatest` accepts either an array of Observables\n * or each Observable can be put directly as an argument. Note that array of\n * Observables is good choice, if you don't know beforehand how many Observables\n * you will combine. Passing empty array will result in Observable that\n * completes immediately.\n *\n * To ensure output array has always the same length, `combineLatest` will\n * actually wait for all input Observables to emit at least once,\n * before it starts emitting results. This means if some Observable emits\n * values before other Observables started emitting, all that values but last\n * will be lost. On the other hand, is some Observable does not emit value but\n * completes, resulting Observable will complete at the same moment without\n * emitting anything, since it will be now impossible to include value from\n * completed Observable in resulting array. Also, if some input Observable does\n * not emit any value and never completes, `combineLatest` will also never emit\n * and never complete, since, again, it will wait for all streams to emit some\n * value.\n *\n * If at least one Observable was passed to `combineLatest` and all passed Observables\n * emitted something, resulting Observable will complete when all combined\n * streams complete. So even if some Observable completes, result of\n * `combineLatest` will still emit values when other Observables do. In case\n * of completed Observable, its value from now on will always be the last\n * emitted value. On the other hand, if any Observable errors, `combineLatest`\n * will error immediately as well, and all other Observables will be unsubscribed.\n *\n * `combineLatest` accepts as optional parameter `project` function, which takes\n * as arguments all values that would normally be emitted by resulting Observable.\n * `project` can return any kind of value, which will be then emitted by Observable\n * instead of default array. Note that `project` does not take as argument that array\n * of values, but values themselves. That means default `project` can be imagined\n * as function that takes all its arguments and puts them into an array.\n *\n *\n * @example <caption>Combine two timer Observables</caption>\n * const firstTimer = Rx.Observable.timer(0, 1000); // emit 0, 1, 2... after every second, starting from now\n * const secondTimer = Rx.Observable.timer(500, 1000); // emit 0, 1, 2... after every second, starting 0,5s from now\n * const combinedTimers = Rx.Observable.combineLatest(firstTimer, secondTimer);\n * combinedTimers.subscribe(value => console.log(value));\n * // Logs\n * // [0, 0] after 0.5s\n * // [1, 0] after 1s\n * // [1, 1] after 1.5s\n * // [2, 1] after 2s\n *\n *\n * @example <caption>Combine an array of Observables</caption>\n * const observables = [1, 5, 10].map(\n *   n => Rx.Observable.of(n).delay(n * 1000).startWith(0) // emit 0 and then emit n after n seconds\n * );\n * const combined = Rx.Observable.combineLatest(observables);\n * combined.subscribe(value => console.log(value));\n * // Logs\n * // [0, 0, 0] immediately\n * // [1, 0, 0] after 1s\n * // [1, 5, 0] after 5s\n * // [1, 5, 10] after 10s\n *\n *\n * @example <caption>Use project function to dynamically calculate the Body-Mass Index</caption>\n * var weight = Rx.Observable.of(70, 72, 76, 79, 75);\n * var height = Rx.Observable.of(1.76, 1.77, 1.78);\n * var bmi = Rx.Observable.combineLatest(weight, height, (w, h) => w / (h * h));\n * bmi.subscribe(x => console.log('BMI is ' + x));\n *\n * // With output to console:\n * // BMI is 24.212293388429753\n * // BMI is 23.93948099205209\n * // BMI is 23.671253629592222\n *\n *\n * @see {@link combineAll}\n * @see {@link merge}\n * @see {@link withLatestFrom}\n *\n * @param {ObservableInput} observable1 An input Observable to combine with other Observables.\n * @param {ObservableInput} observable2 An input Observable to combine with other Observables.\n * More than one input Observables may be given as arguments\n * or an array of Observables may be given as the first argument.\n * @param {function} [project] An optional function to project the values from\n * the combined latest values into a new value on the output Observable.\n * @param {Scheduler} [scheduler=null] The IScheduler to use for subscribing to\n * each input Observable.\n * @return {Observable} An Observable of projected values from the most recent\n * values from each input Observable, or an array of the most recent values from\n * each input Observable.\n * @static true\n * @name combineLatest\n * @owner Observable\n */\nexport function combineLatest() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i] = arguments[_i];\n    }\n    var project = null;\n    var scheduler = null;\n    if (isScheduler(observables[observables.length - 1])) {\n        scheduler = observables.pop();\n    }\n    if (typeof observables[observables.length - 1] === 'function') {\n        project = observables.pop();\n    }\n    // if the first and only other argument besides the resultSelector is an array\n    // assume it's been called with `combineLatest([obs1, obs2, obs3], project)`\n    if (observables.length === 1 && isArray(observables[0])) {\n        observables = observables[0];\n    }\n    return fromArray(observables, scheduler).lift(new CombineLatestOperator(project));\n}\nvar CombineLatestOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function CombineLatestOperator(project) {\n        this.project = project;\n    }\n    CombineLatestOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new CombineLatestSubscriber(subscriber, this.project));\n    };\n    return CombineLatestOperator;\n}());\nexport { CombineLatestOperator };\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar CombineLatestSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(CombineLatestSubscriber, _super);\n    function CombineLatestSubscriber(destination, project) {\n        var _this = _super.call(this, destination) || this;\n        _this.project = project;\n        _this.active = 0;\n        _this.values = [];\n        _this.observables = [];\n        return _this;\n    }\n    CombineLatestSubscriber.prototype._next = function (observable) {\n        this.values.push(NONE);\n        this.observables.push(observable);\n    };\n    CombineLatestSubscriber.prototype._complete = function () {\n        var observables = this.observables;\n        var len = observables.length;\n        if (len === 0) {\n            this.destination.complete();\n        }\n        else {\n            this.active = len;\n            this.toRespond = len;\n            for (var i = 0; i < len; i++) {\n                var observable = observables[i];\n                this.add(subscribeToResult(this, observable, observable, i));\n            }\n        }\n    };\n    CombineLatestSubscriber.prototype.notifyComplete = function (unused) {\n        if ((this.active -= 1) === 0) {\n            this.destination.complete();\n        }\n    };\n    CombineLatestSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        var values = this.values;\n        var oldVal = values[outerIndex];\n        var toRespond = !this.toRespond\n            ? 0\n            : oldVal === NONE ? --this.toRespond : this.toRespond;\n        values[outerIndex] = innerValue;\n        if (toRespond === 0) {\n            if (this.project) {\n                this._tryProject(values);\n            }\n            else {\n                this.destination.next(values.slice());\n            }\n        }\n    };\n    CombineLatestSubscriber.prototype._tryProject = function (values) {\n        var result;\n        try {\n            result = this.project.apply(this, values);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    return CombineLatestSubscriber;\n}(OuterSubscriber));\nexport { CombineLatestSubscriber };\n//# sourceMappingURL=combineLatest.js.map\n","/** PURE_IMPORTS_START .._observable_combineLatest PURE_IMPORTS_END */\nimport { CombineLatestOperator } from '../observable/combineLatest';\nexport function combineAll(project) {\n    return function (source) { return source.lift(new CombineLatestOperator(project)); };\n}\n//# sourceMappingURL=combineAll.js.map\n","/** PURE_IMPORTS_START tslib,.._util_subscribeToResult,.._OuterSubscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { OuterSubscriber } from '../OuterSubscriber';\n/* tslint:enable:max-line-length */\n/**\n * Projects each source value to an Observable which is merged in the output\n * Observable.\n *\n * <span class=\"informal\">Maps each value to an Observable, then flattens all of\n * these inner Observables using {@link mergeAll}.</span>\n *\n * <img src=\"./img/mergeMap.png\" width=\"100%\">\n *\n * Returns an Observable that emits items based on applying a function that you\n * supply to each item emitted by the source Observable, where that function\n * returns an Observable, and then merging those resulting Observables and\n * emitting the results of this merger.\n *\n * @example <caption>Map and flatten each letter to an Observable ticking every 1 second</caption>\n * var letters = Rx.Observable.of('a', 'b', 'c');\n * var result = letters.mergeMap(x =>\n *   Rx.Observable.interval(1000).map(i => x+i)\n * );\n * result.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // a0\n * // b0\n * // c0\n * // a1\n * // b1\n * // c1\n * // continues to list a,b,c with respective ascending integers\n *\n * @see {@link concatMap}\n * @see {@link exhaustMap}\n * @see {@link merge}\n * @see {@link mergeAll}\n * @see {@link mergeMapTo}\n * @see {@link mergeScan}\n * @see {@link switchMap}\n *\n * @param {function(value: T, ?index: number): ObservableInput} project A function\n * that, when applied to an item emitted by the source Observable, returns an\n * Observable.\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input\n * Observables being subscribed to concurrently.\n * @return {Observable} An Observable that emits the result of applying the\n * projection function (and the optional `resultSelector`) to each item emitted\n * by the source Observable and merging the results of the Observables obtained\n * from this transformation.\n * @method mergeMap\n * @owner Observable\n */\nexport function mergeMap(project, concurrent) {\n    if (concurrent === void 0) {\n        concurrent = Number.POSITIVE_INFINITY;\n    }\n    return function mergeMapOperatorFunction(source) {\n        return source.lift(new MergeMapOperator(project, concurrent));\n    };\n}\nvar MergeMapOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function MergeMapOperator(project, concurrent) {\n        if (concurrent === void 0) {\n            concurrent = Number.POSITIVE_INFINITY;\n        }\n        this.project = project;\n        this.concurrent = concurrent;\n    }\n    MergeMapOperator.prototype.call = function (observer, source) {\n        return source.subscribe(new MergeMapSubscriber(observer, this.project, this.concurrent));\n    };\n    return MergeMapOperator;\n}());\nexport { MergeMapOperator };\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar MergeMapSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(MergeMapSubscriber, _super);\n    function MergeMapSubscriber(destination, project, concurrent) {\n        if (concurrent === void 0) {\n            concurrent = Number.POSITIVE_INFINITY;\n        }\n        var _this = _super.call(this, destination) || this;\n        _this.project = project;\n        _this.concurrent = concurrent;\n        _this.hasCompleted = false;\n        _this.buffer = [];\n        _this.active = 0;\n        _this.index = 0;\n        return _this;\n    }\n    MergeMapSubscriber.prototype._next = function (value) {\n        if (this.active < this.concurrent) {\n            this._tryNext(value);\n        }\n        else {\n            this.buffer.push(value);\n        }\n    };\n    MergeMapSubscriber.prototype._tryNext = function (value) {\n        var result;\n        var index = this.index++;\n        try {\n            result = this.project(value, index);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.active++;\n        this._innerSub(result, value, index);\n    };\n    MergeMapSubscriber.prototype._innerSub = function (ish, value, index) {\n        this.add(subscribeToResult(this, ish, value, index));\n    };\n    MergeMapSubscriber.prototype._complete = function () {\n        this.hasCompleted = true;\n        if (this.active === 0 && this.buffer.length === 0) {\n            this.destination.complete();\n        }\n    };\n    MergeMapSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.destination.next(innerValue);\n    };\n    MergeMapSubscriber.prototype.notifyComplete = function (innerSub) {\n        var buffer = this.buffer;\n        this.remove(innerSub);\n        this.active--;\n        if (buffer.length > 0) {\n            this._next(buffer.shift());\n        }\n        else if (this.active === 0 && this.hasCompleted) {\n            this.destination.complete();\n        }\n    };\n    return MergeMapSubscriber;\n}(OuterSubscriber));\nexport { MergeMapSubscriber };\n//# sourceMappingURL=mergeMap.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function identity(x) {\n    return x;\n}\n//# sourceMappingURL=identity.js.map\n","/** PURE_IMPORTS_START ._mergeMap,.._util_identity PURE_IMPORTS_END */\nimport { mergeMap } from './mergeMap';\nimport { identity } from '../util/identity';\n/**\n * Converts a higher-order Observable into a first-order Observable which\n * concurrently delivers all values that are emitted on the inner Observables.\n *\n * <span class=\"informal\">Flattens an Observable-of-Observables.</span>\n *\n * <img src=\"./img/mergeAll.png\" width=\"100%\">\n *\n * `mergeAll` subscribes to an Observable that emits Observables, also known as\n * a higher-order Observable. Each time it observes one of these emitted inner\n * Observables, it subscribes to that and delivers all the values from the\n * inner Observable on the output Observable. The output Observable only\n * completes once all inner Observables have completed. Any error delivered by\n * a inner Observable will be immediately emitted on the output Observable.\n *\n * @example <caption>Spawn a new interval Observable for each click event, and blend their outputs as one Observable</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var higherOrder = clicks.map((ev) => Rx.Observable.interval(1000));\n * var firstOrder = higherOrder.mergeAll();\n * firstOrder.subscribe(x => console.log(x));\n *\n * @example <caption>Count from 0 to 9 every second for each click, but only allow 2 concurrent timers</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var higherOrder = clicks.map((ev) => Rx.Observable.interval(1000).take(10));\n * var firstOrder = higherOrder.mergeAll(2);\n * firstOrder.subscribe(x => console.log(x));\n *\n * @see {@link combineAll}\n * @see {@link concatAll}\n * @see {@link exhaust}\n * @see {@link merge}\n * @see {@link mergeMap}\n * @see {@link mergeMapTo}\n * @see {@link mergeScan}\n * @see {@link switch}\n * @see {@link zipAll}\n *\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of inner\n * Observables being subscribed to concurrently.\n * @return {Observable} An Observable that emits values coming from all the\n * inner Observables emitted by the source Observable.\n * @method mergeAll\n * @owner Observable\n */\nexport function mergeAll(concurrent) {\n    if (concurrent === void 0) {\n        concurrent = Number.POSITIVE_INFINITY;\n    }\n    return mergeMap(identity, concurrent);\n}\n//# sourceMappingURL=mergeAll.js.map\n","/** PURE_IMPORTS_START ._mergeAll PURE_IMPORTS_END */\nimport { mergeAll } from './mergeAll';\n/**\n * Converts a higher-order Observable into a first-order Observable by\n * concatenating the inner Observables in order.\n *\n * <span class=\"informal\">Flattens an Observable-of-Observables by putting one\n * inner Observable after the other.</span>\n *\n * <img src=\"./img/concatAll.png\" width=\"100%\">\n *\n * Joins every Observable emitted by the source (a higher-order Observable), in\n * a serial fashion. It subscribes to each inner Observable only after the\n * previous inner Observable has completed, and merges all of their values into\n * the returned observable.\n *\n * __Warning:__ If the source Observable emits Observables quickly and\n * endlessly, and the inner Observables it emits generally complete slower than\n * the source emits, you can run into memory issues as the incoming Observables\n * collect in an unbounded buffer.\n *\n * Note: `concatAll` is equivalent to `mergeAll` with concurrency parameter set\n * to `1`.\n *\n * @example <caption>For each click event, tick every second from 0 to 3, with no concurrency</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var higherOrder = clicks.map(ev => Rx.Observable.interval(1000).take(4));\n * var firstOrder = higherOrder.concatAll();\n * firstOrder.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // (results are not concurrent)\n * // For every click on the \"document\" it will emit values 0 to 3 spaced\n * // on a 1000ms interval\n * // one click = 1000ms-> 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3\n *\n * @see {@link combineAll}\n * @see {@link concat}\n * @see {@link concatMap}\n * @see {@link concatMapTo}\n * @see {@link exhaust}\n * @see {@link mergeAll}\n * @see {@link switch}\n * @see {@link zipAll}\n *\n * @return {Observable} An Observable emitting values from all the inner\n * Observables concatenated.\n * @method concatAll\n * @owner Observable\n */\nexport function concatAll() {\n    return mergeAll(1);\n}\n//# sourceMappingURL=concatAll.js.map\n","/** PURE_IMPORTS_START ._mergeMap PURE_IMPORTS_END */\nimport { mergeMap } from './mergeMap';\n/**\n * Projects each source value to an Observable which is merged in the output\n * Observable, in a serialized fashion waiting for each one to complete before\n * merging the next.\n *\n * <span class=\"informal\">Maps each value to an Observable, then flattens all of\n * these inner Observables using {@link concatAll}.</span>\n *\n * <img src=\"./img/concatMap.png\" width=\"100%\">\n *\n * Returns an Observable that emits items based on applying a function that you\n * supply to each item emitted by the source Observable, where that function\n * returns an (so-called \"inner\") Observable. Each new inner Observable is\n * concatenated with the previous inner Observable.\n *\n * __Warning:__ if source values arrive endlessly and faster than their\n * corresponding inner Observables can complete, it will result in memory issues\n * as inner Observables amass in an unbounded buffer waiting for their turn to\n * be subscribed to.\n *\n * Note: `concatMap` is equivalent to `mergeMap` with concurrency parameter set\n * to `1`.\n *\n * @example <caption>For each click event, tick every second from 0 to 3, with no concurrency</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.concatMap(ev => Rx.Observable.interval(1000).take(4));\n * result.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // (results are not concurrent)\n * // For every click on the \"document\" it will emit values 0 to 3 spaced\n * // on a 1000ms interval\n * // one click = 1000ms-> 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3\n *\n * @see {@link concat}\n * @see {@link concatAll}\n * @see {@link concatMapTo}\n * @see {@link exhaustMap}\n * @see {@link mergeMap}\n * @see {@link switchMap}\n *\n * @param {function(value: T, ?index: number): ObservableInput} project A function\n * that, when applied to an item emitted by the source Observable, returns an\n * Observable.\n * @return {Observable} An Observable that emits the result of applying the\n * projection function (and the optional `resultSelector`) to each item emitted\n * by the source Observable and taking values from each projected inner\n * Observable sequentially.\n * @method concatMap\n * @owner Observable\n */\nexport function concatMap(project) {\n    return mergeMap(project, 1);\n}\n//# sourceMappingURL=concatMap.js.map\n","/** PURE_IMPORTS_START ._concatMap PURE_IMPORTS_END */\nimport { concatMap } from './concatMap';\n/**\n * Projects each source value to the same Observable which is merged multiple\n * times in a serialized fashion on the output Observable.\n *\n * <span class=\"informal\">It's like {@link concatMap}, but maps each value\n * always to the same inner Observable.</span>\n *\n * <img src=\"./img/concatMapTo.png\" width=\"100%\">\n *\n * Maps each source value to the given Observable `innerObservable` regardless\n * of the source value, and then flattens those resulting Observables into one\n * single Observable, which is the output Observable. Each new `innerObservable`\n * instance emitted on the output Observable is concatenated with the previous\n * `innerObservable` instance.\n *\n * __Warning:__ if source values arrive endlessly and faster than their\n * corresponding inner Observables can complete, it will result in memory issues\n * as inner Observables amass in an unbounded buffer waiting for their turn to\n * be subscribed to.\n *\n * Note: `concatMapTo` is equivalent to `mergeMapTo` with concurrency parameter\n * set to `1`.\n *\n * @example <caption>For each click event, tick every second from 0 to 3, with no concurrency</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.concatMapTo(Rx.Observable.interval(1000).take(4));\n * result.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // (results are not concurrent)\n * // For every click on the \"document\" it will emit values 0 to 3 spaced\n * // on a 1000ms interval\n * // one click = 1000ms-> 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3\n *\n * @see {@link concat}\n * @see {@link concatAll}\n * @see {@link concatMap}\n * @see {@link mergeMapTo}\n * @see {@link switchMapTo}\n *\n * @param {ObservableInput} innerObservable An Observable to replace each value from\n * the source Observable.\n * @return {Observable} An observable of values merged together by joining the\n * passed observable with itself, one after the other, for each value emitted\n * from the source.\n * @method concatMapTo\n * @owner Observable\n */\nexport function concatMapTo(innerObservable) {\n    return concatMap(function () { return innerObservable; });\n}\n//# sourceMappingURL=concatMapTo.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\n/**\n * Counts the number of emissions on the source and emits that number when the\n * source completes.\n *\n * <span class=\"informal\">Tells how many values were emitted, when the source\n * completes.</span>\n *\n * <img src=\"./img/count.png\" width=\"100%\">\n *\n * `count` transforms an Observable that emits values into an Observable that\n * emits a single value that represents the number of values emitted by the\n * source Observable. If the source Observable terminates with an error, `count`\n * will pass this error notification along without emitting a value first. If\n * the source Observable does not terminate at all, `count` will neither emit\n * a value nor terminate. This operator takes an optional `predicate` function\n * as argument, in which case the output emission will represent the number of\n * source values that matched `true` with the `predicate`.\n *\n * @example <caption>Counts how many seconds have passed before the first click happened</caption>\n * var seconds = Rx.Observable.interval(1000);\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var secondsBeforeClick = seconds.takeUntil(clicks);\n * var result = secondsBeforeClick.count();\n * result.subscribe(x => console.log(x));\n *\n * @example <caption>Counts how many odd numbers are there between 1 and 7</caption>\n * var numbers = Rx.Observable.range(1, 7);\n * var result = numbers.count(i => i % 2 === 1);\n * result.subscribe(x => console.log(x));\n *\n * // Results in:\n * // 4\n *\n * @see {@link max}\n * @see {@link min}\n * @see {@link reduce}\n *\n * @param {function(value: T, i: number, source: Observable<T>): boolean} [predicate] A\n * boolean function to select what values are to be counted. It is provided with\n * arguments of:\n * - `value`: the value from the source Observable.\n * - `index`: the (zero-based) \"index\" of the value from the source Observable.\n * - `source`: the source Observable instance itself.\n * @return {Observable} An Observable of one number that represents the count as\n * described above.\n * @method count\n * @owner Observable\n */\nexport function count(predicate) {\n    return function (source) { return source.lift(new CountOperator(predicate, source)); };\n}\nvar CountOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function CountOperator(predicate, source) {\n        this.predicate = predicate;\n        this.source = source;\n    }\n    CountOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new CountSubscriber(subscriber, this.predicate, this.source));\n    };\n    return CountOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar CountSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(CountSubscriber, _super);\n    function CountSubscriber(destination, predicate, source) {\n        var _this = _super.call(this, destination) || this;\n        _this.predicate = predicate;\n        _this.source = source;\n        _this.count = 0;\n        _this.index = 0;\n        return _this;\n    }\n    CountSubscriber.prototype._next = function (value) {\n        if (this.predicate) {\n            this._tryPredicate(value);\n        }\n        else {\n            this.count++;\n        }\n    };\n    CountSubscriber.prototype._tryPredicate = function (value) {\n        var result;\n        try {\n            result = this.predicate(value, this.index++, this.source);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        if (result) {\n            this.count++;\n        }\n    };\n    CountSubscriber.prototype._complete = function () {\n        this.destination.next(this.count);\n        this.destination.complete();\n    };\n    return CountSubscriber;\n}(Subscriber));\n//# sourceMappingURL=count.js.map\n","/** PURE_IMPORTS_START tslib,.._OuterSubscriber,.._util_subscribeToResult PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\n/**\n * Emits a value from the source Observable only after a particular time span\n * determined by another Observable has passed without another source emission.\n *\n * <span class=\"informal\">It's like {@link debounceTime}, but the time span of\n * emission silence is determined by a second Observable.</span>\n *\n * <img src=\"./img/debounce.png\" width=\"100%\">\n *\n * `debounce` delays values emitted by the source Observable, but drops previous\n * pending delayed emissions if a new value arrives on the source Observable.\n * This operator keeps track of the most recent value from the source\n * Observable, and spawns a duration Observable by calling the\n * `durationSelector` function. The value is emitted only when the duration\n * Observable emits a value or completes, and if no other value was emitted on\n * the source Observable since the duration Observable was spawned. If a new\n * value appears before the duration Observable emits, the previous value will\n * be dropped and will not be emitted on the output Observable.\n *\n * Like {@link debounceTime}, this is a rate-limiting operator, and also a\n * delay-like operator since output emissions do not necessarily occur at the\n * same time as they did on the source Observable.\n *\n * @example <caption>Emit the most recent click after a burst of clicks</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.debounce(() => Rx.Observable.interval(1000));\n * result.subscribe(x => console.log(x));\n *\n * @see {@link audit}\n * @see {@link debounceTime}\n * @see {@link delayWhen}\n * @see {@link throttle}\n *\n * @param {function(value: T): SubscribableOrPromise} durationSelector A function\n * that receives a value from the source Observable, for computing the timeout\n * duration for each source value, returned as an Observable or a Promise.\n * @return {Observable} An Observable that delays the emissions of the source\n * Observable by the specified duration Observable returned by\n * `durationSelector`, and may drop some values if they occur too frequently.\n * @method debounce\n * @owner Observable\n */\nexport function debounce(durationSelector) {\n    return function (source) { return source.lift(new DebounceOperator(durationSelector)); };\n}\nvar DebounceOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function DebounceOperator(durationSelector) {\n        this.durationSelector = durationSelector;\n    }\n    DebounceOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new DebounceSubscriber(subscriber, this.durationSelector));\n    };\n    return DebounceOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar DebounceSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(DebounceSubscriber, _super);\n    function DebounceSubscriber(destination, durationSelector) {\n        var _this = _super.call(this, destination) || this;\n        _this.durationSelector = durationSelector;\n        _this.hasValue = false;\n        _this.durationSubscription = null;\n        return _this;\n    }\n    DebounceSubscriber.prototype._next = function (value) {\n        try {\n            var result = this.durationSelector.call(this, value);\n            if (result) {\n                this._tryNext(value, result);\n            }\n        }\n        catch (err) {\n            this.destination.error(err);\n        }\n    };\n    DebounceSubscriber.prototype._complete = function () {\n        this.emitValue();\n        this.destination.complete();\n    };\n    DebounceSubscriber.prototype._tryNext = function (value, duration) {\n        var subscription = this.durationSubscription;\n        this.value = value;\n        this.hasValue = true;\n        if (subscription) {\n            subscription.unsubscribe();\n            this.remove(subscription);\n        }\n        subscription = subscribeToResult(this, duration);\n        if (subscription && !subscription.closed) {\n            this.add(this.durationSubscription = subscription);\n        }\n    };\n    DebounceSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.emitValue();\n    };\n    DebounceSubscriber.prototype.notifyComplete = function () {\n        this.emitValue();\n    };\n    DebounceSubscriber.prototype.emitValue = function () {\n        if (this.hasValue) {\n            var value = this.value;\n            var subscription = this.durationSubscription;\n            if (subscription) {\n                this.durationSubscription = null;\n                subscription.unsubscribe();\n                this.remove(subscription);\n            }\n            // This must be done *before* passing the value\n            // along to the destination because it's possible for\n            // the value to synchronously re-enter this operator\n            // recursively if the duration selector Observable\n            // emits synchronously\n            this.value = null;\n            this.hasValue = false;\n            _super.prototype._next.call(this, value);\n        }\n    };\n    return DebounceSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=debounce.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscriber,.._scheduler_async PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { async } from '../scheduler/async';\n/**\n * Emits a value from the source Observable only after a particular time span\n * has passed without another source emission.\n *\n * <span class=\"informal\">It's like {@link delay}, but passes only the most\n * recent value from each burst of emissions.</span>\n *\n * <img src=\"./img/debounceTime.png\" width=\"100%\">\n *\n * `debounceTime` delays values emitted by the source Observable, but drops\n * previous pending delayed emissions if a new value arrives on the source\n * Observable. This operator keeps track of the most recent value from the\n * source Observable, and emits that only when `dueTime` enough time has passed\n * without any other value appearing on the source Observable. If a new value\n * appears before `dueTime` silence occurs, the previous value will be dropped\n * and will not be emitted on the output Observable.\n *\n * This is a rate-limiting operator, because it is impossible for more than one\n * value to be emitted in any time window of duration `dueTime`, but it is also\n * a delay-like operator since output emissions do not occur at the same time as\n * they did on the source Observable. Optionally takes a {@link IScheduler} for\n * managing timers.\n *\n * @example <caption>Emit the most recent click after a burst of clicks</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.debounceTime(1000);\n * result.subscribe(x => console.log(x));\n *\n * @see {@link auditTime}\n * @see {@link debounce}\n * @see {@link delay}\n * @see {@link sampleTime}\n * @see {@link throttleTime}\n *\n * @param {number} dueTime The timeout duration in milliseconds (or the time\n * unit determined internally by the optional `scheduler`) for the window of\n * time required to wait for emission silence before emitting the most recent\n * source value.\n * @param {Scheduler} [scheduler=async] The {@link IScheduler} to use for\n * managing the timers that handle the timeout for each value.\n * @return {Observable} An Observable that delays the emissions of the source\n * Observable by the specified `dueTime`, and may drop some values if they occur\n * too frequently.\n * @method debounceTime\n * @owner Observable\n */\nexport function debounceTime(dueTime, scheduler) {\n    if (scheduler === void 0) {\n        scheduler = async;\n    }\n    return function (source) { return source.lift(new DebounceTimeOperator(dueTime, scheduler)); };\n}\nvar DebounceTimeOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function DebounceTimeOperator(dueTime, scheduler) {\n        this.dueTime = dueTime;\n        this.scheduler = scheduler;\n    }\n    DebounceTimeOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new DebounceTimeSubscriber(subscriber, this.dueTime, this.scheduler));\n    };\n    return DebounceTimeOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar DebounceTimeSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(DebounceTimeSubscriber, _super);\n    function DebounceTimeSubscriber(destination, dueTime, scheduler) {\n        var _this = _super.call(this, destination) || this;\n        _this.dueTime = dueTime;\n        _this.scheduler = scheduler;\n        _this.debouncedSubscription = null;\n        _this.lastValue = null;\n        _this.hasValue = false;\n        return _this;\n    }\n    DebounceTimeSubscriber.prototype._next = function (value) {\n        this.clearDebounce();\n        this.lastValue = value;\n        this.hasValue = true;\n        this.add(this.debouncedSubscription = this.scheduler.schedule(dispatchNext, this.dueTime, this));\n    };\n    DebounceTimeSubscriber.prototype._complete = function () {\n        this.debouncedNext();\n        this.destination.complete();\n    };\n    DebounceTimeSubscriber.prototype.debouncedNext = function () {\n        this.clearDebounce();\n        if (this.hasValue) {\n            var lastValue = this.lastValue;\n            // This must be done *before* passing the value\n            // along to the destination because it's possible for\n            // the value to synchronously re-enter this operator\n            // recursively when scheduled with things like\n            // VirtualScheduler/TestScheduler.\n            this.lastValue = null;\n            this.hasValue = false;\n            this.destination.next(lastValue);\n        }\n    };\n    DebounceTimeSubscriber.prototype.clearDebounce = function () {\n        var debouncedSubscription = this.debouncedSubscription;\n        if (debouncedSubscription !== null) {\n            this.remove(debouncedSubscription);\n            debouncedSubscription.unsubscribe();\n            this.debouncedSubscription = null;\n        }\n    };\n    return DebounceTimeSubscriber;\n}(Subscriber));\nfunction dispatchNext(subscriber) {\n    subscriber.debouncedNext();\n}\n//# sourceMappingURL=debounceTime.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\n/* tslint:enable:max-line-length */\n/**\n * Emits a given value if the source Observable completes without emitting any\n * `next` value, otherwise mirrors the source Observable.\n *\n * <span class=\"informal\">If the source Observable turns out to be empty, then\n * this operator will emit a default value.</span>\n *\n * <img src=\"./img/defaultIfEmpty.png\" width=\"100%\">\n *\n * `defaultIfEmpty` emits the values emitted by the source Observable or a\n * specified default value if the source Observable is empty (completes without\n * having emitted any `next` value).\n *\n * @example <caption>If no clicks happen in 5 seconds, then emit \"no clicks\"</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var clicksBeforeFive = clicks.takeUntil(Rx.Observable.interval(5000));\n * var result = clicksBeforeFive.defaultIfEmpty('no clicks');\n * result.subscribe(x => console.log(x));\n *\n * @see {@link empty}\n * @see {@link last}\n *\n * @param {any} [defaultValue=null] The default value used if the source\n * Observable is empty.\n * @return {Observable} An Observable that emits either the specified\n * `defaultValue` if the source Observable emits no items, or the values emitted\n * by the source Observable.\n * @method defaultIfEmpty\n * @owner Observable\n */\nexport function defaultIfEmpty(defaultValue) {\n    if (defaultValue === void 0) {\n        defaultValue = null;\n    }\n    return function (source) { return source.lift(new DefaultIfEmptyOperator(defaultValue)); };\n}\nvar DefaultIfEmptyOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function DefaultIfEmptyOperator(defaultValue) {\n        this.defaultValue = defaultValue;\n    }\n    DefaultIfEmptyOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new DefaultIfEmptySubscriber(subscriber, this.defaultValue));\n    };\n    return DefaultIfEmptyOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar DefaultIfEmptySubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(DefaultIfEmptySubscriber, _super);\n    function DefaultIfEmptySubscriber(destination, defaultValue) {\n        var _this = _super.call(this, destination) || this;\n        _this.defaultValue = defaultValue;\n        _this.isEmpty = true;\n        return _this;\n    }\n    DefaultIfEmptySubscriber.prototype._next = function (value) {\n        this.isEmpty = false;\n        this.destination.next(value);\n    };\n    DefaultIfEmptySubscriber.prototype._complete = function () {\n        if (this.isEmpty) {\n            this.destination.next(this.defaultValue);\n        }\n        this.destination.complete();\n    };\n    return DefaultIfEmptySubscriber;\n}(Subscriber));\n//# sourceMappingURL=defaultIfEmpty.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function isDate(value) {\n    return value instanceof Date && !isNaN(+value);\n}\n//# sourceMappingURL=isDate.js.map\n","/** PURE_IMPORTS_START .._Observable PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\n/**\n * The same Observable instance returned by any call to {@link empty} without a\n * {@link Scheduler}. It is preferrable to use this over `empty()`.\n */\nexport var EMPTY = /*@__PURE__*/ new Observable(function (subscriber) { return subscriber.complete(); });\n/**\n * Creates an Observable that emits no items to the Observer and immediately\n * emits a complete notification.\n *\n * <span class=\"informal\">Just emits 'complete', and nothing else.\n * </span>\n *\n * <img src=\"./img/empty.png\" width=\"100%\">\n *\n * This static operator is useful for creating a simple Observable that only\n * emits the complete notification. It can be used for composing with other\n * Observables, such as in a {@link mergeMap}.\n *\n * @example <caption>Emit the number 7, then complete.</caption>\n * var result = Rx.Observable.empty().startWith(7);\n * result.subscribe(x => console.log(x));\n *\n * @example <caption>Map and flatten only odd numbers to the sequence 'a', 'b', 'c'</caption>\n * var interval = Rx.Observable.interval(1000);\n * var result = interval.mergeMap(x =>\n *   x % 2 === 1 ? Rx.Observable.of('a', 'b', 'c') : Rx.Observable.empty()\n * );\n * result.subscribe(x => console.log(x));\n *\n * // Results in the following to the console:\n * // x is equal to the count on the interval eg(0,1,2,3,...)\n * // x will occur every 1000ms\n * // if x % 2 is equal to 1 print abc\n * // if x % 2 is not equal to 1 nothing will be output\n *\n * @see {@link create}\n * @see {@link never}\n * @see {@link of}\n * @see {@link throw}\n *\n * @param {Scheduler} [scheduler] A {@link IScheduler} to use for scheduling\n * the emission of the complete notification.\n * @return {Observable} An \"empty\" Observable: emits only the complete\n * notification.\n * @static true\n * @name empty\n * @owner Observable\n */\nexport function empty(scheduler) {\n    return scheduler ? emptyScheduled(scheduler) : EMPTY;\n}\nexport function emptyScheduled(scheduler) {\n    return new Observable(function (subscriber) { return scheduler.schedule(function () { return subscriber.complete(); }); });\n}\n//# sourceMappingURL=empty.js.map\n","/** PURE_IMPORTS_START .._Observable PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nexport function scalar(value) {\n    var result = new Observable(function (subscriber) {\n        subscriber.next(value);\n        subscriber.complete();\n    });\n    result._isScalar = true;\n    result.value = value;\n    return result;\n}\n//# sourceMappingURL=scalar.js.map\n","/** PURE_IMPORTS_START .._util_isScheduler,._fromArray,._empty,._scalar PURE_IMPORTS_END */\nimport { isScheduler } from '../util/isScheduler';\nimport { fromArray } from './fromArray';\nimport { empty } from './empty';\nimport { scalar } from './scalar';\nexport function of() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var scheduler = args[args.length - 1];\n    if (isScheduler(scheduler)) {\n        args.pop();\n    }\n    else {\n        scheduler = undefined;\n    }\n    switch (args.length) {\n        case 0:\n            return empty(scheduler);\n        case 1:\n            return scheduler ? fromArray(args, scheduler) : scalar(args[0]);\n        default:\n            return fromArray(args, scheduler);\n    }\n}\n//# sourceMappingURL=of.js.map\n","/** PURE_IMPORTS_START .._Observable PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\n/**\n * Creates an Observable that emits no items to the Observer and immediately\n * emits an error notification.\n *\n * <span class=\"informal\">Just emits 'error', and nothing else.\n * </span>\n *\n * <img src=\"./img/throw.png\" width=\"100%\">\n *\n * This static operator is useful for creating a simple Observable that only\n * emits the error notification. It can be used for composing with other\n * Observables, such as in a {@link mergeMap}.\n *\n * @example <caption>Emit the number 7, then emit an error.</caption>\n * import { throwError, concat, of } from 'rxjs/create';\n *\n * const result = concat(of(7), throwError(new Error('oops!')));\n * result.subscribe(x => console.log(x), e => console.error(e));\n *\n * @example <caption>Map and flatten numbers to the sequence 'a', 'b', 'c', but throw an error for 13</caption>\n * import { throwError, interval, of } from 'rxjs/create';\n * import { mergeMap } from 'rxjs/operators';\n *\n * interval(1000).pipe(\n *   mergeMap(x => x === 13 ?\n *     throwError('Thirteens are bad') :\n *     of('a', 'b', 'c')\n *   )\n * ).subscribe(x => console.log(x), e => console.error(e));\n *\n * @see {@link create}\n * @see {@link empty}\n * @see {@link never}\n * @see {@link of}\n *\n * @param {any} error The particular Error to pass to the error notification.\n * @param {Scheduler} [scheduler] A {@link IScheduler} to use for scheduling\n * the emission of the error notification.\n * @return {Observable} An error Observable: emits only the error notification\n * using the given error argument.\n * @static true\n * @name throw\n * @owner Observable\n */\nexport function throwError(error, scheduler) {\n    if (!scheduler) {\n        return new Observable(function (subscriber) { return subscriber.error(error); });\n    }\n    else {\n        return new Observable(function (subscriber) { return scheduler.schedule(dispatch, 0, { error: error, subscriber: subscriber }); });\n    }\n}\nfunction dispatch(_a) {\n    var error = _a.error, subscriber = _a.subscriber;\n    subscriber.error(error);\n}\n//# sourceMappingURL=throwError.js.map\n","/** PURE_IMPORTS_START ._observable_empty,._observable_of,._observable_throwError PURE_IMPORTS_END */\nimport { empty } from './observable/empty';\nimport { of } from './observable/of';\nimport { throwError } from './observable/throwError';\n/**\n * Represents a push-based event or value that an {@link Observable} can emit.\n * This class is particularly useful for operators that manage notifications,\n * like {@link materialize}, {@link dematerialize}, {@link observeOn}, and\n * others. Besides wrapping the actual delivered value, it also annotates it\n * with metadata of, for instance, what type of push message it is (`next`,\n * `error`, or `complete`).\n *\n * @see {@link materialize}\n * @see {@link dematerialize}\n * @see {@link observeOn}\n *\n * @class Notification<T>\n */\nvar Notification = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function Notification(kind, value, error) {\n        this.kind = kind;\n        this.value = value;\n        this.error = error;\n        this.hasValue = kind === 'N';\n    }\n    /**\n     * Delivers to the given `observer` the value wrapped by this Notification.\n     * @param {Observer} observer\n     * @return\n     */\n    Notification.prototype.observe = function (observer) {\n        switch (this.kind) {\n            case 'N':\n                return observer.next && observer.next(this.value);\n            case 'E':\n                return observer.error && observer.error(this.error);\n            case 'C':\n                return observer.complete && observer.complete();\n        }\n    };\n    /**\n     * Given some {@link Observer} callbacks, deliver the value represented by the\n     * current Notification to the correctly corresponding callback.\n     * @param {function(value: T): void} next An Observer `next` callback.\n     * @param {function(err: any): void} [error] An Observer `error` callback.\n     * @param {function(): void} [complete] An Observer `complete` callback.\n     * @return {any}\n     */\n    Notification.prototype.do = function (next, error, complete) {\n        var kind = this.kind;\n        switch (kind) {\n            case 'N':\n                return next && next(this.value);\n            case 'E':\n                return error && error(this.error);\n            case 'C':\n                return complete && complete();\n        }\n    };\n    /**\n     * Takes an Observer or its individual callback functions, and calls `observe`\n     * or `do` methods accordingly.\n     * @param {Observer|function(value: T): void} nextOrObserver An Observer or\n     * the `next` callback.\n     * @param {function(err: any): void} [error] An Observer `error` callback.\n     * @param {function(): void} [complete] An Observer `complete` callback.\n     * @return {any}\n     */\n    Notification.prototype.accept = function (nextOrObserver, error, complete) {\n        if (nextOrObserver && typeof nextOrObserver.next === 'function') {\n            return this.observe(nextOrObserver);\n        }\n        else {\n            return this.do(nextOrObserver, error, complete);\n        }\n    };\n    /**\n     * Returns a simple Observable that just delivers the notification represented\n     * by this Notification instance.\n     * @return {any}\n     */\n    Notification.prototype.toObservable = function () {\n        var kind = this.kind;\n        switch (kind) {\n            case 'N':\n                return of(this.value);\n            case 'E':\n                return throwError(this.error);\n            case 'C':\n                return empty();\n        }\n        throw new Error('unexpected notification kind value');\n    };\n    /**\n     * A shortcut to create a Notification instance of the type `next` from a\n     * given value.\n     * @param {T} value The `next` value.\n     * @return {Notification<T>} The \"next\" Notification representing the\n     * argument.\n     */\n    Notification.createNext = function (value) {\n        if (typeof value !== 'undefined') {\n            return new Notification('N', value);\n        }\n        return Notification.undefinedValueNotification;\n    };\n    /**\n     * A shortcut to create a Notification instance of the type `error` from a\n     * given error.\n     * @param {any} [err] The `error` error.\n     * @return {Notification<T>} The \"error\" Notification representing the\n     * argument.\n     */\n    Notification.createError = function (err) {\n        return new Notification('E', undefined, err);\n    };\n    /**\n     * A shortcut to create a Notification instance of the type `complete`.\n     * @return {Notification<any>} The valueless \"complete\" Notification.\n     */\n    Notification.createComplete = function () {\n        return Notification.completeNotification;\n    };\n    Notification.completeNotification = new Notification('C');\n    Notification.undefinedValueNotification = new Notification('N', undefined);\n    return Notification;\n}());\nexport { Notification };\n//# sourceMappingURL=Notification.js.map\n","/** PURE_IMPORTS_START tslib,.._scheduler_async,.._util_isDate,.._Subscriber,.._Notification PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { async } from '../scheduler/async';\nimport { isDate } from '../util/isDate';\nimport { Subscriber } from '../Subscriber';\nimport { Notification } from '../Notification';\n/**\n * Delays the emission of items from the source Observable by a given timeout or\n * until a given Date.\n *\n * <span class=\"informal\">Time shifts each item by some specified amount of\n * milliseconds.</span>\n *\n * <img src=\"./img/delay.png\" width=\"100%\">\n *\n * If the delay argument is a Number, this operator time shifts the source\n * Observable by that amount of time expressed in milliseconds. The relative\n * time intervals between the values are preserved.\n *\n * If the delay argument is a Date, this operator time shifts the start of the\n * Observable execution until the given date occurs.\n *\n * @example <caption>Delay each click by one second</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var delayedClicks = clicks.delay(1000); // each click emitted after 1 second\n * delayedClicks.subscribe(x => console.log(x));\n *\n * @example <caption>Delay all clicks until a future date happens</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var date = new Date('March 15, 2050 12:00:00'); // in the future\n * var delayedClicks = clicks.delay(date); // click emitted only after that date\n * delayedClicks.subscribe(x => console.log(x));\n *\n * @see {@link debounceTime}\n * @see {@link delayWhen}\n *\n * @param {number|Date} delay The delay duration in milliseconds (a `number`) or\n * a `Date` until which the emission of the source items is delayed.\n * @param {Scheduler} [scheduler=async] The IScheduler to use for\n * managing the timers that handle the time-shift for each item.\n * @return {Observable} An Observable that delays the emissions of the source\n * Observable by the specified timeout or Date.\n * @method delay\n * @owner Observable\n */\nexport function delay(delay, scheduler) {\n    if (scheduler === void 0) {\n        scheduler = async;\n    }\n    var absoluteDelay = isDate(delay);\n    var delayFor = absoluteDelay ? (+delay - scheduler.now()) : Math.abs(delay);\n    return function (source) { return source.lift(new DelayOperator(delayFor, scheduler)); };\n}\nvar DelayOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function DelayOperator(delay, scheduler) {\n        this.delay = delay;\n        this.scheduler = scheduler;\n    }\n    DelayOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new DelaySubscriber(subscriber, this.delay, this.scheduler));\n    };\n    return DelayOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar DelaySubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(DelaySubscriber, _super);\n    function DelaySubscriber(destination, delay, scheduler) {\n        var _this = _super.call(this, destination) || this;\n        _this.delay = delay;\n        _this.scheduler = scheduler;\n        _this.queue = [];\n        _this.active = false;\n        _this.errored = false;\n        return _this;\n    }\n    DelaySubscriber.dispatch = function (state) {\n        var source = state.source;\n        var queue = source.queue;\n        var scheduler = state.scheduler;\n        var destination = state.destination;\n        while (queue.length > 0 && (queue[0].time - scheduler.now()) <= 0) {\n            queue.shift().notification.observe(destination);\n        }\n        if (queue.length > 0) {\n            var delay_1 = Math.max(0, queue[0].time - scheduler.now());\n            this.schedule(state, delay_1);\n        }\n        else {\n            source.active = false;\n        }\n    };\n    DelaySubscriber.prototype._schedule = function (scheduler) {\n        this.active = true;\n        this.add(scheduler.schedule(DelaySubscriber.dispatch, this.delay, {\n            source: this, destination: this.destination, scheduler: scheduler\n        }));\n    };\n    DelaySubscriber.prototype.scheduleNotification = function (notification) {\n        if (this.errored === true) {\n            return;\n        }\n        var scheduler = this.scheduler;\n        var message = new DelayMessage(scheduler.now() + this.delay, notification);\n        this.queue.push(message);\n        if (this.active === false) {\n            this._schedule(scheduler);\n        }\n    };\n    DelaySubscriber.prototype._next = function (value) {\n        this.scheduleNotification(Notification.createNext(value));\n    };\n    DelaySubscriber.prototype._error = function (err) {\n        this.errored = true;\n        this.queue = [];\n        this.destination.error(err);\n    };\n    DelaySubscriber.prototype._complete = function () {\n        this.scheduleNotification(Notification.createComplete());\n    };\n    return DelaySubscriber;\n}(Subscriber));\nvar DelayMessage = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function DelayMessage(time, notification) {\n        this.time = time;\n        this.notification = notification;\n    }\n    return DelayMessage;\n}());\n//# sourceMappingURL=delay.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscriber,.._Observable,.._OuterSubscriber,.._util_subscribeToResult PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\n/**\n * Delays the emission of items from the source Observable by a given time span\n * determined by the emissions of another Observable.\n *\n * <span class=\"informal\">It's like {@link delay}, but the time span of the\n * delay duration is determined by a second Observable.</span>\n *\n * <img src=\"./img/delayWhen.png\" width=\"100%\">\n *\n * `delayWhen` time shifts each emitted value from the source Observable by a\n * time span determined by another Observable. When the source emits a value,\n * the `delayDurationSelector` function is called with the source value as\n * argument, and should return an Observable, called the \"duration\" Observable.\n * The source value is emitted on the output Observable only when the duration\n * Observable emits a value or completes.\n *\n * Optionally, `delayWhen` takes a second argument, `subscriptionDelay`, which\n * is an Observable. When `subscriptionDelay` emits its first value or\n * completes, the source Observable is subscribed to and starts behaving like\n * described in the previous paragraph. If `subscriptionDelay` is not provided,\n * `delayWhen` will subscribe to the source Observable as soon as the output\n * Observable is subscribed.\n *\n * @example <caption>Delay each click by a random amount of time, between 0 and 5 seconds</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var delayedClicks = clicks.delayWhen(event =>\n *   Rx.Observable.interval(Math.random() * 5000)\n * );\n * delayedClicks.subscribe(x => console.log(x));\n *\n * @see {@link debounce}\n * @see {@link delay}\n *\n * @param {function(value: T): Observable} delayDurationSelector A function that\n * returns an Observable for each value emitted by the source Observable, which\n * is then used to delay the emission of that item on the output Observable\n * until the Observable returned from this function emits a value.\n * @param {Observable} subscriptionDelay An Observable that triggers the\n * subscription to the source Observable once it emits any value.\n * @return {Observable} An Observable that delays the emissions of the source\n * Observable by an amount of time specified by the Observable returned by\n * `delayDurationSelector`.\n * @method delayWhen\n * @owner Observable\n */\nexport function delayWhen(delayDurationSelector, subscriptionDelay) {\n    if (subscriptionDelay) {\n        return function (source) {\n            return new SubscriptionDelayObservable(source, subscriptionDelay)\n                .lift(new DelayWhenOperator(delayDurationSelector));\n        };\n    }\n    return function (source) { return source.lift(new DelayWhenOperator(delayDurationSelector)); };\n}\nvar DelayWhenOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function DelayWhenOperator(delayDurationSelector) {\n        this.delayDurationSelector = delayDurationSelector;\n    }\n    DelayWhenOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new DelayWhenSubscriber(subscriber, this.delayDurationSelector));\n    };\n    return DelayWhenOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar DelayWhenSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(DelayWhenSubscriber, _super);\n    function DelayWhenSubscriber(destination, delayDurationSelector) {\n        var _this = _super.call(this, destination) || this;\n        _this.delayDurationSelector = delayDurationSelector;\n        _this.completed = false;\n        _this.delayNotifierSubscriptions = [];\n        _this.values = [];\n        return _this;\n    }\n    DelayWhenSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.destination.next(outerValue);\n        this.removeSubscription(innerSub);\n        this.tryComplete();\n    };\n    DelayWhenSubscriber.prototype.notifyError = function (error, innerSub) {\n        this._error(error);\n    };\n    DelayWhenSubscriber.prototype.notifyComplete = function (innerSub) {\n        var value = this.removeSubscription(innerSub);\n        if (value) {\n            this.destination.next(value);\n        }\n        this.tryComplete();\n    };\n    DelayWhenSubscriber.prototype._next = function (value) {\n        try {\n            var delayNotifier = this.delayDurationSelector(value);\n            if (delayNotifier) {\n                this.tryDelay(delayNotifier, value);\n            }\n        }\n        catch (err) {\n            this.destination.error(err);\n        }\n    };\n    DelayWhenSubscriber.prototype._complete = function () {\n        this.completed = true;\n        this.tryComplete();\n    };\n    DelayWhenSubscriber.prototype.removeSubscription = function (subscription) {\n        subscription.unsubscribe();\n        var subscriptionIdx = this.delayNotifierSubscriptions.indexOf(subscription);\n        var value = null;\n        if (subscriptionIdx !== -1) {\n            value = this.values[subscriptionIdx];\n            this.delayNotifierSubscriptions.splice(subscriptionIdx, 1);\n            this.values.splice(subscriptionIdx, 1);\n        }\n        return value;\n    };\n    DelayWhenSubscriber.prototype.tryDelay = function (delayNotifier, value) {\n        var notifierSubscription = subscribeToResult(this, delayNotifier, value);\n        if (notifierSubscription && !notifierSubscription.closed) {\n            this.add(notifierSubscription);\n            this.delayNotifierSubscriptions.push(notifierSubscription);\n        }\n        this.values.push(value);\n    };\n    DelayWhenSubscriber.prototype.tryComplete = function () {\n        if (this.completed && this.delayNotifierSubscriptions.length === 0) {\n            this.destination.complete();\n        }\n    };\n    return DelayWhenSubscriber;\n}(OuterSubscriber));\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SubscriptionDelayObservable = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SubscriptionDelayObservable, _super);\n    function SubscriptionDelayObservable(source, subscriptionDelay) {\n        var _this = _super.call(this) || this;\n        _this.source = source;\n        _this.subscriptionDelay = subscriptionDelay;\n        return _this;\n    }\n    SubscriptionDelayObservable.prototype._subscribe = function (subscriber) {\n        this.subscriptionDelay.subscribe(new SubscriptionDelaySubscriber(subscriber, this.source));\n    };\n    return SubscriptionDelayObservable;\n}(Observable));\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SubscriptionDelaySubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SubscriptionDelaySubscriber, _super);\n    function SubscriptionDelaySubscriber(parent, source) {\n        var _this = _super.call(this) || this;\n        _this.parent = parent;\n        _this.source = source;\n        _this.sourceSubscribed = false;\n        return _this;\n    }\n    SubscriptionDelaySubscriber.prototype._next = function (unused) {\n        this.subscribeToSource();\n    };\n    SubscriptionDelaySubscriber.prototype._error = function (err) {\n        this.unsubscribe();\n        this.parent.error(err);\n    };\n    SubscriptionDelaySubscriber.prototype._complete = function () {\n        this.subscribeToSource();\n    };\n    SubscriptionDelaySubscriber.prototype.subscribeToSource = function () {\n        if (!this.sourceSubscribed) {\n            this.sourceSubscribed = true;\n            this.unsubscribe();\n            this.source.subscribe(this.parent);\n        }\n    };\n    return SubscriptionDelaySubscriber;\n}(Subscriber));\n//# sourceMappingURL=delayWhen.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\n/**\n * Converts an Observable of {@link Notification} objects into the emissions\n * that they represent.\n *\n * <span class=\"informal\">Unwraps {@link Notification} objects as actual `next`,\n * `error` and `complete` emissions. The opposite of {@link materialize}.</span>\n *\n * <img src=\"./img/dematerialize.png\" width=\"100%\">\n *\n * `dematerialize` is assumed to operate an Observable that only emits\n * {@link Notification} objects as `next` emissions, and does not emit any\n * `error`. Such Observable is the output of a `materialize` operation. Those\n * notifications are then unwrapped using the metadata they contain, and emitted\n * as `next`, `error`, and `complete` on the output Observable.\n *\n * Use this operator in conjunction with {@link materialize}.\n *\n * @example <caption>Convert an Observable of Notifications to an actual Observable</caption>\n * var notifA = new Rx.Notification('N', 'A');\n * var notifB = new Rx.Notification('N', 'B');\n * var notifE = new Rx.Notification('E', void 0,\n *   new TypeError('x.toUpperCase is not a function')\n * );\n * var materialized = Rx.Observable.of(notifA, notifB, notifE);\n * var upperCase = materialized.dematerialize();\n * upperCase.subscribe(x => console.log(x), e => console.error(e));\n *\n * // Results in:\n * // A\n * // B\n * // TypeError: x.toUpperCase is not a function\n *\n * @see {@link Notification}\n * @see {@link materialize}\n *\n * @return {Observable} An Observable that emits items and notifications\n * embedded in Notification objects emitted by the source Observable.\n * @method dematerialize\n * @owner Observable\n */\nexport function dematerialize() {\n    return function dematerializeOperatorFunction(source) {\n        return source.lift(new DeMaterializeOperator());\n    };\n}\nvar DeMaterializeOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function DeMaterializeOperator() {\n    }\n    DeMaterializeOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new DeMaterializeSubscriber(subscriber));\n    };\n    return DeMaterializeOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar DeMaterializeSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(DeMaterializeSubscriber, _super);\n    function DeMaterializeSubscriber(destination) {\n        return _super.call(this, destination) || this;\n    }\n    DeMaterializeSubscriber.prototype._next = function (value) {\n        value.observe(this.destination);\n    };\n    return DeMaterializeSubscriber;\n}(Subscriber));\n//# sourceMappingURL=dematerialize.js.map\n","var isObject = require('./_is-object');\nmodule.exports = function (it, TYPE) {\n  if (!isObject(it) || it._t !== TYPE) throw TypeError('Incompatible receiver, ' + TYPE + ' required!');\n  return it;\n};\n","'use strict';\nvar dP = require('./_object-dp').f;\nvar create = require('./_object-create');\nvar redefineAll = require('./_redefine-all');\nvar ctx = require('./_ctx');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar $iterDefine = require('./_iter-define');\nvar step = require('./_iter-step');\nvar setSpecies = require('./_set-species');\nvar DESCRIPTORS = require('./_descriptors');\nvar fastKey = require('./_meta').fastKey;\nvar validate = require('./_validate-collection');\nvar SIZE = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function (that, key) {\n  // fast case\n  var index = fastKey(key);\n  var entry;\n  if (index !== 'F') return that._i[index];\n  // frozen object case\n  for (entry = that._f; entry; entry = entry.n) {\n    if (entry.k == key) return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;         // collection type\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        for (var that = validate(this, NAME), data = that._i, entry = that._f; entry; entry = entry.n) {\n          entry.r = true;\n          if (entry.p) entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = validate(this, NAME);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.n;\n          var prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if (prev) prev.n = next;\n          if (next) next.p = prev;\n          if (that._f == entry) that._f = next;\n          if (that._l == entry) that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        validate(this, NAME);\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.n : this._f) {\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while (entry && entry.r) entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(validate(this, NAME), key);\n      }\n    });\n    if (DESCRIPTORS) dP(C.prototype, 'size', {\n      get: function () {\n        return validate(this, NAME)[SIZE];\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var entry = getEntry(that, key);\n    var prev, index;\n    // change existing entry\n    if (entry) {\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if (!that._f) that._f = entry;\n      if (prev) prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if (index !== 'F') that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function (C, NAME, IS_MAP) {\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function (iterated, kind) {\n      this._t = validate(iterated, NAME); // target\n      this._k = kind;                     // kind\n      this._l = undefined;                // previous\n    }, function () {\n      var that = this;\n      var kind = that._k;\n      var entry = that._l;\n      // revert to the last existing entry\n      while (entry && entry.r) entry = entry.p;\n      // get next entry\n      if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if (kind == 'keys') return step(0, entry.k);\n      if (kind == 'values') return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","var isObject = require('./_is-object');\nvar setPrototypeOf = require('./_set-proto').set;\nmodule.exports = function (that, target, C) {\n  var S = target.constructor;\n  var P;\n  if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) {\n    setPrototypeOf(that, P);\n  } return that;\n};\n","'use strict';\nvar global = require('./_global');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar redefineAll = require('./_redefine-all');\nvar meta = require('./_meta');\nvar forOf = require('./_for-of');\nvar anInstance = require('./_an-instance');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar $iterDetect = require('./_iter-detect');\nvar setToStringTag = require('./_set-to-string-tag');\nvar inheritIfRequired = require('./_inherit-if-required');\n\nmodule.exports = function (NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {\n  var Base = global[NAME];\n  var C = Base;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var proto = C && C.prototype;\n  var O = {};\n  var fixMethod = function (KEY) {\n    var fn = proto[KEY];\n    redefine(proto, KEY,\n      KEY == 'delete' ? function (a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'has' ? function has(a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'get' ? function get(a) {\n        return IS_WEAK && !isObject(a) ? undefined : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'add' ? function add(a) { fn.call(this, a === 0 ? 0 : a); return this; }\n        : function set(a, b) { fn.call(this, a === 0 ? 0 : a, b); return this; }\n    );\n  };\n  if (typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function () {\n    new C().entries().next();\n  }))) {\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    var instance = new C();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~  Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    var ACCEPT_ITERABLES = $iterDetect(function (iter) { new C(iter); }); // eslint-disable-line no-new\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new C();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n    if (!ACCEPT_ITERABLES) {\n      C = wrapper(function (target, iterable) {\n        anInstance(target, C, NAME);\n        var that = inheritIfRequired(new Base(), target, C);\n        if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n        return that;\n      });\n      C.prototype = proto;\n      proto.constructor = C;\n    }\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n    // weak collections should not contains .clear method\n    if (IS_WEAK && proto.clear) delete proto.clear;\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F * (C != Base), O);\n\n  if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar SET = 'Set';\n\n// 23.2 Set Objects\nmodule.exports = require('./_collection')(SET, function (get) {\n  return function Set() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.2.3.1 Set.prototype.add(value)\n  add: function add(value) {\n    return strong.def(validate(this, SET), value = value === 0 ? 0 : value, value);\n  }\n}, strong);\n","/** PURE_IMPORTS_START tslib,.._OuterSubscriber,.._util_subscribeToResult PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nif (!Set) {\n    throw /*@__PURE__*/ new Error('Set is not present, please polyfill');\n}\n/**\n * Returns an Observable that emits all items emitted by the source Observable that are distinct by comparison from previous items.\n *\n * If a keySelector function is provided, then it will project each value from the source observable into a new value that it will\n * check for equality with previously projected values. If a keySelector function is not provided, it will use each value from the\n * source observable directly with an equality check against previous values.\n *\n * In JavaScript runtimes that support `Set`, this operator will use a `Set` to improve performance of the distinct value checking.\n *\n * In other runtimes, this operator will use a minimal implementation of `Set` that relies on an `Array` and `indexOf` under the\n * hood, so performance will degrade as more values are checked for distinction. Even in newer browsers, a long-running `distinct`\n * use might result in memory leaks. To help alleviate this in some scenarios, an optional `flushes` parameter is also provided so\n * that the internal `Set` can be \"flushed\", basically clearing it of values.\n *\n * @example <caption>A simple example with numbers</caption>\n * Observable.of(1, 1, 2, 2, 2, 1, 2, 3, 4, 3, 2, 1)\n *   .distinct()\n *   .subscribe(x => console.log(x)); // 1, 2, 3, 4\n *\n * @example <caption>An example using a keySelector function</caption>\n * interface Person {\n *    age: number,\n *    name: string\n * }\n *\n * Observable.of<Person>(\n *     { age: 4, name: 'Foo'},\n *     { age: 7, name: 'Bar'},\n *     { age: 5, name: 'Foo'})\n *     .distinct((p: Person) => p.name)\n *     .subscribe(x => console.log(x));\n *\n * // displays:\n * // { age: 4, name: 'Foo' }\n * // { age: 7, name: 'Bar' }\n *\n * @see {@link distinctUntilChanged}\n * @see {@link distinctUntilKeyChanged}\n *\n * @param {function} [keySelector] Optional function to select which value you want to check as distinct.\n * @param {Observable} [flushes] Optional Observable for flushing the internal HashSet of the operator.\n * @return {Observable} An Observable that emits items from the source Observable with distinct values.\n * @method distinct\n * @owner Observable\n */\nexport function distinct(keySelector, flushes) {\n    return function (source) { return source.lift(new DistinctOperator(keySelector, flushes)); };\n}\nvar DistinctOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function DistinctOperator(keySelector, flushes) {\n        this.keySelector = keySelector;\n        this.flushes = flushes;\n    }\n    DistinctOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new DistinctSubscriber(subscriber, this.keySelector, this.flushes));\n    };\n    return DistinctOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar DistinctSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(DistinctSubscriber, _super);\n    function DistinctSubscriber(destination, keySelector, flushes) {\n        var _this = _super.call(this, destination) || this;\n        _this.keySelector = keySelector;\n        _this.values = new Set();\n        if (flushes) {\n            _this.add(subscribeToResult(_this, flushes));\n        }\n        return _this;\n    }\n    DistinctSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.values.clear();\n    };\n    DistinctSubscriber.prototype.notifyError = function (error, innerSub) {\n        this._error(error);\n    };\n    DistinctSubscriber.prototype._next = function (value) {\n        if (this.keySelector) {\n            this._useKeySelector(value);\n        }\n        else {\n            this._finalizeNext(value, value);\n        }\n    };\n    DistinctSubscriber.prototype._useKeySelector = function (value) {\n        var key;\n        var destination = this.destination;\n        try {\n            key = this.keySelector(value);\n        }\n        catch (err) {\n            destination.error(err);\n            return;\n        }\n        this._finalizeNext(key, value);\n    };\n    DistinctSubscriber.prototype._finalizeNext = function (key, value) {\n        var values = this.values;\n        if (!values.has(key)) {\n            values.add(key);\n            this.destination.next(value);\n        }\n    };\n    return DistinctSubscriber;\n}(OuterSubscriber));\nexport { DistinctSubscriber };\n//# sourceMappingURL=distinct.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscriber,.._util_tryCatch,.._util_errorObject PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { tryCatch } from '../util/tryCatch';\nimport { errorObject } from '../util/errorObject';\n/* tslint:enable:max-line-length */\n/**\n * Returns an Observable that emits all items emitted by the source Observable that are distinct by comparison from the previous item.\n *\n * If a comparator function is provided, then it will be called for each item to test for whether or not that value should be emitted.\n *\n * If a comparator function is not provided, an equality check is used by default.\n *\n * @example <caption>A simple example with numbers</caption>\n * Observable.of(1, 1, 2, 2, 2, 1, 1, 2, 3, 3, 4)\n *   .distinctUntilChanged()\n *   .subscribe(x => console.log(x)); // 1, 2, 1, 2, 3, 4\n *\n * @example <caption>An example using a compare function</caption>\n * interface Person {\n *    age: number,\n *    name: string\n * }\n *\n * Observable.of<Person>(\n *     { age: 4, name: 'Foo'},\n *     { age: 7, name: 'Bar'},\n *     { age: 5, name: 'Foo'})\n *     { age: 6, name: 'Foo'})\n *     .distinctUntilChanged((p: Person, q: Person) => p.name === q.name)\n *     .subscribe(x => console.log(x));\n *\n * // displays:\n * // { age: 4, name: 'Foo' }\n * // { age: 7, name: 'Bar' }\n * // { age: 5, name: 'Foo' }\n *\n * @see {@link distinct}\n * @see {@link distinctUntilKeyChanged}\n *\n * @param {function} [compare] Optional comparison function called to test if an item is distinct from the previous item in the source.\n * @return {Observable} An Observable that emits items from the source Observable with distinct values.\n * @method distinctUntilChanged\n * @owner Observable\n */\nexport function distinctUntilChanged(compare, keySelector) {\n    return function (source) { return source.lift(new DistinctUntilChangedOperator(compare, keySelector)); };\n}\nvar DistinctUntilChangedOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function DistinctUntilChangedOperator(compare, keySelector) {\n        this.compare = compare;\n        this.keySelector = keySelector;\n    }\n    DistinctUntilChangedOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new DistinctUntilChangedSubscriber(subscriber, this.compare, this.keySelector));\n    };\n    return DistinctUntilChangedOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar DistinctUntilChangedSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(DistinctUntilChangedSubscriber, _super);\n    function DistinctUntilChangedSubscriber(destination, compare, keySelector) {\n        var _this = _super.call(this, destination) || this;\n        _this.keySelector = keySelector;\n        _this.hasKey = false;\n        if (typeof compare === 'function') {\n            _this.compare = compare;\n        }\n        return _this;\n    }\n    DistinctUntilChangedSubscriber.prototype.compare = function (x, y) {\n        return x === y;\n    };\n    DistinctUntilChangedSubscriber.prototype._next = function (value) {\n        var keySelector = this.keySelector;\n        var key = value;\n        if (keySelector) {\n            key = tryCatch(this.keySelector)(value);\n            if (key === errorObject) {\n                return this.destination.error(errorObject.e);\n            }\n        }\n        var result = false;\n        if (this.hasKey) {\n            result = tryCatch(this.compare)(this.key, key);\n            if (result === errorObject) {\n                return this.destination.error(errorObject.e);\n            }\n        }\n        else {\n            this.hasKey = true;\n        }\n        if (Boolean(result) === false) {\n            this.key = key;\n            this.destination.next(value);\n        }\n    };\n    return DistinctUntilChangedSubscriber;\n}(Subscriber));\n//# sourceMappingURL=distinctUntilChanged.js.map\n","/** PURE_IMPORTS_START ._distinctUntilChanged PURE_IMPORTS_END */\nimport { distinctUntilChanged } from './distinctUntilChanged';\n/* tslint:enable:max-line-length */\n/**\n * Returns an Observable that emits all items emitted by the source Observable that are distinct by comparison from the previous item,\n * using a property accessed by using the key provided to check if the two items are distinct.\n *\n * If a comparator function is provided, then it will be called for each item to test for whether or not that value should be emitted.\n *\n * If a comparator function is not provided, an equality check is used by default.\n *\n * @example <caption>An example comparing the name of persons</caption>\n *\n *  interface Person {\n *     age: number,\n *     name: string\n *  }\n *\n * Observable.of<Person>(\n *     { age: 4, name: 'Foo'},\n *     { age: 7, name: 'Bar'},\n *     { age: 5, name: 'Foo'},\n *     { age: 6, name: 'Foo'})\n *     .distinctUntilKeyChanged('name')\n *     .subscribe(x => console.log(x));\n *\n * // displays:\n * // { age: 4, name: 'Foo' }\n * // { age: 7, name: 'Bar' }\n * // { age: 5, name: 'Foo' }\n *\n * @example <caption>An example comparing the first letters of the name</caption>\n *\n * interface Person {\n *     age: number,\n *     name: string\n *  }\n *\n * Observable.of<Person>(\n *     { age: 4, name: 'Foo1'},\n *     { age: 7, name: 'Bar'},\n *     { age: 5, name: 'Foo2'},\n *     { age: 6, name: 'Foo3'})\n *     .distinctUntilKeyChanged('name', (x: string, y: string) => x.substring(0, 3) === y.substring(0, 3))\n *     .subscribe(x => console.log(x));\n *\n * // displays:\n * // { age: 4, name: 'Foo1' }\n * // { age: 7, name: 'Bar' }\n * // { age: 5, name: 'Foo2' }\n *\n * @see {@link distinct}\n * @see {@link distinctUntilChanged}\n *\n * @param {string} key String key for object property lookup on each item.\n * @param {function} [compare] Optional comparison function called to test if an item is distinct from the previous item in the source.\n * @return {Observable} An Observable that emits items from the source Observable with distinct values based on the key specified.\n * @method distinctUntilKeyChanged\n * @owner Observable\n */\nexport function distinctUntilKeyChanged(key, compare) {\n    return distinctUntilChanged(function (x, y) { return compare ? compare(x[key], y[key]) : x[key] === y[key]; });\n}\n//# sourceMappingURL=distinctUntilKeyChanged.js.map\n","/** PURE_IMPORTS_START tslib PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\n/**\n * An error thrown when an element was queried at a certain index of an\n * Observable, but no such index or position exists in that sequence.\n *\n * @see {@link elementAt}\n * @see {@link take}\n * @see {@link takeLast}\n *\n * @class ArgumentOutOfRangeError\n */\nvar ArgumentOutOfRangeError = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ArgumentOutOfRangeError, _super);\n    function ArgumentOutOfRangeError() {\n        var _this = _super.call(this, 'argument out of range') || this;\n        _this.name = 'ArgumentOutOfRangeError';\n        Object.setPrototypeOf(_this, ArgumentOutOfRangeError.prototype);\n        return _this;\n    }\n    return ArgumentOutOfRangeError;\n}(Error));\nexport { ArgumentOutOfRangeError };\n//# sourceMappingURL=ArgumentOutOfRangeError.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscriber,.._util_ArgumentOutOfRangeError PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { ArgumentOutOfRangeError } from '../util/ArgumentOutOfRangeError';\n/**\n * Emits the single value at the specified `index` in a sequence of emissions\n * from the source Observable.\n *\n * <span class=\"informal\">Emits only the i-th value, then completes.</span>\n *\n * <img src=\"./img/elementAt.png\" width=\"100%\">\n *\n * `elementAt` returns an Observable that emits the item at the specified\n * `index` in the source Observable, or a default value if that `index` is out\n * of range and the `default` argument is provided. If the `default` argument is\n * not given and the `index` is out of range, the output Observable will emit an\n * `ArgumentOutOfRangeError` error.\n *\n * @example <caption>Emit only the third click event</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.elementAt(2);\n * result.subscribe(x => console.log(x));\n *\n * // Results in:\n * // click 1 = nothing\n * // click 2 = nothing\n * // click 3 = MouseEvent object logged to console\n *\n * @see {@link first}\n * @see {@link last}\n * @see {@link skip}\n * @see {@link single}\n * @see {@link take}\n *\n * @throws {ArgumentOutOfRangeError} When using `elementAt(i)`, it delivers an\n * ArgumentOutOrRangeError to the Observer's `error` callback if `i < 0` or the\n * Observable has completed before emitting the i-th `next` notification.\n *\n * @param {number} index Is the number `i` for the i-th source emission that has\n * happened since the subscription, starting from the number `0`.\n * @param {T} [defaultValue] The default value returned for missing indices.\n * @return {Observable} An Observable that emits a single item, if it is found.\n * Otherwise, will emit the default value if given. If not, then emits an error.\n * @method elementAt\n * @owner Observable\n */\nexport function elementAt(index, defaultValue) {\n    return function (source) { return source.lift(new ElementAtOperator(index, defaultValue)); };\n}\nvar ElementAtOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function ElementAtOperator(index, defaultValue) {\n        this.index = index;\n        this.defaultValue = defaultValue;\n        if (index < 0) {\n            throw new ArgumentOutOfRangeError;\n        }\n    }\n    ElementAtOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ElementAtSubscriber(subscriber, this.index, this.defaultValue));\n    };\n    return ElementAtOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar ElementAtSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ElementAtSubscriber, _super);\n    function ElementAtSubscriber(destination, index, defaultValue) {\n        var _this = _super.call(this, destination) || this;\n        _this.index = index;\n        _this.defaultValue = defaultValue;\n        return _this;\n    }\n    ElementAtSubscriber.prototype._next = function (x) {\n        if (this.index-- === 0) {\n            this.destination.next(x);\n            this.destination.complete();\n        }\n    };\n    ElementAtSubscriber.prototype._complete = function () {\n        var destination = this.destination;\n        if (this.index >= 0) {\n            if (typeof this.defaultValue !== 'undefined') {\n                destination.next(this.defaultValue);\n            }\n            else {\n                destination.error(new ArgumentOutOfRangeError);\n            }\n        }\n        destination.complete();\n    };\n    return ElementAtSubscriber;\n}(Subscriber));\n//# sourceMappingURL=elementAt.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\n/**\n * Returns an Observable that emits whether or not every item of the source satisfies the condition specified.\n *\n * @example <caption>A simple example emitting true if all elements are less than 5, false otherwise</caption>\n *  Observable.of(1, 2, 3, 4, 5, 6)\n *     .every(x => x < 5)\n *     .subscribe(x => console.log(x)); // -> false\n *\n * @param {function} predicate A function for determining if an item meets a specified condition.\n * @param {any} [thisArg] Optional object to use for `this` in the callback.\n * @return {Observable} An Observable of booleans that determines if all items of the source Observable meet the condition specified.\n * @method every\n * @owner Observable\n */\nexport function every(predicate, thisArg) {\n    return function (source) { return source.lift(new EveryOperator(predicate, thisArg, source)); };\n}\nvar EveryOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function EveryOperator(predicate, thisArg, source) {\n        this.predicate = predicate;\n        this.thisArg = thisArg;\n        this.source = source;\n    }\n    EveryOperator.prototype.call = function (observer, source) {\n        return source.subscribe(new EverySubscriber(observer, this.predicate, this.thisArg, this.source));\n    };\n    return EveryOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar EverySubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(EverySubscriber, _super);\n    function EverySubscriber(destination, predicate, thisArg, source) {\n        var _this = _super.call(this, destination) || this;\n        _this.predicate = predicate;\n        _this.thisArg = thisArg;\n        _this.source = source;\n        _this.index = 0;\n        _this.thisArg = thisArg || _this;\n        return _this;\n    }\n    EverySubscriber.prototype.notifyComplete = function (everyValueMatch) {\n        this.destination.next(everyValueMatch);\n        this.destination.complete();\n    };\n    EverySubscriber.prototype._next = function (value) {\n        var result = false;\n        try {\n            result = this.predicate.call(this.thisArg, value, this.index++, this.source);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        if (!result) {\n            this.notifyComplete(false);\n        }\n    };\n    EverySubscriber.prototype._complete = function () {\n        this.notifyComplete(true);\n    };\n    return EverySubscriber;\n}(Subscriber));\n//# sourceMappingURL=every.js.map\n","/** PURE_IMPORTS_START tslib,.._OuterSubscriber,.._util_subscribeToResult PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\n/**\n * Converts a higher-order Observable into a first-order Observable by dropping\n * inner Observables while the previous inner Observable has not yet completed.\n *\n * <span class=\"informal\">Flattens an Observable-of-Observables by dropping the\n * next inner Observables while the current inner is still executing.</span>\n *\n * <img src=\"./img/exhaust.png\" width=\"100%\">\n *\n * `exhaust` subscribes to an Observable that emits Observables, also known as a\n * higher-order Observable. Each time it observes one of these emitted inner\n * Observables, the output Observable begins emitting the items emitted by that\n * inner Observable. So far, it behaves like {@link mergeAll}. However,\n * `exhaust` ignores every new inner Observable if the previous Observable has\n * not yet completed. Once that one completes, it will accept and flatten the\n * next inner Observable and repeat this process.\n *\n * @example <caption>Run a finite timer for each click, only if there is no currently active timer</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var higherOrder = clicks.map((ev) => Rx.Observable.interval(1000).take(5));\n * var result = higherOrder.exhaust();\n * result.subscribe(x => console.log(x));\n *\n * @see {@link combineAll}\n * @see {@link concatAll}\n * @see {@link switch}\n * @see {@link mergeAll}\n * @see {@link exhaustMap}\n * @see {@link zipAll}\n *\n * @return {Observable} An Observable that takes a source of Observables and propagates the first observable\n * exclusively until it completes before subscribing to the next.\n * @method exhaust\n * @owner Observable\n */\nexport function exhaust() {\n    return function (source) { return source.lift(new SwitchFirstOperator()); };\n}\nvar SwitchFirstOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function SwitchFirstOperator() {\n    }\n    SwitchFirstOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new SwitchFirstSubscriber(subscriber));\n    };\n    return SwitchFirstOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SwitchFirstSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SwitchFirstSubscriber, _super);\n    function SwitchFirstSubscriber(destination) {\n        var _this = _super.call(this, destination) || this;\n        _this.hasCompleted = false;\n        _this.hasSubscription = false;\n        return _this;\n    }\n    SwitchFirstSubscriber.prototype._next = function (value) {\n        if (!this.hasSubscription) {\n            this.hasSubscription = true;\n            this.add(subscribeToResult(this, value));\n        }\n    };\n    SwitchFirstSubscriber.prototype._complete = function () {\n        this.hasCompleted = true;\n        if (!this.hasSubscription) {\n            this.destination.complete();\n        }\n    };\n    SwitchFirstSubscriber.prototype.notifyComplete = function (innerSub) {\n        this.remove(innerSub);\n        this.hasSubscription = false;\n        if (this.hasCompleted) {\n            this.destination.complete();\n        }\n    };\n    return SwitchFirstSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=exhaust.js.map\n","/** PURE_IMPORTS_START tslib,.._OuterSubscriber,.._util_subscribeToResult PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\n/**\n * Projects each source value to an Observable which is merged in the output\n * Observable only if the previous projected Observable has completed.\n *\n * <span class=\"informal\">Maps each value to an Observable, then flattens all of\n * these inner Observables using {@link exhaust}.</span>\n *\n * <img src=\"./img/exhaustMap.png\" width=\"100%\">\n *\n * Returns an Observable that emits items based on applying a function that you\n * supply to each item emitted by the source Observable, where that function\n * returns an (so-called \"inner\") Observable. When it projects a source value to\n * an Observable, the output Observable begins emitting the items emitted by\n * that projected Observable. However, `exhaustMap` ignores every new projected\n * Observable if the previous projected Observable has not yet completed. Once\n * that one completes, it will accept and flatten the next projected Observable\n * and repeat this process.\n *\n * @example <caption>Run a finite timer for each click, only if there is no currently active timer</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.exhaustMap((ev) => Rx.Observable.interval(1000).take(5));\n * result.subscribe(x => console.log(x));\n *\n * @see {@link concatMap}\n * @see {@link exhaust}\n * @see {@link mergeMap}\n * @see {@link switchMap}\n *\n * @param {function(value: T, ?index: number): ObservableInput} project A function\n * that, when applied to an item emitted by the source Observable, returns an\n * Observable.\n * @return {Observable} An Observable containing projected Observables\n * of each item of the source, ignoring projected Observables that start before\n * their preceding Observable has completed.\n * @method exhaustMap\n * @owner Observable\n */\nexport function exhaustMap(project) {\n    return function (source) {\n        return source.lift(new SwitchFirstMapOperator(project));\n    };\n}\nvar SwitchFirstMapOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function SwitchFirstMapOperator(project) {\n        this.project = project;\n    }\n    SwitchFirstMapOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new SwitchFirstMapSubscriber(subscriber, this.project));\n    };\n    return SwitchFirstMapOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SwitchFirstMapSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SwitchFirstMapSubscriber, _super);\n    function SwitchFirstMapSubscriber(destination, project) {\n        var _this = _super.call(this, destination) || this;\n        _this.project = project;\n        _this.hasSubscription = false;\n        _this.hasCompleted = false;\n        _this.index = 0;\n        return _this;\n    }\n    SwitchFirstMapSubscriber.prototype._next = function (value) {\n        if (!this.hasSubscription) {\n            this.tryNext(value);\n        }\n    };\n    SwitchFirstMapSubscriber.prototype.tryNext = function (value) {\n        var index = this.index++;\n        var destination = this.destination;\n        try {\n            var result = this.project(value, index);\n            this.hasSubscription = true;\n            this.add(subscribeToResult(this, result, value, index));\n        }\n        catch (err) {\n            destination.error(err);\n        }\n    };\n    SwitchFirstMapSubscriber.prototype._complete = function () {\n        this.hasCompleted = true;\n        if (!this.hasSubscription) {\n            this.destination.complete();\n        }\n    };\n    SwitchFirstMapSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.destination.next(innerValue);\n    };\n    SwitchFirstMapSubscriber.prototype.notifyError = function (err) {\n        this.destination.error(err);\n    };\n    SwitchFirstMapSubscriber.prototype.notifyComplete = function (innerSub) {\n        this.remove(innerSub);\n        this.hasSubscription = false;\n        if (this.hasCompleted) {\n            this.destination.complete();\n        }\n    };\n    return SwitchFirstMapSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=exhaustMap.js.map\n","/** PURE_IMPORTS_START tslib,.._util_tryCatch,.._util_errorObject,.._OuterSubscriber,.._util_subscribeToResult PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { tryCatch } from '../util/tryCatch';\nimport { errorObject } from '../util/errorObject';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\n/* tslint:enable:max-line-length */\n/**\n * Recursively projects each source value to an Observable which is merged in\n * the output Observable.\n *\n * <span class=\"informal\">It's similar to {@link mergeMap}, but applies the\n * projection function to every source value as well as every output value.\n * It's recursive.</span>\n *\n * <img src=\"./img/expand.png\" width=\"100%\">\n *\n * Returns an Observable that emits items based on applying a function that you\n * supply to each item emitted by the source Observable, where that function\n * returns an Observable, and then merging those resulting Observables and\n * emitting the results of this merger. *Expand* will re-emit on the output\n * Observable every source value. Then, each output value is given to the\n * `project` function which returns an inner Observable to be merged on the\n * output Observable. Those output values resulting from the projection are also\n * given to the `project` function to produce new output values. This is how\n * *expand* behaves recursively.\n *\n * @example <caption>Start emitting the powers of two on every click, at most 10 of them</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var powersOfTwo = clicks\n *   .mapTo(1)\n *   .expand(x => Rx.Observable.of(2 * x).delay(1000))\n *   .take(10);\n * powersOfTwo.subscribe(x => console.log(x));\n *\n * @see {@link mergeMap}\n * @see {@link mergeScan}\n *\n * @param {function(value: T, index: number) => Observable} project A function\n * that, when applied to an item emitted by the source or the output Observable,\n * returns an Observable.\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input\n * Observables being subscribed to concurrently.\n * @param {Scheduler} [scheduler=null] The IScheduler to use for subscribing to\n * each projected inner Observable.\n * @return {Observable} An Observable that emits the source values and also\n * result of applying the projection function to each value emitted on the\n * output Observable and and merging the results of the Observables obtained\n * from this transformation.\n * @method expand\n * @owner Observable\n */\nexport function expand(project, concurrent, scheduler) {\n    if (concurrent === void 0) {\n        concurrent = Number.POSITIVE_INFINITY;\n    }\n    if (scheduler === void 0) {\n        scheduler = undefined;\n    }\n    concurrent = (concurrent || 0) < 1 ? Number.POSITIVE_INFINITY : concurrent;\n    return function (source) { return source.lift(new ExpandOperator(project, concurrent, scheduler)); };\n}\nvar ExpandOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function ExpandOperator(project, concurrent, scheduler) {\n        this.project = project;\n        this.concurrent = concurrent;\n        this.scheduler = scheduler;\n    }\n    ExpandOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ExpandSubscriber(subscriber, this.project, this.concurrent, this.scheduler));\n    };\n    return ExpandOperator;\n}());\nexport { ExpandOperator };\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar ExpandSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ExpandSubscriber, _super);\n    function ExpandSubscriber(destination, project, concurrent, scheduler) {\n        var _this = _super.call(this, destination) || this;\n        _this.project = project;\n        _this.concurrent = concurrent;\n        _this.scheduler = scheduler;\n        _this.index = 0;\n        _this.active = 0;\n        _this.hasCompleted = false;\n        if (concurrent < Number.POSITIVE_INFINITY) {\n            _this.buffer = [];\n        }\n        return _this;\n    }\n    ExpandSubscriber.dispatch = function (arg) {\n        var subscriber = arg.subscriber, result = arg.result, value = arg.value, index = arg.index;\n        subscriber.subscribeToProjection(result, value, index);\n    };\n    ExpandSubscriber.prototype._next = function (value) {\n        var destination = this.destination;\n        if (destination.closed) {\n            this._complete();\n            return;\n        }\n        var index = this.index++;\n        if (this.active < this.concurrent) {\n            destination.next(value);\n            var result = tryCatch(this.project)(value, index);\n            if (result === errorObject) {\n                destination.error(errorObject.e);\n            }\n            else if (!this.scheduler) {\n                this.subscribeToProjection(result, value, index);\n            }\n            else {\n                var state = { subscriber: this, result: result, value: value, index: index };\n                this.add(this.scheduler.schedule(ExpandSubscriber.dispatch, 0, state));\n            }\n        }\n        else {\n            this.buffer.push(value);\n        }\n    };\n    ExpandSubscriber.prototype.subscribeToProjection = function (result, value, index) {\n        this.active++;\n        this.add(subscribeToResult(this, result, value, index));\n    };\n    ExpandSubscriber.prototype._complete = function () {\n        this.hasCompleted = true;\n        if (this.hasCompleted && this.active === 0) {\n            this.destination.complete();\n        }\n    };\n    ExpandSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this._next(innerValue);\n    };\n    ExpandSubscriber.prototype.notifyComplete = function (innerSub) {\n        var buffer = this.buffer;\n        this.remove(innerSub);\n        this.active--;\n        if (buffer && buffer.length > 0) {\n            this._next(buffer.shift());\n        }\n        if (this.hasCompleted && this.active === 0) {\n            this.destination.complete();\n        }\n    };\n    return ExpandSubscriber;\n}(OuterSubscriber));\nexport { ExpandSubscriber };\n//# sourceMappingURL=expand.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\n/* tslint:enable:max-line-length */\n/**\n * Filter items emitted by the source Observable by only emitting those that\n * satisfy a specified predicate.\n *\n * <span class=\"informal\">Like\n * [Array.prototype.filter()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter),\n * it only emits a value from the source if it passes a criterion function.</span>\n *\n * <img src=\"./img/filter.png\" width=\"100%\">\n *\n * Similar to the well-known `Array.prototype.filter` method, this operator\n * takes values from the source Observable, passes them through a `predicate`\n * function and only emits those values that yielded `true`.\n *\n * @example <caption>Emit only click events whose target was a DIV element</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var clicksOnDivs = clicks.filter(ev => ev.target.tagName === 'DIV');\n * clicksOnDivs.subscribe(x => console.log(x));\n *\n * @see {@link distinct}\n * @see {@link distinctUntilChanged}\n * @see {@link distinctUntilKeyChanged}\n * @see {@link ignoreElements}\n * @see {@link partition}\n * @see {@link skip}\n *\n * @param {function(value: T, index: number): boolean} predicate A function that\n * evaluates each value emitted by the source Observable. If it returns `true`,\n * the value is emitted, if `false` the value is not passed to the output\n * Observable. The `index` parameter is the number `i` for the i-th source\n * emission that has happened since the subscription, starting from the number\n * `0`.\n * @param {any} [thisArg] An optional argument to determine the value of `this`\n * in the `predicate` function.\n * @return {Observable} An Observable of values from the source that were\n * allowed by the `predicate` function.\n * @method filter\n * @owner Observable\n */\nexport function filter(predicate, thisArg) {\n    return function filterOperatorFunction(source) {\n        return source.lift(new FilterOperator(predicate, thisArg));\n    };\n}\nvar FilterOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function FilterOperator(predicate, thisArg) {\n        this.predicate = predicate;\n        this.thisArg = thisArg;\n    }\n    FilterOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new FilterSubscriber(subscriber, this.predicate, this.thisArg));\n    };\n    return FilterOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar FilterSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(FilterSubscriber, _super);\n    function FilterSubscriber(destination, predicate, thisArg) {\n        var _this = _super.call(this, destination) || this;\n        _this.predicate = predicate;\n        _this.thisArg = thisArg;\n        _this.count = 0;\n        return _this;\n    }\n    // the try catch block below is left specifically for\n    // optimization and perf reasons. a tryCatcher is not necessary here.\n    FilterSubscriber.prototype._next = function (value) {\n        var result;\n        try {\n            result = this.predicate.call(this.thisArg, value, this.count++);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        if (result) {\n            this.destination.next(value);\n        }\n    };\n    return FilterSubscriber;\n}(Subscriber));\n//# sourceMappingURL=filter.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscriber,.._Subscription PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\n/**\n * Returns an Observable that mirrors the source Observable, but will call a specified function when\n * the source terminates on complete or error.\n * @param {function} callback Function to be called when source terminates.\n * @return {Observable} An Observable that mirrors the source, but will call the specified function on termination.\n * @method finally\n * @owner Observable\n */\nexport function finalize(callback) {\n    return function (source) { return source.lift(new FinallyOperator(callback)); };\n}\nvar FinallyOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function FinallyOperator(callback) {\n        this.callback = callback;\n    }\n    FinallyOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new FinallySubscriber(subscriber, this.callback));\n    };\n    return FinallyOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar FinallySubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(FinallySubscriber, _super);\n    function FinallySubscriber(destination, callback) {\n        var _this = _super.call(this, destination) || this;\n        _this.add(new Subscription(callback));\n        return _this;\n    }\n    return FinallySubscriber;\n}(Subscriber));\n//# sourceMappingURL=finalize.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\n/**\n * Emits only the first value emitted by the source Observable that meets some\n * condition.\n *\n * <span class=\"informal\">Finds the first value that passes some test and emits\n * that.</span>\n *\n * <img src=\"./img/find.png\" width=\"100%\">\n *\n * `find` searches for the first item in the source Observable that matches the\n * specified condition embodied by the `predicate`, and returns the first\n * occurrence in the source. Unlike {@link first}, the `predicate` is required\n * in `find`, and does not emit an error if a valid value is not found.\n *\n * @example <caption>Find and emit the first click that happens on a DIV element</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.find(ev => ev.target.tagName === 'DIV');\n * result.subscribe(x => console.log(x));\n *\n * @see {@link filter}\n * @see {@link first}\n * @see {@link findIndex}\n * @see {@link take}\n *\n * @param {function(value: T, index: number, source: Observable<T>): boolean} predicate\n * A function called with each item to test for condition matching.\n * @param {any} [thisArg] An optional argument to determine the value of `this`\n * in the `predicate` function.\n * @return {Observable<T>} An Observable of the first item that matches the\n * condition.\n * @method find\n * @owner Observable\n */\nexport function find(predicate, thisArg) {\n    if (typeof predicate !== 'function') {\n        throw new TypeError('predicate is not a function');\n    }\n    return function (source) { return source.lift(new FindValueOperator(predicate, source, false, thisArg)); };\n}\nvar FindValueOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function FindValueOperator(predicate, source, yieldIndex, thisArg) {\n        this.predicate = predicate;\n        this.source = source;\n        this.yieldIndex = yieldIndex;\n        this.thisArg = thisArg;\n    }\n    FindValueOperator.prototype.call = function (observer, source) {\n        return source.subscribe(new FindValueSubscriber(observer, this.predicate, this.source, this.yieldIndex, this.thisArg));\n    };\n    return FindValueOperator;\n}());\nexport { FindValueOperator };\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar FindValueSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(FindValueSubscriber, _super);\n    function FindValueSubscriber(destination, predicate, source, yieldIndex, thisArg) {\n        var _this = _super.call(this, destination) || this;\n        _this.predicate = predicate;\n        _this.source = source;\n        _this.yieldIndex = yieldIndex;\n        _this.thisArg = thisArg;\n        _this.index = 0;\n        return _this;\n    }\n    FindValueSubscriber.prototype.notifyComplete = function (value) {\n        var destination = this.destination;\n        destination.next(value);\n        destination.complete();\n    };\n    FindValueSubscriber.prototype._next = function (value) {\n        var _a = this, predicate = _a.predicate, thisArg = _a.thisArg;\n        var index = this.index++;\n        try {\n            var result = predicate.call(thisArg || this, value, index, this.source);\n            if (result) {\n                this.notifyComplete(this.yieldIndex ? index : value);\n            }\n        }\n        catch (err) {\n            this.destination.error(err);\n        }\n    };\n    FindValueSubscriber.prototype._complete = function () {\n        this.notifyComplete(this.yieldIndex ? -1 : undefined);\n    };\n    return FindValueSubscriber;\n}(Subscriber));\nexport { FindValueSubscriber };\n//# sourceMappingURL=find.js.map\n","/** PURE_IMPORTS_START .._operators_find PURE_IMPORTS_END */\nimport { FindValueOperator } from '../operators/find';\n/**\n * Emits only the index of the first value emitted by the source Observable that\n * meets some condition.\n *\n * <span class=\"informal\">It's like {@link find}, but emits the index of the\n * found value, not the value itself.</span>\n *\n * <img src=\"./img/findIndex.png\" width=\"100%\">\n *\n * `findIndex` searches for the first item in the source Observable that matches\n * the specified condition embodied by the `predicate`, and returns the\n * (zero-based) index of the first occurrence in the source. Unlike\n * {@link first}, the `predicate` is required in `findIndex`, and does not emit\n * an error if a valid value is not found.\n *\n * @example <caption>Emit the index of first click that happens on a DIV element</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.findIndex(ev => ev.target.tagName === 'DIV');\n * result.subscribe(x => console.log(x));\n *\n * @see {@link filter}\n * @see {@link find}\n * @see {@link first}\n * @see {@link take}\n *\n * @param {function(value: T, index: number, source: Observable<T>): boolean} predicate\n * A function called with each item to test for condition matching.\n * @param {any} [thisArg] An optional argument to determine the value of `this`\n * in the `predicate` function.\n * @return {Observable} An Observable of the index of the first item that\n * matches the condition.\n * @method find\n * @owner Observable\n */\nexport function findIndex(predicate, thisArg) {\n    return function (source) { return source.lift(new FindValueOperator(predicate, source, true, thisArg)); };\n}\n//# sourceMappingURL=findIndex.js.map\n","/** PURE_IMPORTS_START tslib PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\n/**\n * An error thrown when an Observable or a sequence was queried but has no\n * elements.\n *\n * @see {@link first}\n * @see {@link last}\n * @see {@link single}\n *\n * @class EmptyError\n */\nvar EmptyError = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(EmptyError, _super);\n    function EmptyError() {\n        var _this = _super.call(this, 'no elements in sequence') || this;\n        _this.name = 'EmptyError';\n        Object.setPrototypeOf(_this, EmptyError.prototype);\n        return _this;\n    }\n    return EmptyError;\n}(Error));\nexport { EmptyError };\n//# sourceMappingURL=EmptyError.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscriber,.._util_EmptyError PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { EmptyError } from '../util/EmptyError';\n/**\n * Emits only the first value (or the first value that meets some condition)\n * emitted by the source Observable.\n *\n * <span class=\"informal\">Emits only the first value. Or emits only the first\n * value that passes some test.</span>\n *\n * <img src=\"./img/first.png\" width=\"100%\">\n *\n * If called with no arguments, `first` emits the first value of the source\n * Observable, then completes. If called with a `predicate` function, `first`\n * emits the first value of the source that matches the specified condition. It\n * may also take a `resultSelector` function to produce the output value from\n * the input value, and a `defaultValue` to emit in case the source completes\n * before it is able to emit a valid value. Throws an error if `defaultValue`\n * was not provided and a matching element is not found.\n *\n * @example <caption>Emit only the first click that happens on the DOM</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.first();\n * result.subscribe(x => console.log(x));\n *\n * @example <caption>Emits the first click that happens on a DIV</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.first(ev => ev.target.tagName === 'DIV');\n * result.subscribe(x => console.log(x));\n *\n * @see {@link filter}\n * @see {@link find}\n * @see {@link take}\n *\n * @throws {EmptyError} Delivers an EmptyError to the Observer's `error`\n * callback if the Observable completes before any `next` notification was sent.\n *\n * @param {function(value: T, index: number, source: Observable<T>): boolean} [predicate]\n * An optional function called with each item to test for condition matching.\n * @param {R} [defaultValue] The default value emitted in case no valid value\n * was found on the source.\n * @return {Observable<T|R>} An Observable of the first item that matches the\n * condition.\n * @method first\n * @owner Observable\n */\nexport function first(predicate, defaultValue) {\n    return function (source) { return source.lift(new FirstOperator(predicate, defaultValue, source)); };\n}\nvar FirstOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function FirstOperator(predicate, defaultValue, source) {\n        this.predicate = predicate;\n        this.defaultValue = defaultValue;\n        this.source = source;\n    }\n    FirstOperator.prototype.call = function (observer, source) {\n        return source.subscribe(new FirstSubscriber(observer, this.predicate, this.defaultValue, this.source));\n    };\n    return FirstOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar FirstSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(FirstSubscriber, _super);\n    function FirstSubscriber(destination, predicate, defaultValue, source) {\n        var _this = _super.call(this, destination) || this;\n        _this.predicate = predicate;\n        _this.defaultValue = defaultValue;\n        _this.source = source;\n        _this.index = 0;\n        _this.hasCompleted = false;\n        _this._emitted = false;\n        return _this;\n    }\n    FirstSubscriber.prototype._next = function (value) {\n        var index = this.index++;\n        if (this.predicate) {\n            this._tryPredicate(value, index);\n        }\n        else {\n            this._emit(value);\n        }\n    };\n    FirstSubscriber.prototype._tryPredicate = function (value, index) {\n        var result;\n        try {\n            result = this.predicate(value, index, this.source);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        if (result) {\n            this._emit(value);\n        }\n    };\n    FirstSubscriber.prototype._emit = function (value) {\n        var destination = this.destination;\n        if (!this._emitted) {\n            this._emitted = true;\n            destination.next(value);\n            destination.complete();\n            this.hasCompleted = true;\n        }\n    };\n    FirstSubscriber.prototype._complete = function () {\n        var destination = this.destination;\n        if (!this.hasCompleted && typeof this.defaultValue !== 'undefined') {\n            destination.next(this.defaultValue);\n            destination.complete();\n        }\n        else if (!this.hasCompleted) {\n            destination.error(new EmptyError());\n        }\n    };\n    return FirstSubscriber;\n}(Subscriber));\n//# sourceMappingURL=first.js.map\n","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar MAP = 'Map';\n\n// 23.1 Map Objects\nmodule.exports = require('./_collection')(MAP, function (get) {\n  return function Map() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.1.3.6 Map.prototype.get(key)\n  get: function get(key) {\n    var entry = strong.getEntry(validate(this, MAP), key);\n    return entry && entry.v;\n  },\n  // 23.1.3.9 Map.prototype.set(key, value)\n  set: function set(key, value) {\n    return strong.def(validate(this, MAP), key === 0 ? 0 : key, value);\n  }\n}, strong, true);\n","/** PURE_IMPORTS_START tslib PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\n/**\n * An error thrown when an action is invalid because the object has been\n * unsubscribed.\n *\n * @see {@link Subject}\n * @see {@link BehaviorSubject}\n *\n * @class ObjectUnsubscribedError\n */\nvar ObjectUnsubscribedError = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ObjectUnsubscribedError, _super);\n    function ObjectUnsubscribedError() {\n        var _this = _super.call(this, 'object unsubscribed') || this;\n        _this.name = 'ObjectUnsubscribedError';\n        Object.setPrototypeOf(_this, ObjectUnsubscribedError.prototype);\n        return _this;\n    }\n    return ObjectUnsubscribedError;\n}(Error));\nexport { ObjectUnsubscribedError };\n//# sourceMappingURL=ObjectUnsubscribedError.js.map\n","/** PURE_IMPORTS_START tslib,._Subscription PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscription } from './Subscription';\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SubjectSubscription = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SubjectSubscription, _super);\n    function SubjectSubscription(subject, subscriber) {\n        var _this = _super.call(this) || this;\n        _this.subject = subject;\n        _this.subscriber = subscriber;\n        _this.closed = false;\n        return _this;\n    }\n    SubjectSubscription.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.closed = true;\n        var subject = this.subject;\n        var observers = subject.observers;\n        this.subject = null;\n        if (!observers || observers.length === 0 || subject.isStopped || subject.closed) {\n            return;\n        }\n        var subscriberIndex = observers.indexOf(this.subscriber);\n        if (subscriberIndex !== -1) {\n            observers.splice(subscriberIndex, 1);\n        }\n    };\n    return SubjectSubscription;\n}(Subscription));\nexport { SubjectSubscription };\n//# sourceMappingURL=SubjectSubscription.js.map\n","/** PURE_IMPORTS_START tslib,._Observable,._Subscriber,._Subscription,._util_ObjectUnsubscribedError,._SubjectSubscription,.._internal_symbol_rxSubscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Observable } from './Observable';\nimport { Subscriber } from './Subscriber';\nimport { Subscription } from './Subscription';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { SubjectSubscription } from './SubjectSubscription';\nimport { rxSubscriber as rxSubscriberSymbol } from '../internal/symbol/rxSubscriber';\n/**\n * @class SubjectSubscriber<T>\n */\nvar SubjectSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SubjectSubscriber, _super);\n    function SubjectSubscriber(destination) {\n        var _this = _super.call(this, destination) || this;\n        _this.destination = destination;\n        return _this;\n    }\n    return SubjectSubscriber;\n}(Subscriber));\nexport { SubjectSubscriber };\n/**\n * @class Subject<T>\n */\nvar Subject = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(Subject, _super);\n    function Subject() {\n        var _this = _super.call(this) || this;\n        _this.observers = [];\n        _this.closed = false;\n        _this.isStopped = false;\n        _this.hasError = false;\n        _this.thrownError = null;\n        return _this;\n    }\n    Subject.prototype[rxSubscriberSymbol] = function () {\n        return new SubjectSubscriber(this);\n    };\n    Subject.prototype.lift = function (operator) {\n        var subject = new AnonymousSubject(this, this);\n        subject.operator = operator;\n        return subject;\n    };\n    Subject.prototype.next = function (value) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        if (!this.isStopped) {\n            var observers = this.observers;\n            var len = observers.length;\n            var copy = observers.slice();\n            for (var i = 0; i < len; i++) {\n                copy[i].next(value);\n            }\n        }\n    };\n    Subject.prototype.error = function (err) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        this.hasError = true;\n        this.thrownError = err;\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].error(err);\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.complete = function () {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].complete();\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.unsubscribe = function () {\n        this.isStopped = true;\n        this.closed = true;\n        this.observers = null;\n    };\n    Subject.prototype._trySubscribe = function (subscriber) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        else {\n            return _super.prototype._trySubscribe.call(this, subscriber);\n        }\n    };\n    Subject.prototype._subscribe = function (subscriber) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        else if (this.hasError) {\n            subscriber.error(this.thrownError);\n            return Subscription.EMPTY;\n        }\n        else if (this.isStopped) {\n            subscriber.complete();\n            return Subscription.EMPTY;\n        }\n        else {\n            this.observers.push(subscriber);\n            return new SubjectSubscription(this, subscriber);\n        }\n    };\n    Subject.prototype.asObservable = function () {\n        var observable = new Observable();\n        observable.source = this;\n        return observable;\n    };\n    Subject.create = function (destination, source) {\n        return new AnonymousSubject(destination, source);\n    };\n    return Subject;\n}(Observable));\nexport { Subject };\n/**\n * @class AnonymousSubject<T>\n */\nvar AnonymousSubject = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(AnonymousSubject, _super);\n    function AnonymousSubject(destination, source) {\n        var _this = _super.call(this) || this;\n        _this.destination = destination;\n        _this.source = source;\n        return _this;\n    }\n    AnonymousSubject.prototype.next = function (value) {\n        var destination = this.destination;\n        if (destination && destination.next) {\n            destination.next(value);\n        }\n    };\n    AnonymousSubject.prototype.error = function (err) {\n        var destination = this.destination;\n        if (destination && destination.error) {\n            this.destination.error(err);\n        }\n    };\n    AnonymousSubject.prototype.complete = function () {\n        var destination = this.destination;\n        if (destination && destination.complete) {\n            this.destination.complete();\n        }\n    };\n    AnonymousSubject.prototype._subscribe = function (subscriber) {\n        var source = this.source;\n        if (source) {\n            return this.source.subscribe(subscriber);\n        }\n        else {\n            return Subscription.EMPTY;\n        }\n    };\n    return AnonymousSubject;\n}(Subject));\nexport { AnonymousSubject };\n//# sourceMappingURL=Subject.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscriber,.._Subscription,.._Observable,.._Subject PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { Observable } from '../Observable';\nimport { Subject } from '../Subject';\n/** Assert that map is present for this operator */\nif (!Map) {\n    throw /*@__PURE__*/ new Error('Map not found, please polyfill');\n}\n/* tslint:enable:max-line-length */\n/**\n * Groups the items emitted by an Observable according to a specified criterion,\n * and emits these grouped items as `GroupedObservables`, one\n * {@link GroupedObservable} per group.\n *\n * <img src=\"./img/groupBy.png\" width=\"100%\">\n *\n * @example <caption>Group objects by id and return as array</caption>\n * Observable.of<Obj>({id: 1, name: 'aze1'},\n *                    {id: 2, name: 'sf2'},\n *                    {id: 2, name: 'dg2'},\n *                    {id: 1, name: 'erg1'},\n *                    {id: 1, name: 'df1'},\n *                    {id: 2, name: 'sfqfb2'},\n *                    {id: 3, name: 'qfs3'},\n *                    {id: 2, name: 'qsgqsfg2'}\n *     )\n *     .groupBy(p => p.id)\n *     .flatMap( (group$) => group$.reduce((acc, cur) => [...acc, cur], []))\n *     .subscribe(p => console.log(p));\n *\n * // displays:\n * // [ { id: 1, name: 'aze1' },\n * //   { id: 1, name: 'erg1' },\n * //   { id: 1, name: 'df1' } ]\n * //\n * // [ { id: 2, name: 'sf2' },\n * //   { id: 2, name: 'dg2' },\n * //   { id: 2, name: 'sfqfb2' },\n * //   { id: 2, name: 'qsgqsfg2' } ]\n * //\n * // [ { id: 3, name: 'qfs3' } ]\n *\n * @example <caption>Pivot data on the id field</caption>\n * Observable.of<Obj>({id: 1, name: 'aze1'},\n *                    {id: 2, name: 'sf2'},\n *                    {id: 2, name: 'dg2'},\n *                    {id: 1, name: 'erg1'},\n *                    {id: 1, name: 'df1'},\n *                    {id: 2, name: 'sfqfb2'},\n *                    {id: 3, name: 'qfs1'},\n *                    {id: 2, name: 'qsgqsfg2'}\n *                   )\n *     .groupBy(p => p.id, p => p.name)\n *     .flatMap( (group$) => group$.reduce((acc, cur) => [...acc, cur], [\"\" + group$.key]))\n *     .map(arr => ({'id': parseInt(arr[0]), 'values': arr.slice(1)}))\n *     .subscribe(p => console.log(p));\n *\n * // displays:\n * // { id: 1, values: [ 'aze1', 'erg1', 'df1' ] }\n * // { id: 2, values: [ 'sf2', 'dg2', 'sfqfb2', 'qsgqsfg2' ] }\n * // { id: 3, values: [ 'qfs1' ] }\n *\n * @param {function(value: T): K} keySelector A function that extracts the key\n * for each item.\n * @param {function(value: T): R} [elementSelector] A function that extracts the\n * return element for each item.\n * @param {function(grouped: GroupedObservable<K,R>): Observable<any>} [durationSelector]\n * A function that returns an Observable to determine how long each group should\n * exist.\n * @return {Observable<GroupedObservable<K,R>>} An Observable that emits\n * GroupedObservables, each of which corresponds to a unique key value and each\n * of which emits those items from the source Observable that share that key\n * value.\n * @method groupBy\n * @owner Observable\n */\nexport function groupBy(keySelector, elementSelector, durationSelector, subjectSelector) {\n    return function (source) {\n        return source.lift(new GroupByOperator(keySelector, elementSelector, durationSelector, subjectSelector));\n    };\n}\nvar GroupByOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function GroupByOperator(keySelector, elementSelector, durationSelector, subjectSelector) {\n        this.keySelector = keySelector;\n        this.elementSelector = elementSelector;\n        this.durationSelector = durationSelector;\n        this.subjectSelector = subjectSelector;\n    }\n    GroupByOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new GroupBySubscriber(subscriber, this.keySelector, this.elementSelector, this.durationSelector, this.subjectSelector));\n    };\n    return GroupByOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar GroupBySubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(GroupBySubscriber, _super);\n    function GroupBySubscriber(destination, keySelector, elementSelector, durationSelector, subjectSelector) {\n        var _this = _super.call(this, destination) || this;\n        _this.keySelector = keySelector;\n        _this.elementSelector = elementSelector;\n        _this.durationSelector = durationSelector;\n        _this.subjectSelector = subjectSelector;\n        _this.groups = null;\n        _this.attemptedToUnsubscribe = false;\n        _this.count = 0;\n        return _this;\n    }\n    GroupBySubscriber.prototype._next = function (value) {\n        var key;\n        try {\n            key = this.keySelector(value);\n        }\n        catch (err) {\n            this.error(err);\n            return;\n        }\n        this._group(value, key);\n    };\n    GroupBySubscriber.prototype._group = function (value, key) {\n        var groups = this.groups;\n        if (!groups) {\n            groups = this.groups = new Map();\n        }\n        var group = groups.get(key);\n        var element;\n        if (this.elementSelector) {\n            try {\n                element = this.elementSelector(value);\n            }\n            catch (err) {\n                this.error(err);\n            }\n        }\n        else {\n            element = value;\n        }\n        if (!group) {\n            group = (this.subjectSelector ? this.subjectSelector() : new Subject());\n            groups.set(key, group);\n            var groupedObservable = new GroupedObservable(key, group, this);\n            this.destination.next(groupedObservable);\n            if (this.durationSelector) {\n                var duration = void 0;\n                try {\n                    duration = this.durationSelector(new GroupedObservable(key, group));\n                }\n                catch (err) {\n                    this.error(err);\n                    return;\n                }\n                this.add(duration.subscribe(new GroupDurationSubscriber(key, group, this)));\n            }\n        }\n        if (!group.closed) {\n            group.next(element);\n        }\n    };\n    GroupBySubscriber.prototype._error = function (err) {\n        var groups = this.groups;\n        if (groups) {\n            groups.forEach(function (group, key) {\n                group.error(err);\n            });\n            groups.clear();\n        }\n        this.destination.error(err);\n    };\n    GroupBySubscriber.prototype._complete = function () {\n        var groups = this.groups;\n        if (groups) {\n            groups.forEach(function (group, key) {\n                group.complete();\n            });\n            groups.clear();\n        }\n        this.destination.complete();\n    };\n    GroupBySubscriber.prototype.removeGroup = function (key) {\n        this.groups.delete(key);\n    };\n    GroupBySubscriber.prototype.unsubscribe = function () {\n        if (!this.closed) {\n            this.attemptedToUnsubscribe = true;\n            if (this.count === 0) {\n                _super.prototype.unsubscribe.call(this);\n            }\n        }\n    };\n    return GroupBySubscriber;\n}(Subscriber));\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar GroupDurationSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(GroupDurationSubscriber, _super);\n    function GroupDurationSubscriber(key, group, parent) {\n        var _this = _super.call(this, group) || this;\n        _this.key = key;\n        _this.group = group;\n        _this.parent = parent;\n        return _this;\n    }\n    GroupDurationSubscriber.prototype._next = function (value) {\n        this.complete();\n    };\n    GroupDurationSubscriber.prototype._unsubscribe = function () {\n        var _a = this, parent = _a.parent, key = _a.key;\n        this.key = this.parent = null;\n        if (parent) {\n            parent.removeGroup(key);\n        }\n    };\n    return GroupDurationSubscriber;\n}(Subscriber));\n/**\n * An Observable representing values belonging to the same group represented by\n * a common key. The values emitted by a GroupedObservable come from the source\n * Observable. The common key is available as the field `key` on a\n * GroupedObservable instance.\n *\n * @class GroupedObservable<K, T>\n */\nvar GroupedObservable = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(GroupedObservable, _super);\n    function GroupedObservable(key, groupSubject, refCountSubscription) {\n        var _this = _super.call(this) || this;\n        _this.key = key;\n        _this.groupSubject = groupSubject;\n        _this.refCountSubscription = refCountSubscription;\n        return _this;\n    }\n    GroupedObservable.prototype._subscribe = function (subscriber) {\n        var subscription = new Subscription();\n        var _a = this, refCountSubscription = _a.refCountSubscription, groupSubject = _a.groupSubject;\n        if (refCountSubscription && !refCountSubscription.closed) {\n            subscription.add(new InnerRefCountSubscription(refCountSubscription));\n        }\n        subscription.add(groupSubject.subscribe(subscriber));\n        return subscription;\n    };\n    return GroupedObservable;\n}(Observable));\nexport { GroupedObservable };\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar InnerRefCountSubscription = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(InnerRefCountSubscription, _super);\n    function InnerRefCountSubscription(parent) {\n        var _this = _super.call(this) || this;\n        _this.parent = parent;\n        parent.count++;\n        return _this;\n    }\n    InnerRefCountSubscription.prototype.unsubscribe = function () {\n        var parent = this.parent;\n        if (!parent.closed && !this.closed) {\n            _super.prototype.unsubscribe.call(this);\n            parent.count -= 1;\n            if (parent.count === 0 && parent.attemptedToUnsubscribe) {\n                parent.unsubscribe();\n            }\n        }\n    };\n    return InnerRefCountSubscription;\n}(Subscription));\n//# sourceMappingURL=groupBy.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\n/**\n * Ignores all items emitted by the source Observable and only passes calls of `complete` or `error`.\n *\n * <img src=\"./img/ignoreElements.png\" width=\"100%\">\n *\n * @return {Observable} An empty Observable that only calls `complete`\n * or `error`, based on which one is called by the source Observable.\n * @method ignoreElements\n * @owner Observable\n */\nexport function ignoreElements() {\n    return function ignoreElementsOperatorFunction(source) {\n        return source.lift(new IgnoreElementsOperator());\n    };\n}\nvar IgnoreElementsOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function IgnoreElementsOperator() {\n    }\n    IgnoreElementsOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new IgnoreElementsSubscriber(subscriber));\n    };\n    return IgnoreElementsOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar IgnoreElementsSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(IgnoreElementsSubscriber, _super);\n    function IgnoreElementsSubscriber() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    IgnoreElementsSubscriber.prototype._next = function (unused) {\n        // Do nothing\n    };\n    return IgnoreElementsSubscriber;\n}(Subscriber));\n//# sourceMappingURL=ignoreElements.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function isEmpty() {\n    return function (source) { return source.lift(new IsEmptyOperator()); };\n}\nvar IsEmptyOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function IsEmptyOperator() {\n    }\n    IsEmptyOperator.prototype.call = function (observer, source) {\n        return source.subscribe(new IsEmptySubscriber(observer));\n    };\n    return IsEmptyOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar IsEmptySubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(IsEmptySubscriber, _super);\n    function IsEmptySubscriber(destination) {\n        return _super.call(this, destination) || this;\n    }\n    IsEmptySubscriber.prototype.notifyComplete = function (isEmpty) {\n        var destination = this.destination;\n        destination.next(isEmpty);\n        destination.complete();\n    };\n    IsEmptySubscriber.prototype._next = function (value) {\n        this.notifyComplete(false);\n    };\n    IsEmptySubscriber.prototype._complete = function () {\n        this.notifyComplete(true);\n    };\n    return IsEmptySubscriber;\n}(Subscriber));\n//# sourceMappingURL=isEmpty.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscriber,.._util_EmptyError PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { EmptyError } from '../util/EmptyError';\n/**\n * Returns an Observable that emits only the last item emitted by the source Observable.\n * It optionally takes a predicate function as a parameter, in which case, rather than emitting\n * the last item from the source Observable, the resulting Observable will emit the last item\n * from the source Observable that satisfies the predicate.\n *\n * <img src=\"./img/last.png\" width=\"100%\">\n *\n * @throws {EmptyError} Delivers an EmptyError to the Observer's `error`\n * callback if the Observable completes before any `next` notification was sent.\n * @param {function} [predicate] - The condition any source emitted item has to satisfy.\n * @param {any} [defaultValue] - An optional default value to provide if last\n * predicate isn't met or no values were emitted.\n * @return {Observable} An Observable that emits only the last item satisfying the given condition\n * from the source, or an NoSuchElementException if no such items are emitted.\n * @throws - Throws if no items that match the predicate are emitted by the source Observable.\n */\nexport function last(predicate, defaultValue) {\n    return function (source) { return source.lift(new LastOperator(predicate, defaultValue, source)); };\n}\nvar LastOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function LastOperator(predicate, defaultValue, source) {\n        this.predicate = predicate;\n        this.defaultValue = defaultValue;\n        this.source = source;\n    }\n    LastOperator.prototype.call = function (observer, source) {\n        return source.subscribe(new LastSubscriber(observer, this.predicate, this.defaultValue, this.source));\n    };\n    return LastOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar LastSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(LastSubscriber, _super);\n    function LastSubscriber(destination, predicate, defaultValue, source) {\n        var _this = _super.call(this, destination) || this;\n        _this.predicate = predicate;\n        _this.defaultValue = defaultValue;\n        _this.source = source;\n        _this.hasValue = false;\n        _this.index = 0;\n        if (typeof defaultValue !== 'undefined') {\n            _this.lastValue = defaultValue;\n            _this.hasValue = true;\n        }\n        return _this;\n    }\n    LastSubscriber.prototype._next = function (value) {\n        var index = this.index++;\n        if (this.predicate) {\n            this._tryPredicate(value, index);\n        }\n        else {\n            this.lastValue = value;\n            this.hasValue = true;\n        }\n    };\n    LastSubscriber.prototype._tryPredicate = function (value, index) {\n        var result;\n        try {\n            result = this.predicate(value, index, this.source);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        if (result) {\n            this.lastValue = value;\n            this.hasValue = true;\n        }\n    };\n    LastSubscriber.prototype._complete = function () {\n        var destination = this.destination;\n        if (this.hasValue) {\n            destination.next(this.lastValue);\n            destination.complete();\n        }\n        else {\n            destination.error(new EmptyError);\n        }\n    };\n    return LastSubscriber;\n}(Subscriber));\n//# sourceMappingURL=last.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\n/**\n * Applies a given `project` function to each value emitted by the source\n * Observable, and emits the resulting values as an Observable.\n *\n * <span class=\"informal\">Like [Array.prototype.map()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map),\n * it passes each source value through a transformation function to get\n * corresponding output values.</span>\n *\n * <img src=\"./img/map.png\" width=\"100%\">\n *\n * Similar to the well known `Array.prototype.map` function, this operator\n * applies a projection to each value and emits that projection in the output\n * Observable.\n *\n * @example <caption>Map every click to the clientX position of that click</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var positions = clicks.map(ev => ev.clientX);\n * positions.subscribe(x => console.log(x));\n *\n * @see {@link mapTo}\n * @see {@link pluck}\n *\n * @param {function(value: T, index: number): R} project The function to apply\n * to each `value` emitted by the source Observable. The `index` parameter is\n * the number `i` for the i-th emission that has happened since the\n * subscription, starting from the number `0`.\n * @param {any} [thisArg] An optional argument to define what `this` is in the\n * `project` function.\n * @return {Observable<R>} An Observable that emits the values from the source\n * Observable transformed by the given `project` function.\n * @method map\n * @owner Observable\n */\nexport function map(project, thisArg) {\n    return function mapOperation(source) {\n        if (typeof project !== 'function') {\n            throw new TypeError('argument is not a function. Are you looking for `mapTo()`?');\n        }\n        return source.lift(new MapOperator(project, thisArg));\n    };\n}\nvar MapOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function MapOperator(project, thisArg) {\n        this.project = project;\n        this.thisArg = thisArg;\n    }\n    MapOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new MapSubscriber(subscriber, this.project, this.thisArg));\n    };\n    return MapOperator;\n}());\nexport { MapOperator };\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar MapSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(MapSubscriber, _super);\n    function MapSubscriber(destination, project, thisArg) {\n        var _this = _super.call(this, destination) || this;\n        _this.project = project;\n        _this.count = 0;\n        _this.thisArg = thisArg || _this;\n        return _this;\n    }\n    // NOTE: This looks unoptimized, but it's actually purposefully NOT\n    // using try/catch optimizations.\n    MapSubscriber.prototype._next = function (value) {\n        var result;\n        try {\n            result = this.project.call(this.thisArg, value, this.count++);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    return MapSubscriber;\n}(Subscriber));\n//# sourceMappingURL=map.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\n/**\n * Emits the given constant value on the output Observable every time the source\n * Observable emits a value.\n *\n * <span class=\"informal\">Like {@link map}, but it maps every source value to\n * the same output value every time.</span>\n *\n * <img src=\"./img/mapTo.png\" width=\"100%\">\n *\n * Takes a constant `value` as argument, and emits that whenever the source\n * Observable emits a value. In other words, ignores the actual source value,\n * and simply uses the emission moment to know when to emit the given `value`.\n *\n * @example <caption>Map every click to the string 'Hi'</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var greetings = clicks.mapTo('Hi');\n * greetings.subscribe(x => console.log(x));\n *\n * @see {@link map}\n *\n * @param {any} value The value to map each source value to.\n * @return {Observable} An Observable that emits the given `value` every time\n * the source Observable emits something.\n * @method mapTo\n * @owner Observable\n */\nexport function mapTo(value) {\n    return function (source) { return source.lift(new MapToOperator(value)); };\n}\nvar MapToOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function MapToOperator(value) {\n        this.value = value;\n    }\n    MapToOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new MapToSubscriber(subscriber, this.value));\n    };\n    return MapToOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar MapToSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(MapToSubscriber, _super);\n    function MapToSubscriber(destination, value) {\n        var _this = _super.call(this, destination) || this;\n        _this.value = value;\n        return _this;\n    }\n    MapToSubscriber.prototype._next = function (x) {\n        this.destination.next(this.value);\n    };\n    return MapToSubscriber;\n}(Subscriber));\n//# sourceMappingURL=mapTo.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscriber,.._Notification PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { Notification } from '../Notification';\n/**\n * Represents all of the notifications from the source Observable as `next`\n * emissions marked with their original types within {@link Notification}\n * objects.\n *\n * <span class=\"informal\">Wraps `next`, `error` and `complete` emissions in\n * {@link Notification} objects, emitted as `next` on the output Observable.\n * </span>\n *\n * <img src=\"./img/materialize.png\" width=\"100%\">\n *\n * `materialize` returns an Observable that emits a `next` notification for each\n * `next`, `error`, or `complete` emission of the source Observable. When the\n * source Observable emits `complete`, the output Observable will emit `next` as\n * a Notification of type \"complete\", and then it will emit `complete` as well.\n * When the source Observable emits `error`, the output will emit `next` as a\n * Notification of type \"error\", and then `complete`.\n *\n * This operator is useful for producing metadata of the source Observable, to\n * be consumed as `next` emissions. Use it in conjunction with\n * {@link dematerialize}.\n *\n * @example <caption>Convert a faulty Observable to an Observable of Notifications</caption>\n * var letters = Rx.Observable.of('a', 'b', 13, 'd');\n * var upperCase = letters.map(x => x.toUpperCase());\n * var materialized = upperCase.materialize();\n * materialized.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // - Notification {kind: \"N\", value: \"A\", error: undefined, hasValue: true}\n * // - Notification {kind: \"N\", value: \"B\", error: undefined, hasValue: true}\n * // - Notification {kind: \"E\", value: undefined, error: TypeError:\n * //   x.toUpperCase is not a function at MapSubscriber.letters.map.x\n * //   [as project] (http://1, hasValue: false}\n *\n * @see {@link Notification}\n * @see {@link dematerialize}\n *\n * @return {Observable<Notification<T>>} An Observable that emits\n * {@link Notification} objects that wrap the original emissions from the source\n * Observable with metadata.\n * @method materialize\n * @owner Observable\n */\nexport function materialize() {\n    return function materializeOperatorFunction(source) {\n        return source.lift(new MaterializeOperator());\n    };\n}\nvar MaterializeOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function MaterializeOperator() {\n    }\n    MaterializeOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new MaterializeSubscriber(subscriber));\n    };\n    return MaterializeOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar MaterializeSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(MaterializeSubscriber, _super);\n    function MaterializeSubscriber(destination) {\n        return _super.call(this, destination) || this;\n    }\n    MaterializeSubscriber.prototype._next = function (value) {\n        this.destination.next(Notification.createNext(value));\n    };\n    MaterializeSubscriber.prototype._error = function (err) {\n        var destination = this.destination;\n        destination.next(Notification.createError(err));\n        destination.complete();\n    };\n    MaterializeSubscriber.prototype._complete = function () {\n        var destination = this.destination;\n        destination.next(Notification.createComplete());\n        destination.complete();\n    };\n    return MaterializeSubscriber;\n}(Subscriber));\n//# sourceMappingURL=materialize.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\n/* tslint:enable:max-line-length */\n/**\n * Applies an accumulator function over the source Observable, and returns each\n * intermediate result, with an optional seed value.\n *\n * <span class=\"informal\">It's like {@link reduce}, but emits the current\n * accumulation whenever the source emits a value.</span>\n *\n * <img src=\"./img/scan.png\" width=\"100%\">\n *\n * Combines together all values emitted on the source, using an accumulator\n * function that knows how to join a new source value into the accumulation from\n * the past. Is similar to {@link reduce}, but emits the intermediate\n * accumulations.\n *\n * Returns an Observable that applies a specified `accumulator` function to each\n * item emitted by the source Observable. If a `seed` value is specified, then\n * that value will be used as the initial value for the accumulator. If no seed\n * value is specified, the first item of the source is used as the seed.\n *\n * @example <caption>Count the number of click events</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var ones = clicks.mapTo(1);\n * var seed = 0;\n * var count = ones.scan((acc, one) => acc + one, seed);\n * count.subscribe(x => console.log(x));\n *\n * @see {@link expand}\n * @see {@link mergeScan}\n * @see {@link reduce}\n *\n * @param {function(acc: R, value: T, index: number): R} accumulator\n * The accumulator function called on each source value.\n * @param {T|R} [seed] The initial accumulation value.\n * @return {Observable<R>} An observable of the accumulated values.\n * @method scan\n * @owner Observable\n */\nexport function scan(accumulator, seed) {\n    var hasSeed = false;\n    // providing a seed of `undefined` *should* be valid and trigger\n    // hasSeed! so don't use `seed !== undefined` checks!\n    // For this reason, we have to check it here at the original call site\n    // otherwise inside Operator/Subscriber we won't know if `undefined`\n    // means they didn't provide anything or if they literally provided `undefined`\n    if (arguments.length >= 2) {\n        hasSeed = true;\n    }\n    return function scanOperatorFunction(source) {\n        return source.lift(new ScanOperator(accumulator, seed, hasSeed));\n    };\n}\nvar ScanOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function ScanOperator(accumulator, seed, hasSeed) {\n        if (hasSeed === void 0) {\n            hasSeed = false;\n        }\n        this.accumulator = accumulator;\n        this.seed = seed;\n        this.hasSeed = hasSeed;\n    }\n    ScanOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ScanSubscriber(subscriber, this.accumulator, this.seed, this.hasSeed));\n    };\n    return ScanOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar ScanSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ScanSubscriber, _super);\n    function ScanSubscriber(destination, accumulator, _seed, hasSeed) {\n        var _this = _super.call(this, destination) || this;\n        _this.accumulator = accumulator;\n        _this._seed = _seed;\n        _this.hasSeed = hasSeed;\n        _this.index = 0;\n        return _this;\n    }\n    Object.defineProperty(ScanSubscriber.prototype, \"seed\", {\n        get: function () {\n            return this._seed;\n        },\n        set: function (value) {\n            this.hasSeed = true;\n            this._seed = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ScanSubscriber.prototype._next = function (value) {\n        if (!this.hasSeed) {\n            this.seed = value;\n            this.destination.next(value);\n        }\n        else {\n            return this._tryNext(value);\n        }\n    };\n    ScanSubscriber.prototype._tryNext = function (value) {\n        var index = this.index++;\n        var result;\n        try {\n            result = this.accumulator(this.seed, value, index);\n        }\n        catch (err) {\n            this.destination.error(err);\n        }\n        this.seed = result;\n        this.destination.next(result);\n    };\n    return ScanSubscriber;\n}(Subscriber));\n//# sourceMappingURL=scan.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscriber,.._util_ArgumentOutOfRangeError,.._observable_empty PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { ArgumentOutOfRangeError } from '../util/ArgumentOutOfRangeError';\nimport { empty } from '../observable/empty';\n/**\n * Emits only the last `count` values emitted by the source Observable.\n *\n * <span class=\"informal\">Remembers the latest `count` values, then emits those\n * only when the source completes.</span>\n *\n * <img src=\"./img/takeLast.png\" width=\"100%\">\n *\n * `takeLast` returns an Observable that emits at most the last `count` values\n * emitted by the source Observable. If the source emits fewer than `count`\n * values then all of its values are emitted. This operator must wait until the\n * `complete` notification emission from the source in order to emit the `next`\n * values on the output Observable, because otherwise it is impossible to know\n * whether or not more values will be emitted on the source. For this reason,\n * all values are emitted synchronously, followed by the complete notification.\n *\n * @example <caption>Take the last 3 values of an Observable with many values</caption>\n * var many = Rx.Observable.range(1, 100);\n * var lastThree = many.takeLast(3);\n * lastThree.subscribe(x => console.log(x));\n *\n * @see {@link take}\n * @see {@link takeUntil}\n * @see {@link takeWhile}\n * @see {@link skip}\n *\n * @throws {ArgumentOutOfRangeError} When using `takeLast(i)`, it delivers an\n * ArgumentOutOrRangeError to the Observer's `error` callback if `i < 0`.\n *\n * @param {number} count The maximum number of values to emit from the end of\n * the sequence of values emitted by the source Observable.\n * @return {Observable<T>} An Observable that emits at most the last count\n * values emitted by the source Observable.\n * @method takeLast\n * @owner Observable\n */\nexport function takeLast(count) {\n    return function takeLastOperatorFunction(source) {\n        if (count === 0) {\n            return empty();\n        }\n        else {\n            return source.lift(new TakeLastOperator(count));\n        }\n    };\n}\nvar TakeLastOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function TakeLastOperator(total) {\n        this.total = total;\n        if (this.total < 0) {\n            throw new ArgumentOutOfRangeError;\n        }\n    }\n    TakeLastOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new TakeLastSubscriber(subscriber, this.total));\n    };\n    return TakeLastOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar TakeLastSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(TakeLastSubscriber, _super);\n    function TakeLastSubscriber(destination, total) {\n        var _this = _super.call(this, destination) || this;\n        _this.total = total;\n        _this.ring = new Array();\n        _this.count = 0;\n        return _this;\n    }\n    TakeLastSubscriber.prototype._next = function (value) {\n        var ring = this.ring;\n        var total = this.total;\n        var count = this.count++;\n        if (ring.length < total) {\n            ring.push(value);\n        }\n        else {\n            var index = count % total;\n            ring[index] = value;\n        }\n    };\n    TakeLastSubscriber.prototype._complete = function () {\n        var destination = this.destination;\n        var count = this.count;\n        if (count > 0) {\n            var total = this.count >= this.total ? this.total : this.count;\n            var ring = this.ring;\n            for (var i = 0; i < total; i++) {\n                var idx = (count++) % total;\n                destination.next(ring[idx]);\n            }\n        }\n        destination.complete();\n    };\n    return TakeLastSubscriber;\n}(Subscriber));\n//# sourceMappingURL=takeLast.js.map\n","/** PURE_IMPORTS_START ._scan,._takeLast,._defaultIfEmpty,.._util_pipe PURE_IMPORTS_END */\nimport { scan } from './scan';\nimport { takeLast } from './takeLast';\nimport { defaultIfEmpty } from './defaultIfEmpty';\nimport { pipe } from '../util/pipe';\n/* tslint:enable:max-line-length */\n/**\n * Applies an accumulator function over the source Observable, and returns the\n * accumulated result when the source completes, given an optional seed value.\n *\n * <span class=\"informal\">Combines together all values emitted on the source,\n * using an accumulator function that knows how to join a new source value into\n * the accumulation from the past.</span>\n *\n * <img src=\"./img/reduce.png\" width=\"100%\">\n *\n * Like\n * [Array.prototype.reduce()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce),\n * `reduce` applies an `accumulator` function against an accumulation and each\n * value of the source Observable (from the past) to reduce it to a single\n * value, emitted on the output Observable. Note that `reduce` will only emit\n * one value, only when the source Observable completes. It is equivalent to\n * applying operator {@link scan} followed by operator {@link last}.\n *\n * Returns an Observable that applies a specified `accumulator` function to each\n * item emitted by the source Observable. If a `seed` value is specified, then\n * that value will be used as the initial value for the accumulator. If no seed\n * value is specified, the first item of the source is used as the seed.\n *\n * @example <caption>Count the number of click events that happened in 5 seconds</caption>\n * var clicksInFiveSeconds = Rx.Observable.fromEvent(document, 'click')\n *   .takeUntil(Rx.Observable.interval(5000));\n * var ones = clicksInFiveSeconds.mapTo(1);\n * var seed = 0;\n * var count = ones.reduce((acc, one) => acc + one, seed);\n * count.subscribe(x => console.log(x));\n *\n * @see {@link count}\n * @see {@link expand}\n * @see {@link mergeScan}\n * @see {@link scan}\n *\n * @param {function(acc: R, value: T, index: number): R} accumulator The accumulator function\n * called on each source value.\n * @param {R} [seed] The initial accumulation value.\n * @return {Observable<R>} An Observable that emits a single value that is the\n * result of accumulating the values emitted by the source Observable.\n * @method reduce\n * @owner Observable\n */\nexport function reduce(accumulator, seed) {\n    // providing a seed of `undefined` *should* be valid and trigger\n    // hasSeed! so don't use `seed !== undefined` checks!\n    // For this reason, we have to check it here at the original call site\n    // otherwise inside Operator/Subscriber we won't know if `undefined`\n    // means they didn't provide anything or if they literally provided `undefined`\n    if (arguments.length >= 2) {\n        return function reduceOperatorFunctionWithSeed(source) {\n            return pipe(scan(accumulator, seed), takeLast(1), defaultIfEmpty(seed))(source);\n        };\n    }\n    return function reduceOperatorFunction(source) {\n        return pipe(scan(function (acc, value, index) {\n            return accumulator(acc, value, index + 1);\n        }), takeLast(1))(source);\n    };\n}\n//# sourceMappingURL=reduce.js.map\n","/** PURE_IMPORTS_START ._reduce PURE_IMPORTS_END */\nimport { reduce } from './reduce';\n/**\n * The Max operator operates on an Observable that emits numbers (or items that can be compared with a provided function),\n * and when source Observable completes it emits a single item: the item with the largest value.\n *\n * <img src=\"./img/max.png\" width=\"100%\">\n *\n * @example <caption>Get the maximal value of a series of numbers</caption>\n * Rx.Observable.of(5, 4, 7, 2, 8)\n *   .max()\n *   .subscribe(x => console.log(x)); // -> 8\n *\n * @example <caption>Use a comparer function to get the maximal item</caption>\n * interface Person {\n *   age: number,\n *   name: string\n * }\n * Observable.of<Person>({age: 7, name: 'Foo'},\n *                       {age: 5, name: 'Bar'},\n *                       {age: 9, name: 'Beer'})\n *           .max<Person>((a: Person, b: Person) => a.age < b.age ? -1 : 1)\n *           .subscribe((x: Person) => console.log(x.name)); // -> 'Beer'\n * }\n *\n * @see {@link min}\n *\n * @param {Function} [comparer] - Optional comparer function that it will use instead of its default to compare the\n * value of two items.\n * @return {Observable} An Observable that emits item with the largest value.\n * @method max\n * @owner Observable\n */\nexport function max(comparer) {\n    var max = (typeof comparer === 'function')\n        ? function (x, y) { return comparer(x, y) > 0 ? x : y; }\n        : function (x, y) { return x > y ? x : y; };\n    return reduce(max);\n}\n//# sourceMappingURL=max.js.map\n","/** PURE_IMPORTS_START ._mergeMap PURE_IMPORTS_END */\nimport { mergeMap } from './mergeMap';\n/**\n * Projects each source value to the same Observable which is merged multiple\n * times in the output Observable.\n *\n * <span class=\"informal\">It's like {@link mergeMap}, but maps each value always\n * to the same inner Observable.</span>\n *\n * <img src=\"./img/mergeMapTo.png\" width=\"100%\">\n *\n * Maps each source value to the given Observable `innerObservable` regardless\n * of the source value, and then merges those resulting Observables into one\n * single Observable, which is the output Observable.\n *\n * @example <caption>For each click event, start an interval Observable ticking every 1 second</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.mergeMapTo(Rx.Observable.interval(1000));\n * result.subscribe(x => console.log(x));\n *\n * @see {@link concatMapTo}\n * @see {@link merge}\n * @see {@link mergeAll}\n * @see {@link mergeMap}\n * @see {@link mergeScan}\n * @see {@link switchMapTo}\n *\n * @param {ObservableInput} innerObservable An Observable to replace each value from\n * the source Observable.\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input\n * Observables being subscribed to concurrently.\n * @return {Observable} An Observable that emits items from the given\n * `innerObservable`\n * @method mergeMapTo\n * @owner Observable\n */\nexport function mergeMapTo(innerObservable, concurrent) {\n    if (concurrent === void 0) {\n        concurrent = Number.POSITIVE_INFINITY;\n    }\n    return mergeMap(function () { return innerObservable; }, concurrent);\n}\n//# sourceMappingURL=mergeMapTo.js.map\n","/** PURE_IMPORTS_START tslib,.._util_tryCatch,.._util_errorObject,.._util_subscribeToResult,.._OuterSubscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { tryCatch } from '../util/tryCatch';\nimport { errorObject } from '../util/errorObject';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { OuterSubscriber } from '../OuterSubscriber';\n/**\n * Applies an accumulator function over the source Observable where the\n * accumulator function itself returns an Observable, then each intermediate\n * Observable returned is merged into the output Observable.\n *\n * <span class=\"informal\">It's like {@link scan}, but the Observables returned\n * by the accumulator are merged into the outer Observable.</span>\n *\n * @example <caption>Count the number of click events</caption>\n * const click$ = Rx.Observable.fromEvent(document, 'click');\n * const one$ = click$.mapTo(1);\n * const seed = 0;\n * const count$ = one$.mergeScan((acc, one) => Rx.Observable.of(acc + one), seed);\n * count$.subscribe(x => console.log(x));\n *\n * // Results:\n * 1\n * 2\n * 3\n * 4\n * // ...and so on for each click\n *\n * @param {function(acc: R, value: T): Observable<R>} accumulator\n * The accumulator function called on each source value.\n * @param seed The initial accumulation value.\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of\n * input Observables being subscribed to concurrently.\n * @return {Observable<R>} An observable of the accumulated values.\n * @method mergeScan\n * @owner Observable\n */\nexport function mergeScan(accumulator, seed, concurrent) {\n    if (concurrent === void 0) {\n        concurrent = Number.POSITIVE_INFINITY;\n    }\n    return function (source) { return source.lift(new MergeScanOperator(accumulator, seed, concurrent)); };\n}\nvar MergeScanOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function MergeScanOperator(accumulator, seed, concurrent) {\n        this.accumulator = accumulator;\n        this.seed = seed;\n        this.concurrent = concurrent;\n    }\n    MergeScanOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new MergeScanSubscriber(subscriber, this.accumulator, this.seed, this.concurrent));\n    };\n    return MergeScanOperator;\n}());\nexport { MergeScanOperator };\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar MergeScanSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(MergeScanSubscriber, _super);\n    function MergeScanSubscriber(destination, accumulator, acc, concurrent) {\n        var _this = _super.call(this, destination) || this;\n        _this.accumulator = accumulator;\n        _this.acc = acc;\n        _this.concurrent = concurrent;\n        _this.hasValue = false;\n        _this.hasCompleted = false;\n        _this.buffer = [];\n        _this.active = 0;\n        _this.index = 0;\n        return _this;\n    }\n    MergeScanSubscriber.prototype._next = function (value) {\n        if (this.active < this.concurrent) {\n            var index = this.index++;\n            var ish = tryCatch(this.accumulator)(this.acc, value);\n            var destination = this.destination;\n            if (ish === errorObject) {\n                destination.error(errorObject.e);\n            }\n            else {\n                this.active++;\n                this._innerSub(ish, value, index);\n            }\n        }\n        else {\n            this.buffer.push(value);\n        }\n    };\n    MergeScanSubscriber.prototype._innerSub = function (ish, value, index) {\n        this.add(subscribeToResult(this, ish, value, index));\n    };\n    MergeScanSubscriber.prototype._complete = function () {\n        this.hasCompleted = true;\n        if (this.active === 0 && this.buffer.length === 0) {\n            if (this.hasValue === false) {\n                this.destination.next(this.acc);\n            }\n            this.destination.complete();\n        }\n    };\n    MergeScanSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        var destination = this.destination;\n        this.acc = innerValue;\n        this.hasValue = true;\n        destination.next(innerValue);\n    };\n    MergeScanSubscriber.prototype.notifyComplete = function (innerSub) {\n        var buffer = this.buffer;\n        this.remove(innerSub);\n        this.active--;\n        if (buffer.length > 0) {\n            this._next(buffer.shift());\n        }\n        else if (this.active === 0 && this.hasCompleted) {\n            if (this.hasValue === false) {\n                this.destination.next(this.acc);\n            }\n            this.destination.complete();\n        }\n    };\n    return MergeScanSubscriber;\n}(OuterSubscriber));\nexport { MergeScanSubscriber };\n//# sourceMappingURL=mergeScan.js.map\n","/** PURE_IMPORTS_START ._reduce PURE_IMPORTS_END */\nimport { reduce } from './reduce';\n/**\n * The Min operator operates on an Observable that emits numbers (or items that can be compared with a provided function),\n * and when source Observable completes it emits a single item: the item with the smallest value.\n *\n * <img src=\"./img/min.png\" width=\"100%\">\n *\n * @example <caption>Get the minimal value of a series of numbers</caption>\n * Rx.Observable.of(5, 4, 7, 2, 8)\n *   .min()\n *   .subscribe(x => console.log(x)); // -> 2\n *\n * @example <caption>Use a comparer function to get the minimal item</caption>\n * interface Person {\n *   age: number,\n *   name: string\n * }\n * Observable.of<Person>({age: 7, name: 'Foo'},\n *                       {age: 5, name: 'Bar'},\n *                       {age: 9, name: 'Beer'})\n *           .min<Person>( (a: Person, b: Person) => a.age < b.age ? -1 : 1)\n *           .subscribe((x: Person) => console.log(x.name)); // -> 'Bar'\n * }\n *\n * @see {@link max}\n *\n * @param {Function} [comparer] - Optional comparer function that it will use instead of its default to compare the\n * value of two items.\n * @return {Observable<R>} An Observable that emits item with the smallest value.\n * @method min\n * @owner Observable\n */\nexport function min(comparer) {\n    var min = (typeof comparer === 'function')\n        ? function (x, y) { return comparer(x, y) < 0 ? x : y; }\n        : function (x, y) { return x < y ? x : y; };\n    return reduce(min);\n}\n//# sourceMappingURL=min.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function refCount() {\n    return function refCountOperatorFunction(source) {\n        return source.lift(new RefCountOperator(source));\n    };\n}\nvar RefCountOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function RefCountOperator(connectable) {\n        this.connectable = connectable;\n    }\n    RefCountOperator.prototype.call = function (subscriber, source) {\n        var connectable = this.connectable;\n        connectable._refCount++;\n        var refCounter = new RefCountSubscriber(subscriber, connectable);\n        var subscription = source.subscribe(refCounter);\n        if (!refCounter.closed) {\n            refCounter.connection = connectable.connect();\n        }\n        return subscription;\n    };\n    return RefCountOperator;\n}());\nvar RefCountSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(RefCountSubscriber, _super);\n    function RefCountSubscriber(destination, connectable) {\n        var _this = _super.call(this, destination) || this;\n        _this.connectable = connectable;\n        return _this;\n    }\n    RefCountSubscriber.prototype._unsubscribe = function () {\n        var connectable = this.connectable;\n        if (!connectable) {\n            this.connection = null;\n            return;\n        }\n        this.connectable = null;\n        var refCount = connectable._refCount;\n        if (refCount <= 0) {\n            this.connection = null;\n            return;\n        }\n        connectable._refCount = refCount - 1;\n        if (refCount > 1) {\n            this.connection = null;\n            return;\n        }\n        ///\n        // Compare the local RefCountSubscriber's connection Subscription to the\n        // connection Subscription on the shared ConnectableObservable. In cases\n        // where the ConnectableObservable source synchronously emits values, and\n        // the RefCountSubscriber's downstream Observers synchronously unsubscribe,\n        // execution continues to here before the RefCountOperator has a chance to\n        // supply the RefCountSubscriber with the shared connection Subscription.\n        // For example:\n        // ```\n        // Observable.range(0, 10)\n        //   .publish()\n        //   .refCount()\n        //   .take(5)\n        //   .subscribe();\n        // ```\n        // In order to account for this case, RefCountSubscriber should only dispose\n        // the ConnectableObservable's shared connection Subscription if the\n        // connection Subscription exists, *and* either:\n        //   a. RefCountSubscriber doesn't have a reference to the shared connection\n        //      Subscription yet, or,\n        //   b. RefCountSubscriber's connection Subscription reference is identical\n        //      to the shared connection Subscription\n        ///\n        var connection = this.connection;\n        var sharedConnection = connectable._connection;\n        this.connection = null;\n        if (sharedConnection && (!connection || sharedConnection === connection)) {\n            sharedConnection.unsubscribe();\n        }\n    };\n    return RefCountSubscriber;\n}(Subscriber));\n//# sourceMappingURL=refCount.js.map\n","/** PURE_IMPORTS_START tslib,.._Subject,.._Observable,.._Subscriber,.._Subscription,.._.._internal_operators_refCount PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { SubjectSubscriber } from '../Subject';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { refCount as higherOrderRefCount } from '../../internal/operators/refCount';\n/**\n * @class ConnectableObservable<T>\n */\nvar ConnectableObservable = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ConnectableObservable, _super);\n    function ConnectableObservable(source, subjectFactory) {\n        var _this = _super.call(this) || this;\n        _this.source = source;\n        _this.subjectFactory = subjectFactory;\n        _this._refCount = 0;\n        /** @internal */\n        _this._isComplete = false;\n        return _this;\n    }\n    ConnectableObservable.prototype._subscribe = function (subscriber) {\n        return this.getSubject().subscribe(subscriber);\n    };\n    ConnectableObservable.prototype.getSubject = function () {\n        var subject = this._subject;\n        if (!subject || subject.isStopped) {\n            this._subject = this.subjectFactory();\n        }\n        return this._subject;\n    };\n    ConnectableObservable.prototype.connect = function () {\n        var connection = this._connection;\n        if (!connection) {\n            this._isComplete = false;\n            connection = this._connection = new Subscription();\n            connection.add(this.source\n                .subscribe(new ConnectableSubscriber(this.getSubject(), this)));\n            if (connection.closed) {\n                this._connection = null;\n                connection = Subscription.EMPTY;\n            }\n            else {\n                this._connection = connection;\n            }\n        }\n        return connection;\n    };\n    ConnectableObservable.prototype.refCount = function () {\n        return higherOrderRefCount()(this);\n    };\n    return ConnectableObservable;\n}(Observable));\nexport { ConnectableObservable };\nvar connectableProto = ConnectableObservable.prototype;\nexport var connectableObservableDescriptor = {\n    operator: { value: null },\n    _refCount: { value: 0, writable: true },\n    _subject: { value: null, writable: true },\n    _connection: { value: null, writable: true },\n    _subscribe: { value: connectableProto._subscribe },\n    _isComplete: { value: connectableProto._isComplete, writable: true },\n    getSubject: { value: connectableProto.getSubject },\n    connect: { value: connectableProto.connect },\n    refCount: { value: connectableProto.refCount }\n};\nvar ConnectableSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ConnectableSubscriber, _super);\n    function ConnectableSubscriber(destination, connectable) {\n        var _this = _super.call(this, destination) || this;\n        _this.connectable = connectable;\n        return _this;\n    }\n    ConnectableSubscriber.prototype._error = function (err) {\n        this._unsubscribe();\n        _super.prototype._error.call(this, err);\n    };\n    ConnectableSubscriber.prototype._complete = function () {\n        this.connectable._isComplete = true;\n        this._unsubscribe();\n        _super.prototype._complete.call(this);\n    };\n    ConnectableSubscriber.prototype._unsubscribe = function () {\n        var connectable = this.connectable;\n        if (connectable) {\n            this.connectable = null;\n            var connection = connectable._connection;\n            connectable._refCount = 0;\n            connectable._subject = null;\n            connectable._connection = null;\n            if (connection) {\n                connection.unsubscribe();\n            }\n        }\n    };\n    return ConnectableSubscriber;\n}(SubjectSubscriber));\nvar RefCountOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function RefCountOperator(connectable) {\n        this.connectable = connectable;\n    }\n    RefCountOperator.prototype.call = function (subscriber, source) {\n        var connectable = this.connectable;\n        connectable._refCount++;\n        var refCounter = new RefCountSubscriber(subscriber, connectable);\n        var subscription = source.subscribe(refCounter);\n        if (!refCounter.closed) {\n            refCounter.connection = connectable.connect();\n        }\n        return subscription;\n    };\n    return RefCountOperator;\n}());\nvar RefCountSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(RefCountSubscriber, _super);\n    function RefCountSubscriber(destination, connectable) {\n        var _this = _super.call(this, destination) || this;\n        _this.connectable = connectable;\n        return _this;\n    }\n    RefCountSubscriber.prototype._unsubscribe = function () {\n        var connectable = this.connectable;\n        if (!connectable) {\n            this.connection = null;\n            return;\n        }\n        this.connectable = null;\n        var refCount = connectable._refCount;\n        if (refCount <= 0) {\n            this.connection = null;\n            return;\n        }\n        connectable._refCount = refCount - 1;\n        if (refCount > 1) {\n            this.connection = null;\n            return;\n        }\n        ///\n        // Compare the local RefCountSubscriber's connection Subscription to the\n        // connection Subscription on the shared ConnectableObservable. In cases\n        // where the ConnectableObservable source synchronously emits values, and\n        // the RefCountSubscriber's downstream Observers synchronously unsubscribe,\n        // execution continues to here before the RefCountOperator has a chance to\n        // supply the RefCountSubscriber with the shared connection Subscription.\n        // For example:\n        // ```\n        // Observable.range(0, 10)\n        //   .publish()\n        //   .refCount()\n        //   .take(5)\n        //   .subscribe();\n        // ```\n        // In order to account for this case, RefCountSubscriber should only dispose\n        // the ConnectableObservable's shared connection Subscription if the\n        // connection Subscription exists, *and* either:\n        //   a. RefCountSubscriber doesn't have a reference to the shared connection\n        //      Subscription yet, or,\n        //   b. RefCountSubscriber's connection Subscription reference is identical\n        //      to the shared connection Subscription\n        ///\n        var connection = this.connection;\n        var sharedConnection = connectable._connection;\n        this.connection = null;\n        if (sharedConnection && (!connection || sharedConnection === connection)) {\n            sharedConnection.unsubscribe();\n        }\n    };\n    return RefCountSubscriber;\n}(Subscriber));\n//# sourceMappingURL=ConnectableObservable.js.map\n","/** PURE_IMPORTS_START .._observable_ConnectableObservable PURE_IMPORTS_END */\nimport { connectableObservableDescriptor } from '../observable/ConnectableObservable';\n/* tslint:enable:max-line-length */\n/**\n * Returns an Observable that emits the results of invoking a specified selector on items\n * emitted by a ConnectableObservable that shares a single subscription to the underlying stream.\n *\n * <img src=\"./img/multicast.png\" width=\"100%\">\n *\n * @param {Function|Subject} subjectOrSubjectFactory - Factory function to create an intermediate subject through\n * which the source sequence's elements will be multicast to the selector function\n * or Subject to push source elements into.\n * @param {Function} [selector] - Optional selector function that can use the multicasted source stream\n * as many times as needed, without causing multiple subscriptions to the source stream.\n * Subscribers to the given source will receive all notifications of the source from the\n * time of the subscription forward.\n * @return {Observable} An Observable that emits the results of invoking the selector\n * on the items emitted by a `ConnectableObservable` that shares a single subscription to\n * the underlying stream.\n * @method multicast\n * @owner Observable\n */\nexport function multicast(subjectOrSubjectFactory, selector) {\n    return function multicastOperatorFunction(source) {\n        var subjectFactory;\n        if (typeof subjectOrSubjectFactory === 'function') {\n            subjectFactory = subjectOrSubjectFactory;\n        }\n        else {\n            subjectFactory = function subjectFactory() {\n                return subjectOrSubjectFactory;\n            };\n        }\n        if (typeof selector === 'function') {\n            return source.lift(new MulticastOperator(subjectFactory, selector));\n        }\n        var connectable = Object.create(source, connectableObservableDescriptor);\n        connectable.source = source;\n        connectable.subjectFactory = subjectFactory;\n        return connectable;\n    };\n}\nvar MulticastOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function MulticastOperator(subjectFactory, selector) {\n        this.subjectFactory = subjectFactory;\n        this.selector = selector;\n    }\n    MulticastOperator.prototype.call = function (subscriber, source) {\n        var selector = this.selector;\n        var subject = this.subjectFactory();\n        var subscription = selector(subject).subscribe(subscriber);\n        subscription.add(source.subscribe(subject));\n        return subscription;\n    };\n    return MulticastOperator;\n}());\nexport { MulticastOperator };\n//# sourceMappingURL=multicast.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscriber,.._Notification PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { Notification } from '../Notification';\n/**\n *\n * Re-emits all notifications from source Observable with specified scheduler.\n *\n * <span class=\"informal\">Ensure a specific scheduler is used, from outside of an Observable.</span>\n *\n * `observeOn` is an operator that accepts a scheduler as a first parameter, which will be used to reschedule\n * notifications emitted by the source Observable. It might be useful, if you do not have control over\n * internal scheduler of a given Observable, but want to control when its values are emitted nevertheless.\n *\n * Returned Observable emits the same notifications (nexted values, complete and error events) as the source Observable,\n * but rescheduled with provided scheduler. Note that this doesn't mean that source Observables internal\n * scheduler will be replaced in any way. Original scheduler still will be used, but when the source Observable emits\n * notification, it will be immediately scheduled again - this time with scheduler passed to `observeOn`.\n * An anti-pattern would be calling `observeOn` on Observable that emits lots of values synchronously, to split\n * that emissions into asynchronous chunks. For this to happen, scheduler would have to be passed into the source\n * Observable directly (usually into the operator that creates it). `observeOn` simply delays notifications a\n * little bit more, to ensure that they are emitted at expected moments.\n *\n * As a matter of fact, `observeOn` accepts second parameter, which specifies in milliseconds with what delay notifications\n * will be emitted. The main difference between {@link delay} operator and `observeOn` is that `observeOn`\n * will delay all notifications - including error notifications - while `delay` will pass through error\n * from source Observable immediately when it is emitted. In general it is highly recommended to use `delay` operator\n * for any kind of delaying of values in the stream, while using `observeOn` to specify which scheduler should be used\n * for notification emissions in general.\n *\n * @example <caption>Ensure values in subscribe are called just before browser repaint.</caption>\n * const intervals = Rx.Observable.interval(10); // Intervals are scheduled\n *                                               // with async scheduler by default...\n *\n * intervals\n * .observeOn(Rx.Scheduler.animationFrame)       // ...but we will observe on animationFrame\n * .subscribe(val => {                           // scheduler to ensure smooth animation.\n *   someDiv.style.height = val + 'px';\n * });\n *\n * @see {@link delay}\n *\n * @param {SchedulerLike} scheduler Scheduler that will be used to reschedule notifications from source Observable.\n * @param {number} [delay] Number of milliseconds that states with what delay every notification should be rescheduled.\n * @return {Observable<T>} Observable that emits the same notifications as the source Observable,\n * but with provided scheduler.\n *\n * @method observeOn\n * @owner Observable\n */\nexport function observeOn(scheduler, delay) {\n    if (delay === void 0) {\n        delay = 0;\n    }\n    return function observeOnOperatorFunction(source) {\n        return source.lift(new ObserveOnOperator(scheduler, delay));\n    };\n}\nvar ObserveOnOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function ObserveOnOperator(scheduler, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        this.scheduler = scheduler;\n        this.delay = delay;\n    }\n    ObserveOnOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ObserveOnSubscriber(subscriber, this.scheduler, this.delay));\n    };\n    return ObserveOnOperator;\n}());\nexport { ObserveOnOperator };\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar ObserveOnSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ObserveOnSubscriber, _super);\n    function ObserveOnSubscriber(destination, scheduler, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        var _this = _super.call(this, destination) || this;\n        _this.scheduler = scheduler;\n        _this.delay = delay;\n        return _this;\n    }\n    ObserveOnSubscriber.dispatch = function (arg) {\n        var notification = arg.notification, destination = arg.destination;\n        notification.observe(destination);\n        this.unsubscribe();\n    };\n    ObserveOnSubscriber.prototype.scheduleMessage = function (notification) {\n        this.add(this.scheduler.schedule(ObserveOnSubscriber.dispatch, this.delay, new ObserveOnMessage(notification, this.destination)));\n    };\n    ObserveOnSubscriber.prototype._next = function (value) {\n        this.scheduleMessage(Notification.createNext(value));\n    };\n    ObserveOnSubscriber.prototype._error = function (err) {\n        this.scheduleMessage(Notification.createError(err));\n    };\n    ObserveOnSubscriber.prototype._complete = function () {\n        this.scheduleMessage(Notification.createComplete());\n    };\n    return ObserveOnSubscriber;\n}(Subscriber));\nexport { ObserveOnSubscriber };\nvar ObserveOnMessage = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function ObserveOnMessage(notification, destination) {\n        this.notification = notification;\n        this.destination = destination;\n    }\n    return ObserveOnMessage;\n}());\nexport { ObserveOnMessage };\n//# sourceMappingURL=observeOn.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\n/**\n * Groups pairs of consecutive emissions together and emits them as an array of\n * two values.\n *\n * <span class=\"informal\">Puts the current value and previous value together as\n * an array, and emits that.</span>\n *\n * <img src=\"./img/pairwise.png\" width=\"100%\">\n *\n * The Nth emission from the source Observable will cause the output Observable\n * to emit an array [(N-1)th, Nth] of the previous and the current value, as a\n * pair. For this reason, `pairwise` emits on the second and subsequent\n * emissions from the source Observable, but not on the first emission, because\n * there is no previous value in that case.\n *\n * @example <caption>On every click (starting from the second), emit the relative distance to the previous click</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var pairs = clicks.pairwise();\n * var distance = pairs.map(pair => {\n *   var x0 = pair[0].clientX;\n *   var y0 = pair[0].clientY;\n *   var x1 = pair[1].clientX;\n *   var y1 = pair[1].clientY;\n *   return Math.sqrt(Math.pow(x0 - x1, 2) + Math.pow(y0 - y1, 2));\n * });\n * distance.subscribe(x => console.log(x));\n *\n * @see {@link buffer}\n * @see {@link bufferCount}\n *\n * @return {Observable<Array<T>>} An Observable of pairs (as arrays) of\n * consecutive values from the source Observable.\n * @method pairwise\n * @owner Observable\n */\nexport function pairwise() {\n    return function (source) { return source.lift(new PairwiseOperator()); };\n}\nvar PairwiseOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function PairwiseOperator() {\n    }\n    PairwiseOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new PairwiseSubscriber(subscriber));\n    };\n    return PairwiseOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar PairwiseSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(PairwiseSubscriber, _super);\n    function PairwiseSubscriber(destination) {\n        var _this = _super.call(this, destination) || this;\n        _this.hasPrev = false;\n        return _this;\n    }\n    PairwiseSubscriber.prototype._next = function (value) {\n        if (this.hasPrev) {\n            this.destination.next([this.prev, value]);\n        }\n        else {\n            this.hasPrev = true;\n        }\n        this.prev = value;\n    };\n    return PairwiseSubscriber;\n}(Subscriber));\n//# sourceMappingURL=pairwise.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function not(pred, thisArg) {\n    function notPred() {\n        return !(notPred.pred.apply(notPred.thisArg, arguments));\n    }\n    notPred.pred = pred;\n    notPred.thisArg = thisArg;\n    return notPred;\n}\n//# sourceMappingURL=not.js.map\n","/** PURE_IMPORTS_START .._util_not,._filter PURE_IMPORTS_END */\nimport { not } from '../util/not';\nimport { filter } from './filter';\n/**\n * Splits the source Observable into two, one with values that satisfy a\n * predicate, and another with values that don't satisfy the predicate.\n *\n * <span class=\"informal\">It's like {@link filter}, but returns two Observables:\n * one like the output of {@link filter}, and the other with values that did not\n * pass the condition.</span>\n *\n * <img src=\"./img/partition.png\" width=\"100%\">\n *\n * `partition` outputs an array with two Observables that partition the values\n * from the source Observable through the given `predicate` function. The first\n * Observable in that array emits source values for which the predicate argument\n * returns true. The second Observable emits source values for which the\n * predicate returns false. The first behaves like {@link filter} and the second\n * behaves like {@link filter} with the predicate negated.\n *\n * @example <caption>Partition click events into those on DIV elements and those elsewhere</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var parts = clicks.partition(ev => ev.target.tagName === 'DIV');\n * var clicksOnDivs = parts[0];\n * var clicksElsewhere = parts[1];\n * clicksOnDivs.subscribe(x => console.log('DIV clicked: ', x));\n * clicksElsewhere.subscribe(x => console.log('Other clicked: ', x));\n *\n * @see {@link filter}\n *\n * @param {function(value: T, index: number): boolean} predicate A function that\n * evaluates each value emitted by the source Observable. If it returns `true`,\n * the value is emitted on the first Observable in the returned array, if\n * `false` the value is emitted on the second Observable in the array. The\n * `index` parameter is the number `i` for the i-th source emission that has\n * happened since the subscription, starting from the number `0`.\n * @param {any} [thisArg] An optional argument to determine the value of `this`\n * in the `predicate` function.\n * @return {[Observable<T>, Observable<T>]} An array with two Observables: one\n * with values that passed the predicate, and another with values that did not\n * pass the predicate.\n * @method partition\n * @owner Observable\n */\nexport function partition(predicate, thisArg) {\n    return function (source) {\n        return [\n            filter(predicate, thisArg)(source),\n            filter(not(predicate, thisArg))(source)\n        ];\n    };\n}\n//# sourceMappingURL=partition.js.map\n","/** PURE_IMPORTS_START ._map PURE_IMPORTS_END */\nimport { map } from './map';\n/**\n * Maps each source value (an object) to its specified nested property.\n *\n * <span class=\"informal\">Like {@link map}, but meant only for picking one of\n * the nested properties of every emitted object.</span>\n *\n * <img src=\"./img/pluck.png\" width=\"100%\">\n *\n * Given a list of strings describing a path to an object property, retrieves\n * the value of a specified nested property from all values in the source\n * Observable. If a property can't be resolved, it will return `undefined` for\n * that value.\n *\n * @example <caption>Map every click to the tagName of the clicked target element</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var tagNames = clicks.pluck('target', 'tagName');\n * tagNames.subscribe(x => console.log(x));\n *\n * @see {@link map}\n *\n * @param {...string} properties The nested properties to pluck from each source\n * value (an object).\n * @return {Observable} A new Observable of property values from the source values.\n * @method pluck\n * @owner Observable\n */\nexport function pluck() {\n    var properties = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        properties[_i] = arguments[_i];\n    }\n    var length = properties.length;\n    if (length === 0) {\n        throw new Error('list of properties cannot be empty.');\n    }\n    return function (source) { return map(plucker(properties, length))(source); };\n}\nfunction plucker(props, length) {\n    var mapper = function (x) {\n        var currentProp = x;\n        for (var i = 0; i < length; i++) {\n            var p = currentProp[props[i]];\n            if (typeof p !== 'undefined') {\n                currentProp = p;\n            }\n            else {\n                return undefined;\n            }\n        }\n        return currentProp;\n    };\n    return mapper;\n}\n//# sourceMappingURL=pluck.js.map\n","/** PURE_IMPORTS_START .._Subject,._multicast PURE_IMPORTS_END */\nimport { Subject } from '../Subject';\nimport { multicast } from './multicast';\n/* tslint:enable:max-line-length */\n/**\n * Returns a ConnectableObservable, which is a variety of Observable that waits until its connect method is called\n * before it begins emitting items to those Observers that have subscribed to it.\n *\n * <img src=\"./img/publish.png\" width=\"100%\">\n *\n * @param {Function} [selector] - Optional selector function which can use the multicasted source sequence as many times\n * as needed, without causing multiple subscriptions to the source sequence.\n * Subscribers to the given source will receive all notifications of the source from the time of the subscription on.\n * @return A ConnectableObservable that upon connection causes the source Observable to emit items to its Observers.\n * @method publish\n * @owner Observable\n */\nexport function publish(selector) {\n    return selector ?\n        multicast(function () { return new Subject(); }, selector) :\n        multicast(new Subject());\n}\n//# sourceMappingURL=publish.js.map\n","/** PURE_IMPORTS_START tslib,._Subject,._util_ObjectUnsubscribedError PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subject } from './Subject';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\n/**\n * @class BehaviorSubject<T>\n */\nvar BehaviorSubject = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(BehaviorSubject, _super);\n    function BehaviorSubject(_value) {\n        var _this = _super.call(this) || this;\n        _this._value = _value;\n        return _this;\n    }\n    Object.defineProperty(BehaviorSubject.prototype, \"value\", {\n        get: function () {\n            return this.getValue();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BehaviorSubject.prototype._subscribe = function (subscriber) {\n        var subscription = _super.prototype._subscribe.call(this, subscriber);\n        if (subscription && !subscription.closed) {\n            subscriber.next(this._value);\n        }\n        return subscription;\n    };\n    BehaviorSubject.prototype.getValue = function () {\n        if (this.hasError) {\n            throw this.thrownError;\n        }\n        else if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        else {\n            return this._value;\n        }\n    };\n    BehaviorSubject.prototype.next = function (value) {\n        _super.prototype.next.call(this, this._value = value);\n    };\n    return BehaviorSubject;\n}(Subject));\nexport { BehaviorSubject };\n//# sourceMappingURL=BehaviorSubject.js.map\n","/** PURE_IMPORTS_START .._BehaviorSubject,._multicast PURE_IMPORTS_END */\nimport { BehaviorSubject } from '../BehaviorSubject';\nimport { multicast } from './multicast';\n/**\n * @param value\n * @return {ConnectableObservable<T>}\n * @method publishBehavior\n * @owner Observable\n */\nexport function publishBehavior(value) {\n    return function (source) { return multicast(new BehaviorSubject(value))(source); };\n}\n//# sourceMappingURL=publishBehavior.js.map\n","/** PURE_IMPORTS_START tslib,._Subject,._Subscription PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subject } from './Subject';\nimport { Subscription } from './Subscription';\n/**\n * @class AsyncSubject<T>\n */\nvar AsyncSubject = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(AsyncSubject, _super);\n    function AsyncSubject() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.value = null;\n        _this.hasNext = false;\n        _this.hasCompleted = false;\n        return _this;\n    }\n    AsyncSubject.prototype._subscribe = function (subscriber) {\n        if (this.hasError) {\n            subscriber.error(this.thrownError);\n            return Subscription.EMPTY;\n        }\n        else if (this.hasCompleted && this.hasNext) {\n            subscriber.next(this.value);\n            subscriber.complete();\n            return Subscription.EMPTY;\n        }\n        return _super.prototype._subscribe.call(this, subscriber);\n    };\n    AsyncSubject.prototype.next = function (value) {\n        if (!this.hasCompleted) {\n            this.value = value;\n            this.hasNext = true;\n        }\n    };\n    AsyncSubject.prototype.error = function (error) {\n        if (!this.hasCompleted) {\n            _super.prototype.error.call(this, error);\n        }\n    };\n    AsyncSubject.prototype.complete = function () {\n        this.hasCompleted = true;\n        if (this.hasNext) {\n            _super.prototype.next.call(this, this.value);\n        }\n        _super.prototype.complete.call(this);\n    };\n    return AsyncSubject;\n}(Subject));\nexport { AsyncSubject };\n//# sourceMappingURL=AsyncSubject.js.map\n","/** PURE_IMPORTS_START .._AsyncSubject,._multicast PURE_IMPORTS_END */\nimport { AsyncSubject } from '../AsyncSubject';\nimport { multicast } from './multicast';\nexport function publishLast() {\n    return function (source) { return multicast(new AsyncSubject())(source); };\n}\n//# sourceMappingURL=publishLast.js.map\n","/** PURE_IMPORTS_START tslib,._AsyncAction PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { AsyncAction } from './AsyncAction';\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar QueueAction = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(QueueAction, _super);\n    function QueueAction(scheduler, work) {\n        var _this = _super.call(this, scheduler, work) || this;\n        _this.scheduler = scheduler;\n        _this.work = work;\n        return _this;\n    }\n    QueueAction.prototype.schedule = function (state, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        if (delay > 0) {\n            return _super.prototype.schedule.call(this, state, delay);\n        }\n        this.delay = delay;\n        this.state = state;\n        this.scheduler.flush(this);\n        return this;\n    };\n    QueueAction.prototype.execute = function (state, delay) {\n        return (delay > 0 || this.closed) ?\n            _super.prototype.execute.call(this, state, delay) :\n            this._execute(state, delay);\n    };\n    QueueAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        // If delay exists and is greater than 0, or if the delay is null (the\n        // action wasn't rescheduled) but was originally scheduled as an async\n        // action, then recycle as an async action.\n        if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {\n            return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);\n        }\n        // Otherwise flush the scheduler starting with this action.\n        return scheduler.flush(this);\n    };\n    return QueueAction;\n}(AsyncAction));\nexport { QueueAction };\n//# sourceMappingURL=QueueAction.js.map\n","/** PURE_IMPORTS_START tslib,._AsyncScheduler PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { AsyncScheduler } from './AsyncScheduler';\nvar QueueScheduler = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(QueueScheduler, _super);\n    function QueueScheduler() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return QueueScheduler;\n}(AsyncScheduler));\nexport { QueueScheduler };\n//# sourceMappingURL=QueueScheduler.js.map\n","/** PURE_IMPORTS_START ._QueueAction,._QueueScheduler PURE_IMPORTS_END */\nimport { QueueAction } from './QueueAction';\nimport { QueueScheduler } from './QueueScheduler';\n/**\n *\n * Queue Scheduler\n *\n * <span class=\"informal\">Put every next task on a queue, instead of executing it immediately</span>\n *\n * `queue` scheduler, when used with delay, behaves the same as {@link async} scheduler.\n *\n * When used without delay, it schedules given task synchronously - executes it right when\n * it is scheduled. However when called recursively, that is when inside the scheduled task,\n * another task is scheduled with queue scheduler, instead of executing immediately as well,\n * that task will be put on a queue and wait for current one to finish.\n *\n * This means that when you execute task with `queue` scheduler, you are sure it will end\n * before any other task scheduled with that scheduler will start.\n *\n * @examples <caption>Schedule recursively first, then do something</caption>\n *\n * Rx.Scheduler.queue.schedule(() => {\n *   Rx.Scheduler.queue.schedule(() => console.log('second')); // will not happen now, but will be put on a queue\n *\n *   console.log('first');\n * });\n *\n * // Logs:\n * // \"first\"\n * // \"second\"\n *\n *\n * @example <caption>Reschedule itself recursively</caption>\n *\n * Rx.Scheduler.queue.schedule(function(state) {\n *   if (state !== 0) {\n *     console.log('before', state);\n *     this.schedule(state - 1); // `this` references currently executing Action,\n *                               // which we reschedule with new state\n *     console.log('after', state);\n *   }\n * }, 0, 3);\n *\n * // In scheduler that runs recursively, you would expect:\n * // \"before\", 3\n * // \"before\", 2\n * // \"before\", 1\n * // \"after\", 1\n * // \"after\", 2\n * // \"after\", 3\n *\n * // But with queue it logs:\n * // \"before\", 3\n * // \"after\", 3\n * // \"before\", 2\n * // \"after\", 2\n * // \"before\", 1\n * // \"after\", 1\n *\n *\n * @static true\n * @name queue\n * @owner Scheduler\n */\nexport var queue = /*@__PURE__*/ new QueueScheduler(QueueAction);\n//# sourceMappingURL=queue.js.map\n","/** PURE_IMPORTS_START tslib,._Subject,._scheduler_queue,._Subscription,._operators_observeOn,._util_ObjectUnsubscribedError,._SubjectSubscription PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subject } from './Subject';\nimport { queue } from './scheduler/queue';\nimport { Subscription } from './Subscription';\nimport { ObserveOnSubscriber } from './operators/observeOn';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { SubjectSubscription } from './SubjectSubscription';\n/**\n * @class ReplaySubject<T>\n */\nvar ReplaySubject = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ReplaySubject, _super);\n    function ReplaySubject(bufferSize, windowTime, scheduler) {\n        if (bufferSize === void 0) {\n            bufferSize = Number.POSITIVE_INFINITY;\n        }\n        if (windowTime === void 0) {\n            windowTime = Number.POSITIVE_INFINITY;\n        }\n        var _this = _super.call(this) || this;\n        _this.scheduler = scheduler;\n        _this._events = [];\n        _this._bufferSize = bufferSize < 1 ? 1 : bufferSize;\n        _this._windowTime = windowTime < 1 ? 1 : windowTime;\n        return _this;\n    }\n    ReplaySubject.prototype.next = function (value) {\n        var now = this._getNow();\n        this._events.push(new ReplayEvent(now, value));\n        this._trimBufferThenGetEvents();\n        _super.prototype.next.call(this, value);\n    };\n    ReplaySubject.prototype._subscribe = function (subscriber) {\n        var _events = this._trimBufferThenGetEvents();\n        var scheduler = this.scheduler;\n        var subscription;\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        else if (this.hasError) {\n            subscription = Subscription.EMPTY;\n        }\n        else if (this.isStopped) {\n            subscription = Subscription.EMPTY;\n        }\n        else {\n            this.observers.push(subscriber);\n            subscription = new SubjectSubscription(this, subscriber);\n        }\n        if (scheduler) {\n            subscriber.add(subscriber = new ObserveOnSubscriber(subscriber, scheduler));\n        }\n        var len = _events.length;\n        for (var i = 0; i < len && !subscriber.closed; i++) {\n            subscriber.next(_events[i].value);\n        }\n        if (this.hasError) {\n            subscriber.error(this.thrownError);\n        }\n        else if (this.isStopped) {\n            subscriber.complete();\n        }\n        return subscription;\n    };\n    ReplaySubject.prototype._getNow = function () {\n        return (this.scheduler || queue).now();\n    };\n    ReplaySubject.prototype._trimBufferThenGetEvents = function () {\n        var now = this._getNow();\n        var _bufferSize = this._bufferSize;\n        var _windowTime = this._windowTime;\n        var _events = this._events;\n        var eventsCount = _events.length;\n        var spliceCount = 0;\n        // Trim events that fall out of the time window.\n        // Start at the front of the list. Break early once\n        // we encounter an event that falls within the window.\n        while (spliceCount < eventsCount) {\n            if ((now - _events[spliceCount].time) < _windowTime) {\n                break;\n            }\n            spliceCount++;\n        }\n        if (eventsCount > _bufferSize) {\n            spliceCount = Math.max(spliceCount, eventsCount - _bufferSize);\n        }\n        if (spliceCount > 0) {\n            _events.splice(0, spliceCount);\n        }\n        return _events;\n    };\n    return ReplaySubject;\n}(Subject));\nexport { ReplaySubject };\nvar ReplayEvent = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function ReplayEvent(time, value) {\n        this.time = time;\n        this.value = value;\n    }\n    return ReplayEvent;\n}());\n//# sourceMappingURL=ReplaySubject.js.map\n","/** PURE_IMPORTS_START .._ReplaySubject,._multicast PURE_IMPORTS_END */\nimport { ReplaySubject } from '../ReplaySubject';\nimport { multicast } from './multicast';\n/* tslint:enable:max-line-length */\nexport function publishReplay(bufferSize, windowTime, selectorOrScheduler, scheduler) {\n    if (selectorOrScheduler && typeof selectorOrScheduler !== 'function') {\n        scheduler = selectorOrScheduler;\n    }\n    var selector = typeof selectorOrScheduler === 'function' ? selectorOrScheduler : undefined;\n    var subject = new ReplaySubject(bufferSize, windowTime, scheduler);\n    return function (source) { return multicast(function () { return subject; }, selector)(source); };\n}\n//# sourceMappingURL=publishReplay.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscriber,.._observable_empty PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { empty } from '../observable/empty';\n/**\n * Returns an Observable that repeats the stream of items emitted by the source Observable at most count times.\n *\n * <img src=\"./img/repeat.png\" width=\"100%\">\n *\n * @param {number} [count] The number of times the source Observable items are repeated, a count of 0 will yield\n * an empty Observable.\n * @return {Observable} An Observable that repeats the stream of items emitted by the source Observable at most\n * count times.\n * @method repeat\n * @owner Observable\n */\nexport function repeat(count) {\n    if (count === void 0) {\n        count = -1;\n    }\n    return function (source) {\n        if (count === 0) {\n            return empty();\n        }\n        else if (count < 0) {\n            return source.lift(new RepeatOperator(-1, source));\n        }\n        else {\n            return source.lift(new RepeatOperator(count - 1, source));\n        }\n    };\n}\nvar RepeatOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function RepeatOperator(count, source) {\n        this.count = count;\n        this.source = source;\n    }\n    RepeatOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new RepeatSubscriber(subscriber, this.count, this.source));\n    };\n    return RepeatOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar RepeatSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(RepeatSubscriber, _super);\n    function RepeatSubscriber(destination, count, source) {\n        var _this = _super.call(this, destination) || this;\n        _this.count = count;\n        _this.source = source;\n        return _this;\n    }\n    RepeatSubscriber.prototype.complete = function () {\n        if (!this.isStopped) {\n            var _a = this, source = _a.source, count = _a.count;\n            if (count === 0) {\n                return _super.prototype.complete.call(this);\n            }\n            else if (count > -1) {\n                this.count = count - 1;\n            }\n            source.subscribe(this._unsubscribeAndRecycle());\n        }\n    };\n    return RepeatSubscriber;\n}(Subscriber));\n//# sourceMappingURL=repeat.js.map\n","/** PURE_IMPORTS_START tslib,.._Subject,.._util_tryCatch,.._util_errorObject,.._OuterSubscriber,.._util_subscribeToResult PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subject } from '../Subject';\nimport { tryCatch } from '../util/tryCatch';\nimport { errorObject } from '../util/errorObject';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\n/**\n * Returns an Observable that mirrors the source Observable with the exception of a `complete`. If the source\n * Observable calls `complete`, this method will emit to the Observable returned from `notifier`. If that Observable\n * calls `complete` or `error`, then this method will call `complete` or `error` on the child subscription. Otherwise\n * this method will resubscribe to the source Observable.\n *\n * <img src=\"./img/repeatWhen.png\" width=\"100%\">\n *\n * @param {function(notifications: Observable): Observable} notifier - Receives an Observable of notifications with\n * which a user can `complete` or `error`, aborting the repetition.\n * @return {Observable} The source Observable modified with repeat logic.\n * @method repeatWhen\n * @owner Observable\n */\nexport function repeatWhen(notifier) {\n    return function (source) { return source.lift(new RepeatWhenOperator(notifier)); };\n}\nvar RepeatWhenOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function RepeatWhenOperator(notifier) {\n        this.notifier = notifier;\n    }\n    RepeatWhenOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new RepeatWhenSubscriber(subscriber, this.notifier, source));\n    };\n    return RepeatWhenOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar RepeatWhenSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(RepeatWhenSubscriber, _super);\n    function RepeatWhenSubscriber(destination, notifier, source) {\n        var _this = _super.call(this, destination) || this;\n        _this.notifier = notifier;\n        _this.source = source;\n        _this.sourceIsBeingSubscribedTo = true;\n        return _this;\n    }\n    RepeatWhenSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.sourceIsBeingSubscribedTo = true;\n        this.source.subscribe(this);\n    };\n    RepeatWhenSubscriber.prototype.notifyComplete = function (innerSub) {\n        if (this.sourceIsBeingSubscribedTo === false) {\n            return _super.prototype.complete.call(this);\n        }\n    };\n    RepeatWhenSubscriber.prototype.complete = function () {\n        this.sourceIsBeingSubscribedTo = false;\n        if (!this.isStopped) {\n            if (!this.retries) {\n                this.subscribeToRetries();\n            }\n            else if (this.retriesSubscription.closed) {\n                return _super.prototype.complete.call(this);\n            }\n            this._unsubscribeAndRecycle();\n            this.notifications.next();\n        }\n    };\n    RepeatWhenSubscriber.prototype._unsubscribe = function () {\n        var _a = this, notifications = _a.notifications, retriesSubscription = _a.retriesSubscription;\n        if (notifications) {\n            notifications.unsubscribe();\n            this.notifications = null;\n        }\n        if (retriesSubscription) {\n            retriesSubscription.unsubscribe();\n            this.retriesSubscription = null;\n        }\n        this.retries = null;\n    };\n    RepeatWhenSubscriber.prototype._unsubscribeAndRecycle = function () {\n        var _a = this, notifications = _a.notifications, retries = _a.retries, retriesSubscription = _a.retriesSubscription;\n        this.notifications = null;\n        this.retries = null;\n        this.retriesSubscription = null;\n        _super.prototype._unsubscribeAndRecycle.call(this);\n        this.notifications = notifications;\n        this.retries = retries;\n        this.retriesSubscription = retriesSubscription;\n        return this;\n    };\n    RepeatWhenSubscriber.prototype.subscribeToRetries = function () {\n        this.notifications = new Subject();\n        var retries = tryCatch(this.notifier)(this.notifications);\n        if (retries === errorObject) {\n            return _super.prototype.complete.call(this);\n        }\n        this.retries = retries;\n        this.retriesSubscription = subscribeToResult(this, retries);\n    };\n    return RepeatWhenSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=repeatWhen.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\n/**\n * Returns an Observable that mirrors the source Observable with the exception of an `error`. If the source Observable\n * calls `error`, this method will resubscribe to the source Observable for a maximum of `count` resubscriptions (given\n * as a number parameter) rather than propagating the `error` call.\n *\n * <img src=\"./img/retry.png\" width=\"100%\">\n *\n * Any and all items emitted by the source Observable will be emitted by the resulting Observable, even those emitted\n * during failed subscriptions. For example, if an Observable fails at first but emits [1, 2] then succeeds the second\n * time and emits: [1, 2, 3, 4, 5] then the complete stream of emissions and notifications\n * would be: [1, 2, 1, 2, 3, 4, 5, `complete`].\n * @param {number} count - Number of retry attempts before failing.\n * @return {Observable} The source Observable modified with the retry logic.\n * @method retry\n * @owner Observable\n */\nexport function retry(count) {\n    if (count === void 0) {\n        count = -1;\n    }\n    return function (source) { return source.lift(new RetryOperator(count, source)); };\n}\nvar RetryOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function RetryOperator(count, source) {\n        this.count = count;\n        this.source = source;\n    }\n    RetryOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new RetrySubscriber(subscriber, this.count, this.source));\n    };\n    return RetryOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar RetrySubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(RetrySubscriber, _super);\n    function RetrySubscriber(destination, count, source) {\n        var _this = _super.call(this, destination) || this;\n        _this.count = count;\n        _this.source = source;\n        return _this;\n    }\n    RetrySubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var _a = this, source = _a.source, count = _a.count;\n            if (count === 0) {\n                return _super.prototype.error.call(this, err);\n            }\n            else if (count > -1) {\n                this.count = count - 1;\n            }\n            source.subscribe(this._unsubscribeAndRecycle());\n        }\n    };\n    return RetrySubscriber;\n}(Subscriber));\n//# sourceMappingURL=retry.js.map\n","/** PURE_IMPORTS_START tslib,.._Subject,.._util_tryCatch,.._util_errorObject,.._OuterSubscriber,.._util_subscribeToResult PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subject } from '../Subject';\nimport { tryCatch } from '../util/tryCatch';\nimport { errorObject } from '../util/errorObject';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\n/**\n * Returns an Observable that mirrors the source Observable with the exception of an `error`. If the source Observable\n * calls `error`, this method will emit the Throwable that caused the error to the Observable returned from `notifier`.\n * If that Observable calls `complete` or `error` then this method will call `complete` or `error` on the child\n * subscription. Otherwise this method will resubscribe to the source Observable.\n *\n * <img src=\"./img/retryWhen.png\" width=\"100%\">\n *\n * @param {function(errors: Observable): Observable} notifier - Receives an Observable of notifications with which a\n * user can `complete` or `error`, aborting the retry.\n * @return {Observable} The source Observable modified with retry logic.\n * @method retryWhen\n * @owner Observable\n */\nexport function retryWhen(notifier) {\n    return function (source) { return source.lift(new RetryWhenOperator(notifier, source)); };\n}\nvar RetryWhenOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function RetryWhenOperator(notifier, source) {\n        this.notifier = notifier;\n        this.source = source;\n    }\n    RetryWhenOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new RetryWhenSubscriber(subscriber, this.notifier, this.source));\n    };\n    return RetryWhenOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar RetryWhenSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(RetryWhenSubscriber, _super);\n    function RetryWhenSubscriber(destination, notifier, source) {\n        var _this = _super.call(this, destination) || this;\n        _this.notifier = notifier;\n        _this.source = source;\n        return _this;\n    }\n    RetryWhenSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var errors = this.errors;\n            var retries = this.retries;\n            var retriesSubscription = this.retriesSubscription;\n            if (!retries) {\n                errors = new Subject();\n                retries = tryCatch(this.notifier)(errors);\n                if (retries === errorObject) {\n                    return _super.prototype.error.call(this, errorObject.e);\n                }\n                retriesSubscription = subscribeToResult(this, retries);\n            }\n            else {\n                this.errors = null;\n                this.retriesSubscription = null;\n            }\n            this._unsubscribeAndRecycle();\n            this.errors = errors;\n            this.retries = retries;\n            this.retriesSubscription = retriesSubscription;\n            errors.next(err);\n        }\n    };\n    RetryWhenSubscriber.prototype._unsubscribe = function () {\n        var _a = this, errors = _a.errors, retriesSubscription = _a.retriesSubscription;\n        if (errors) {\n            errors.unsubscribe();\n            this.errors = null;\n        }\n        if (retriesSubscription) {\n            retriesSubscription.unsubscribe();\n            this.retriesSubscription = null;\n        }\n        this.retries = null;\n    };\n    RetryWhenSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        var _a = this, errors = _a.errors, retries = _a.retries, retriesSubscription = _a.retriesSubscription;\n        this.errors = null;\n        this.retries = null;\n        this.retriesSubscription = null;\n        this._unsubscribeAndRecycle();\n        this.errors = errors;\n        this.retries = retries;\n        this.retriesSubscription = retriesSubscription;\n        this.source.subscribe(this);\n    };\n    return RetryWhenSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=retryWhen.js.map\n","/** PURE_IMPORTS_START tslib,.._OuterSubscriber,.._util_subscribeToResult PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\n/**\n * Emits the most recently emitted value from the source Observable whenever\n * another Observable, the `notifier`, emits.\n *\n * <span class=\"informal\">It's like {@link sampleTime}, but samples whenever\n * the `notifier` Observable emits something.</span>\n *\n * <img src=\"./img/sample.png\" width=\"100%\">\n *\n * Whenever the `notifier` Observable emits a value or completes, `sample`\n * looks at the source Observable and emits whichever value it has most recently\n * emitted since the previous sampling, unless the source has not emitted\n * anything since the previous sampling. The `notifier` is subscribed to as soon\n * as the output Observable is subscribed.\n *\n * @example <caption>On every click, sample the most recent \"seconds\" timer</caption>\n * var seconds = Rx.Observable.interval(1000);\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = seconds.sample(clicks);\n * result.subscribe(x => console.log(x));\n *\n * @see {@link audit}\n * @see {@link debounce}\n * @see {@link sampleTime}\n * @see {@link throttle}\n *\n * @param {Observable<any>} notifier The Observable to use for sampling the\n * source Observable.\n * @return {Observable<T>} An Observable that emits the results of sampling the\n * values emitted by the source Observable whenever the notifier Observable\n * emits value or completes.\n * @method sample\n * @owner Observable\n */\nexport function sample(notifier) {\n    return function (source) { return source.lift(new SampleOperator(notifier)); };\n}\nvar SampleOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function SampleOperator(notifier) {\n        this.notifier = notifier;\n    }\n    SampleOperator.prototype.call = function (subscriber, source) {\n        var sampleSubscriber = new SampleSubscriber(subscriber);\n        var subscription = source.subscribe(sampleSubscriber);\n        subscription.add(subscribeToResult(sampleSubscriber, this.notifier));\n        return subscription;\n    };\n    return SampleOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SampleSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SampleSubscriber, _super);\n    function SampleSubscriber() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.hasValue = false;\n        return _this;\n    }\n    SampleSubscriber.prototype._next = function (value) {\n        this.value = value;\n        this.hasValue = true;\n    };\n    SampleSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.emitValue();\n    };\n    SampleSubscriber.prototype.notifyComplete = function () {\n        this.emitValue();\n    };\n    SampleSubscriber.prototype.emitValue = function () {\n        if (this.hasValue) {\n            this.hasValue = false;\n            this.destination.next(this.value);\n        }\n    };\n    return SampleSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=sample.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscriber,.._scheduler_async PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { async } from '../scheduler/async';\n/**\n * Emits the most recently emitted value from the source Observable within\n * periodic time intervals.\n *\n * <span class=\"informal\">Samples the source Observable at periodic time\n * intervals, emitting what it samples.</span>\n *\n * <img src=\"./img/sampleTime.png\" width=\"100%\">\n *\n * `sampleTime` periodically looks at the source Observable and emits whichever\n * value it has most recently emitted since the previous sampling, unless the\n * source has not emitted anything since the previous sampling. The sampling\n * happens periodically in time every `period` milliseconds (or the time unit\n * defined by the optional `scheduler` argument). The sampling starts as soon as\n * the output Observable is subscribed.\n *\n * @example <caption>Every second, emit the most recent click at most once</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.sampleTime(1000);\n * result.subscribe(x => console.log(x));\n *\n * @see {@link auditTime}\n * @see {@link debounceTime}\n * @see {@link delay}\n * @see {@link sample}\n * @see {@link throttleTime}\n *\n * @param {number} period The sampling period expressed in milliseconds or the\n * time unit determined internally by the optional `scheduler`.\n * @param {Scheduler} [scheduler=async] The {@link IScheduler} to use for\n * managing the timers that handle the sampling.\n * @return {Observable<T>} An Observable that emits the results of sampling the\n * values emitted by the source Observable at the specified time interval.\n * @method sampleTime\n * @owner Observable\n */\nexport function sampleTime(period, scheduler) {\n    if (scheduler === void 0) {\n        scheduler = async;\n    }\n    return function (source) { return source.lift(new SampleTimeOperator(period, scheduler)); };\n}\nvar SampleTimeOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function SampleTimeOperator(period, scheduler) {\n        this.period = period;\n        this.scheduler = scheduler;\n    }\n    SampleTimeOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new SampleTimeSubscriber(subscriber, this.period, this.scheduler));\n    };\n    return SampleTimeOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SampleTimeSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SampleTimeSubscriber, _super);\n    function SampleTimeSubscriber(destination, period, scheduler) {\n        var _this = _super.call(this, destination) || this;\n        _this.period = period;\n        _this.scheduler = scheduler;\n        _this.hasValue = false;\n        _this.add(scheduler.schedule(dispatchNotification, period, { subscriber: _this, period: period }));\n        return _this;\n    }\n    SampleTimeSubscriber.prototype._next = function (value) {\n        this.lastValue = value;\n        this.hasValue = true;\n    };\n    SampleTimeSubscriber.prototype.notifyNext = function () {\n        if (this.hasValue) {\n            this.hasValue = false;\n            this.destination.next(this.lastValue);\n        }\n    };\n    return SampleTimeSubscriber;\n}(Subscriber));\nfunction dispatchNotification(state) {\n    var subscriber = state.subscriber, period = state.period;\n    subscriber.notifyNext();\n    this.schedule(state, period);\n}\n//# sourceMappingURL=sampleTime.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscriber,.._util_tryCatch,.._util_errorObject PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { tryCatch } from '../util/tryCatch';\nimport { errorObject } from '../util/errorObject';\n/**\n * Compares all values of two observables in sequence using an optional comparor function\n * and returns an observable of a single boolean value representing whether or not the two sequences\n * are equal.\n *\n * <span class=\"informal\">Checks to see of all values emitted by both observables are equal, in order.</span>\n *\n * <img src=\"./img/sequenceEqual.png\" width=\"100%\">\n *\n * `sequenceEqual` subscribes to two observables and buffers incoming values from each observable. Whenever either\n * observable emits a value, the value is buffered and the buffers are shifted and compared from the bottom\n * up; If any value pair doesn't match, the returned observable will emit `false` and complete. If one of the\n * observables completes, the operator will wait for the other observable to complete; If the other\n * observable emits before completing, the returned observable will emit `false` and complete. If one observable never\n * completes or emits after the other complets, the returned observable will never complete.\n *\n * @example <caption>figure out if the Konami code matches</caption>\n * var code = Rx.Observable.from([\n *  \"ArrowUp\",\n *  \"ArrowUp\",\n *  \"ArrowDown\",\n *  \"ArrowDown\",\n *  \"ArrowLeft\",\n *  \"ArrowRight\",\n *  \"ArrowLeft\",\n *  \"ArrowRight\",\n *  \"KeyB\",\n *  \"KeyA\",\n *  \"Enter\" // no start key, clearly.\n * ]);\n *\n * var keys = Rx.Observable.fromEvent(document, 'keyup')\n *  .map(e => e.code);\n * var matches = keys.bufferCount(11, 1)\n *  .mergeMap(\n *    last11 =>\n *      Rx.Observable.from(last11)\n *        .sequenceEqual(code)\n *   );\n * matches.subscribe(matched => console.log('Successful cheat at Contra? ', matched));\n *\n * @see {@link combineLatest}\n * @see {@link zip}\n * @see {@link withLatestFrom}\n *\n * @param {Observable} compareTo The observable sequence to compare the source sequence to.\n * @param {function} [comparor] An optional function to compare each value pair\n * @return {Observable} An Observable of a single boolean value representing whether or not\n * the values emitted by both observables were equal in sequence.\n * @method sequenceEqual\n * @owner Observable\n */\nexport function sequenceEqual(compareTo, comparor) {\n    return function (source) { return source.lift(new SequenceEqualOperator(compareTo, comparor)); };\n}\nvar SequenceEqualOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function SequenceEqualOperator(compareTo, comparor) {\n        this.compareTo = compareTo;\n        this.comparor = comparor;\n    }\n    SequenceEqualOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new SequenceEqualSubscriber(subscriber, this.compareTo, this.comparor));\n    };\n    return SequenceEqualOperator;\n}());\nexport { SequenceEqualOperator };\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SequenceEqualSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SequenceEqualSubscriber, _super);\n    function SequenceEqualSubscriber(destination, compareTo, comparor) {\n        var _this = _super.call(this, destination) || this;\n        _this.compareTo = compareTo;\n        _this.comparor = comparor;\n        _this._a = [];\n        _this._b = [];\n        _this._oneComplete = false;\n        _this.add(compareTo.subscribe(new SequenceEqualCompareToSubscriber(destination, _this)));\n        return _this;\n    }\n    SequenceEqualSubscriber.prototype._next = function (value) {\n        if (this._oneComplete && this._b.length === 0) {\n            this.emit(false);\n        }\n        else {\n            this._a.push(value);\n            this.checkValues();\n        }\n    };\n    SequenceEqualSubscriber.prototype._complete = function () {\n        if (this._oneComplete) {\n            this.emit(this._a.length === 0 && this._b.length === 0);\n        }\n        else {\n            this._oneComplete = true;\n        }\n    };\n    SequenceEqualSubscriber.prototype.checkValues = function () {\n        var _c = this, _a = _c._a, _b = _c._b, comparor = _c.comparor;\n        while (_a.length > 0 && _b.length > 0) {\n            var a = _a.shift();\n            var b = _b.shift();\n            var areEqual = false;\n            if (comparor) {\n                areEqual = tryCatch(comparor)(a, b);\n                if (areEqual === errorObject) {\n                    this.destination.error(errorObject.e);\n                }\n            }\n            else {\n                areEqual = a === b;\n            }\n            if (!areEqual) {\n                this.emit(false);\n            }\n        }\n    };\n    SequenceEqualSubscriber.prototype.emit = function (value) {\n        var destination = this.destination;\n        destination.next(value);\n        destination.complete();\n    };\n    SequenceEqualSubscriber.prototype.nextB = function (value) {\n        if (this._oneComplete && this._a.length === 0) {\n            this.emit(false);\n        }\n        else {\n            this._b.push(value);\n            this.checkValues();\n        }\n    };\n    return SequenceEqualSubscriber;\n}(Subscriber));\nexport { SequenceEqualSubscriber };\nvar SequenceEqualCompareToSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SequenceEqualCompareToSubscriber, _super);\n    function SequenceEqualCompareToSubscriber(destination, parent) {\n        var _this = _super.call(this, destination) || this;\n        _this.parent = parent;\n        return _this;\n    }\n    SequenceEqualCompareToSubscriber.prototype._next = function (value) {\n        this.parent.nextB(value);\n    };\n    SequenceEqualCompareToSubscriber.prototype._error = function (err) {\n        this.parent.error(err);\n    };\n    SequenceEqualCompareToSubscriber.prototype._complete = function () {\n        this.parent._complete();\n    };\n    return SequenceEqualCompareToSubscriber;\n}(Subscriber));\n//# sourceMappingURL=sequenceEqual.js.map\n","/** PURE_IMPORTS_START ._multicast,._refCount,.._Subject PURE_IMPORTS_END */\nimport { multicast } from './multicast';\nimport { refCount } from './refCount';\nimport { Subject } from '../Subject';\nfunction shareSubjectFactory() {\n    return new Subject();\n}\n/**\n * Returns a new Observable that multicasts (shares) the original Observable. As long as there is at least one\n * Subscriber this Observable will be subscribed and emitting data. When all subscribers have unsubscribed it will\n * unsubscribe from the source Observable. Because the Observable is multicasting it makes the stream `hot`.\n * This is an alias for .multicast(() => new Subject()).refCount().\n *\n * <img src=\"./img/share.png\" width=\"100%\">\n *\n * @return {Observable<T>} An Observable that upon connection causes the source Observable to emit items to its Observers.\n * @method share\n * @owner Observable\n */\nexport function share() {\n    return function (source) { return refCount()(multicast(shareSubjectFactory)(source)); };\n}\n//# sourceMappingURL=share.js.map\n","/** PURE_IMPORTS_START .._ReplaySubject PURE_IMPORTS_END */\nimport { ReplaySubject } from '../ReplaySubject';\n/**\n * @method shareReplay\n * @owner Observable\n */\nexport function shareReplay(bufferSize, windowTime, scheduler) {\n    return function (source) { return source.lift(shareReplayOperator(bufferSize, windowTime, scheduler)); };\n}\nfunction shareReplayOperator(bufferSize, windowTime, scheduler) {\n    var subject;\n    var refCount = 0;\n    var subscription;\n    var hasError = false;\n    var isComplete = false;\n    return function shareReplayOperation(source) {\n        refCount++;\n        if (!subject || hasError) {\n            hasError = false;\n            subject = new ReplaySubject(bufferSize, windowTime, scheduler);\n            subscription = source.subscribe({\n                next: function (value) { subject.next(value); },\n                error: function (err) {\n                    hasError = true;\n                    subject.error(err);\n                },\n                complete: function () {\n                    isComplete = true;\n                    subject.complete();\n                },\n            });\n        }\n        var innerSub = subject.subscribe(this);\n        return function () {\n            refCount--;\n            innerSub.unsubscribe();\n            if (subscription && refCount === 0 && isComplete) {\n                subscription.unsubscribe();\n            }\n        };\n    };\n}\n//# sourceMappingURL=shareReplay.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscriber,.._util_EmptyError PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { EmptyError } from '../util/EmptyError';\n/**\n * Returns an Observable that emits the single item emitted by the source Observable that matches a specified\n * predicate, if that Observable emits one such item. If the source Observable emits more than one such item or no\n * such items, notify of an IllegalArgumentException or NoSuchElementException respectively.\n *\n * <img src=\"./img/single.png\" width=\"100%\">\n *\n * @throws {EmptyError} Delivers an EmptyError to the Observer's `error`\n * callback if the Observable completes before any `next` notification was sent.\n * @param {Function} predicate - A predicate function to evaluate items emitted by the source Observable.\n * @return {Observable<T>} An Observable that emits the single item emitted by the source Observable that matches\n * the predicate.\n .\n * @method single\n * @owner Observable\n */\nexport function single(predicate) {\n    return function (source) { return source.lift(new SingleOperator(predicate, source)); };\n}\nvar SingleOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function SingleOperator(predicate, source) {\n        this.predicate = predicate;\n        this.source = source;\n    }\n    SingleOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new SingleSubscriber(subscriber, this.predicate, this.source));\n    };\n    return SingleOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SingleSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SingleSubscriber, _super);\n    function SingleSubscriber(destination, predicate, source) {\n        var _this = _super.call(this, destination) || this;\n        _this.predicate = predicate;\n        _this.source = source;\n        _this.seenValue = false;\n        _this.index = 0;\n        return _this;\n    }\n    SingleSubscriber.prototype.applySingleValue = function (value) {\n        if (this.seenValue) {\n            this.destination.error('Sequence contains more than one element');\n        }\n        else {\n            this.seenValue = true;\n            this.singleValue = value;\n        }\n    };\n    SingleSubscriber.prototype._next = function (value) {\n        var index = this.index++;\n        if (this.predicate) {\n            this.tryNext(value, index);\n        }\n        else {\n            this.applySingleValue(value);\n        }\n    };\n    SingleSubscriber.prototype.tryNext = function (value, index) {\n        try {\n            if (this.predicate(value, index, this.source)) {\n                this.applySingleValue(value);\n            }\n        }\n        catch (err) {\n            this.destination.error(err);\n        }\n    };\n    SingleSubscriber.prototype._complete = function () {\n        var destination = this.destination;\n        if (this.index > 0) {\n            destination.next(this.seenValue ? this.singleValue : undefined);\n            destination.complete();\n        }\n        else {\n            destination.error(new EmptyError);\n        }\n    };\n    return SingleSubscriber;\n}(Subscriber));\n//# sourceMappingURL=single.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\n/**\n * Returns an Observable that skips the first `count` items emitted by the source Observable.\n *\n * <img src=\"./img/skip.png\" width=\"100%\">\n *\n * @param {Number} count - The number of times, items emitted by source Observable should be skipped.\n * @return {Observable} An Observable that skips values emitted by the source Observable.\n *\n * @method skip\n * @owner Observable\n */\nexport function skip(count) {\n    return function (source) { return source.lift(new SkipOperator(count)); };\n}\nvar SkipOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function SkipOperator(total) {\n        this.total = total;\n    }\n    SkipOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new SkipSubscriber(subscriber, this.total));\n    };\n    return SkipOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SkipSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SkipSubscriber, _super);\n    function SkipSubscriber(destination, total) {\n        var _this = _super.call(this, destination) || this;\n        _this.total = total;\n        _this.count = 0;\n        return _this;\n    }\n    SkipSubscriber.prototype._next = function (x) {\n        if (++this.count > this.total) {\n            this.destination.next(x);\n        }\n    };\n    return SkipSubscriber;\n}(Subscriber));\n//# sourceMappingURL=skip.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscriber,.._util_ArgumentOutOfRangeError PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { ArgumentOutOfRangeError } from '../util/ArgumentOutOfRangeError';\n/**\n * Skip the last `count` values emitted by the source Observable.\n *\n * <img src=\"./img/skipLast.png\" width=\"100%\">\n *\n * `skipLast` returns an Observable that accumulates a queue with a length\n * enough to store the first `count` values. As more values are received,\n * values are taken from the front of the queue and produced on the result\n * sequence. This causes values to be delayed.\n *\n * @example <caption>Skip the last 2 values of an Observable with many values</caption>\n * var many = Rx.Observable.range(1, 5);\n * var skipLastTwo = many.skipLast(2);\n * skipLastTwo.subscribe(x => console.log(x));\n *\n * // Results in:\n * // 1 2 3\n *\n * @see {@link skip}\n * @see {@link skipUntil}\n * @see {@link skipWhile}\n * @see {@link take}\n *\n * @throws {ArgumentOutOfRangeError} When using `skipLast(i)`, it throws\n * ArgumentOutOrRangeError if `i < 0`.\n *\n * @param {number} count Number of elements to skip from the end of the source Observable.\n * @returns {Observable<T>} An Observable that skips the last count values\n * emitted by the source Observable.\n * @method skipLast\n * @owner Observable\n */\nexport function skipLast(count) {\n    return function (source) { return source.lift(new SkipLastOperator(count)); };\n}\nvar SkipLastOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function SkipLastOperator(_skipCount) {\n        this._skipCount = _skipCount;\n        if (this._skipCount < 0) {\n            throw new ArgumentOutOfRangeError;\n        }\n    }\n    SkipLastOperator.prototype.call = function (subscriber, source) {\n        if (this._skipCount === 0) {\n            // If we don't want to skip any values then just subscribe\n            // to Subscriber without any further logic.\n            return source.subscribe(new Subscriber(subscriber));\n        }\n        else {\n            return source.subscribe(new SkipLastSubscriber(subscriber, this._skipCount));\n        }\n    };\n    return SkipLastOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SkipLastSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SkipLastSubscriber, _super);\n    function SkipLastSubscriber(destination, _skipCount) {\n        var _this = _super.call(this, destination) || this;\n        _this._skipCount = _skipCount;\n        _this._count = 0;\n        _this._ring = new Array(_skipCount);\n        return _this;\n    }\n    SkipLastSubscriber.prototype._next = function (value) {\n        var skipCount = this._skipCount;\n        var count = this._count++;\n        if (count < skipCount) {\n            this._ring[count] = value;\n        }\n        else {\n            var currentIndex = count % skipCount;\n            var ring = this._ring;\n            var oldValue = ring[currentIndex];\n            ring[currentIndex] = value;\n            this.destination.next(oldValue);\n        }\n    };\n    return SkipLastSubscriber;\n}(Subscriber));\n//# sourceMappingURL=skipLast.js.map\n","/** PURE_IMPORTS_START tslib,.._OuterSubscriber,.._util_subscribeToResult PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\n/**\n * Returns an Observable that skips items emitted by the source Observable until a second Observable emits an item.\n *\n * <img src=\"./img/skipUntil.png\" width=\"100%\">\n *\n * @param {Observable} notifier - The second Observable that has to emit an item before the source Observable's elements begin to\n * be mirrored by the resulting Observable.\n * @return {Observable<T>} An Observable that skips items from the source Observable until the second Observable emits\n * an item, then emits the remaining items.\n * @method skipUntil\n * @owner Observable\n */\nexport function skipUntil(notifier) {\n    return function (source) { return source.lift(new SkipUntilOperator(notifier)); };\n}\nvar SkipUntilOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function SkipUntilOperator(notifier) {\n        this.notifier = notifier;\n    }\n    SkipUntilOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new SkipUntilSubscriber(subscriber, this.notifier));\n    };\n    return SkipUntilOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SkipUntilSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SkipUntilSubscriber, _super);\n    function SkipUntilSubscriber(destination, notifier) {\n        var _this = _super.call(this, destination) || this;\n        _this.hasValue = false;\n        _this.isInnerStopped = false;\n        _this.add(subscribeToResult(_this, notifier));\n        return _this;\n    }\n    SkipUntilSubscriber.prototype._next = function (value) {\n        if (this.hasValue) {\n            _super.prototype._next.call(this, value);\n        }\n    };\n    SkipUntilSubscriber.prototype._complete = function () {\n        if (this.isInnerStopped) {\n            _super.prototype._complete.call(this);\n        }\n        else {\n            this.unsubscribe();\n        }\n    };\n    SkipUntilSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.hasValue = true;\n    };\n    SkipUntilSubscriber.prototype.notifyComplete = function () {\n        this.isInnerStopped = true;\n        if (this.isStopped) {\n            _super.prototype._complete.call(this);\n        }\n    };\n    return SkipUntilSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=skipUntil.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\n/**\n * Returns an Observable that skips all items emitted by the source Observable as long as a specified condition holds\n * true, but emits all further source items as soon as the condition becomes false.\n *\n * <img src=\"./img/skipWhile.png\" width=\"100%\">\n *\n * @param {Function} predicate - A function to test each item emitted from the source Observable.\n * @return {Observable<T>} An Observable that begins emitting items emitted by the source Observable when the\n * specified predicate becomes false.\n * @method skipWhile\n * @owner Observable\n */\nexport function skipWhile(predicate) {\n    return function (source) { return source.lift(new SkipWhileOperator(predicate)); };\n}\nvar SkipWhileOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function SkipWhileOperator(predicate) {\n        this.predicate = predicate;\n    }\n    SkipWhileOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new SkipWhileSubscriber(subscriber, this.predicate));\n    };\n    return SkipWhileOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SkipWhileSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SkipWhileSubscriber, _super);\n    function SkipWhileSubscriber(destination, predicate) {\n        var _this = _super.call(this, destination) || this;\n        _this.predicate = predicate;\n        _this.skipping = true;\n        _this.index = 0;\n        return _this;\n    }\n    SkipWhileSubscriber.prototype._next = function (value) {\n        var destination = this.destination;\n        if (this.skipping) {\n            this.tryCallPredicate(value);\n        }\n        if (!this.skipping) {\n            destination.next(value);\n        }\n    };\n    SkipWhileSubscriber.prototype.tryCallPredicate = function (value) {\n        try {\n            var result = this.predicate(value, this.index++);\n            this.skipping = Boolean(result);\n        }\n        catch (err) {\n            this.destination.error(err);\n        }\n    };\n    return SkipWhileSubscriber;\n}(Subscriber));\n//# sourceMappingURL=skipWhile.js.map\n","/** PURE_IMPORTS_START .._symbol_observable PURE_IMPORTS_END */\nimport { observable as Symbol_observable } from '../symbol/observable';\n/** Identifies an input as being Observable (but not necessary an Rx Observable) */\nexport function isObservable(input) {\n    return input && typeof input[Symbol_observable] === 'function';\n}\n//# sourceMappingURL=isObservable.js.map\n","/** PURE_IMPORTS_START .._symbol_iterator PURE_IMPORTS_END */\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\n/** Identifies an input as being an Iterable */\nexport function isIterable(input) {\n    return input && typeof input[Symbol_iterator] === 'function';\n}\n//# sourceMappingURL=isIterable.js.map\n","/** PURE_IMPORTS_START .._Observable,.._Subscription,.._util_subscribeToPromise PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nimport { subscribeToPromise } from '../util/subscribeToPromise';\nexport function fromPromise(input, scheduler) {\n    if (!scheduler) {\n        return new Observable(subscribeToPromise(input));\n    }\n    else {\n        return new Observable(function (subscriber) {\n            var sub = new Subscription();\n            sub.add(scheduler.schedule(function () {\n                return input.then(function (value) {\n                    sub.add(scheduler.schedule(function () {\n                        subscriber.next(value);\n                        sub.add(scheduler.schedule(function () { return subscriber.complete(); }));\n                    }));\n                }, function (err) {\n                    sub.add(scheduler.schedule(function () { return subscriber.error(err); }));\n                });\n            }));\n            return sub;\n        });\n    }\n}\n//# sourceMappingURL=fromPromise.js.map\n","/** PURE_IMPORTS_START .._Observable,.._Subscription,.._symbol_iterator,.._util_subscribeToIterable PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { subscribeToIterable } from '../util/subscribeToIterable';\nexport function fromIterable(input, scheduler) {\n    if (!input) {\n        throw new Error('Iterable cannot be null');\n    }\n    if (!scheduler) {\n        return new Observable(subscribeToIterable(input));\n    }\n    else {\n        return new Observable(function (subscriber) {\n            var sub = new Subscription();\n            var iterator;\n            sub.add(function () {\n                // Finalize generators\n                if (iterator && typeof iterator.return === 'function') {\n                    iterator.return();\n                }\n            });\n            sub.add(scheduler.schedule(function () {\n                iterator = input[Symbol_iterator]();\n                sub.add(scheduler.schedule(function () {\n                    if (subscriber.closed) {\n                        return;\n                    }\n                    var value;\n                    var done;\n                    try {\n                        var result = iterator.next();\n                        value = result.value;\n                        done = result.done;\n                    }\n                    catch (err) {\n                        subscriber.error(err);\n                        return;\n                    }\n                    if (done) {\n                        subscriber.complete();\n                    }\n                    else {\n                        subscriber.next(value);\n                        this.schedule();\n                    }\n                }));\n            }));\n            return sub;\n        });\n    }\n}\n//# sourceMappingURL=fromIterable.js.map\n","/** PURE_IMPORTS_START .._Observable,.._Subscription,.._symbol_observable,.._util_subscribeToObservable PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nimport { observable as Symbol_observable } from '../symbol/observable';\nimport { subscribeToObservable } from '../util/subscribeToObservable';\nexport function fromObservable(input, scheduler) {\n    if (!scheduler) {\n        return new Observable(subscribeToObservable(input));\n    }\n    else {\n        return new Observable(function (subscriber) {\n            var sub = new Subscription();\n            sub.add(scheduler.schedule(function () {\n                var observable = input[Symbol_observable]();\n                sub.add(observable.subscribe({\n                    next: function (value) { sub.add(scheduler.schedule(function () { return subscriber.next(value); })); },\n                    error: function (err) { sub.add(scheduler.schedule(function () { return subscriber.error(err); })); },\n                    complete: function () { sub.add(scheduler.schedule(function () { return subscriber.complete(); })); },\n                }));\n            }));\n            return sub;\n        });\n    }\n}\n//# sourceMappingURL=fromObservable.js.map\n","/** PURE_IMPORTS_START .._Observable,.._util_isPromise,.._util_isArrayLike,.._util_isObservable,.._util_isIterable,._fromArray,._fromPromise,._fromIterable,._fromObservable,.._util_subscribeTo PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { isPromise } from '../util/isPromise';\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isObservable } from '../util/isObservable';\nimport { isIterable } from '../util/isIterable';\nimport { fromArray } from './fromArray';\nimport { fromPromise } from './fromPromise';\nimport { fromIterable } from './fromIterable';\nimport { fromObservable } from './fromObservable';\nimport { subscribeTo } from '../util/subscribeTo';\nexport function from(input, scheduler) {\n    if (!scheduler) {\n        if (input instanceof Observable) {\n            return input;\n        }\n        return new Observable(subscribeTo(input));\n    }\n    if (input != null) {\n        if (isObservable(input)) {\n            return fromObservable(input, scheduler);\n        }\n        else if (isPromise(input)) {\n            return fromPromise(input, scheduler);\n        }\n        else if (isArrayLike(input)) {\n            return fromArray(input, scheduler);\n        }\n        else if (isIterable(input) || typeof input === 'string') {\n            return fromIterable(input, scheduler);\n        }\n    }\n    throw new TypeError((input !== null && typeof input || input) + ' is not observable');\n}\n//# sourceMappingURL=from.js.map\n","/** PURE_IMPORTS_START .._util_isScheduler,._of,._from,.._.._internal_operators_concatAll PURE_IMPORTS_END */\nimport { isScheduler } from '../util/isScheduler';\nimport { of } from './of';\nimport { from } from './from';\nimport { concatAll } from '../../internal/operators/concatAll';\n/* tslint:enable:max-line-length */\n/**\n * Creates an output Observable which sequentially emits all values from given\n * Observable and then moves on to the next.\n *\n * <span class=\"informal\">Concatenates multiple Observables together by\n * sequentially emitting their values, one Observable after the other.</span>\n *\n * <img src=\"./img/concat.png\" width=\"100%\">\n *\n * `concat` joins multiple Observables together, by subscribing to them one at a time and\n * merging their results into the output Observable. You can pass either an array of\n * Observables, or put them directly as arguments. Passing an empty array will result\n * in Observable that completes immediately.\n *\n * `concat` will subscribe to first input Observable and emit all its values, without\n * changing or affecting them in any way. When that Observable completes, it will\n * subscribe to then next Observable passed and, again, emit its values. This will be\n * repeated, until the operator runs out of Observables. When last input Observable completes,\n * `concat` will complete as well. At any given moment only one Observable passed to operator\n * emits values. If you would like to emit values from passed Observables concurrently, check out\n * {@link merge} instead, especially with optional `concurrent` parameter. As a matter of fact,\n * `concat` is an equivalent of `merge` operator with `concurrent` parameter set to `1`.\n *\n * Note that if some input Observable never completes, `concat` will also never complete\n * and Observables following the one that did not complete will never be subscribed. On the other\n * hand, if some Observable simply completes immediately after it is subscribed, it will be\n * invisible for `concat`, which will just move on to the next Observable.\n *\n * If any Observable in chain errors, instead of passing control to the next Observable,\n * `concat` will error immediately as well. Observables that would be subscribed after\n * the one that emitted error, never will.\n *\n * If you pass to `concat` the same Observable many times, its stream of values\n * will be \"replayed\" on every subscription, which means you can repeat given Observable\n * as many times as you like. If passing the same Observable to `concat` 1000 times becomes tedious,\n * you can always use {@link repeat}.\n *\n * @example <caption>Concatenate a timer counting from 0 to 3 with a synchronous sequence from 1 to 10</caption>\n * var timer = Rx.Observable.interval(1000).take(4);\n * var sequence = Rx.Observable.range(1, 10);\n * var result = Rx.Observable.concat(timer, sequence);\n * result.subscribe(x => console.log(x));\n *\n * // results in:\n * // 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3 -immediate-> 1 ... 10\n *\n *\n * @example <caption>Concatenate an array of 3 Observables</caption>\n * var timer1 = Rx.Observable.interval(1000).take(10);\n * var timer2 = Rx.Observable.interval(2000).take(6);\n * var timer3 = Rx.Observable.interval(500).take(10);\n * var result = Rx.Observable.concat([timer1, timer2, timer3]); // note that array is passed\n * result.subscribe(x => console.log(x));\n *\n * // results in the following:\n * // (Prints to console sequentially)\n * // -1000ms-> 0 -1000ms-> 1 -1000ms-> ... 9\n * // -2000ms-> 0 -2000ms-> 1 -2000ms-> ... 5\n * // -500ms-> 0 -500ms-> 1 -500ms-> ... 9\n *\n *\n * @example <caption>Concatenate the same Observable to repeat it</caption>\n * const timer = Rx.Observable.interval(1000).take(2);\n *\n * Rx.Observable.concat(timer, timer) // concating the same Observable!\n * .subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('...and it is done!')\n * );\n *\n * // Logs:\n * // 0 after 1s\n * // 1 after 2s\n * // 0 after 3s\n * // 1 after 4s\n * // \"...and it is done!\" also after 4s\n *\n * @see {@link concatAll}\n * @see {@link concatMap}\n * @see {@link concatMapTo}\n *\n * @param {ObservableInput} input1 An input Observable to concatenate with others.\n * @param {ObservableInput} input2 An input Observable to concatenate with others.\n * More than one input Observables may be given as argument.\n * @param {Scheduler} [scheduler=null] An optional IScheduler to schedule each\n * Observable subscription on.\n * @return {Observable} All values of each passed Observable merged into a\n * single Observable, in order, in serial fashion.\n * @static true\n * @name concat\n * @owner Observable\n */\nexport function concat() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i] = arguments[_i];\n    }\n    if (observables.length === 1 || (observables.length === 2 && isScheduler(observables[1]))) {\n        return from(observables[0]);\n    }\n    return concatAll()(of.apply(void 0, observables));\n}\n//# sourceMappingURL=concat.js.map\n","/** PURE_IMPORTS_START .._observable_fromArray,.._observable_scalar,.._observable_empty,.._observable_concat,.._util_isScheduler PURE_IMPORTS_END */\nimport { fromArray } from '../observable/fromArray';\nimport { scalar } from '../observable/scalar';\nimport { empty } from '../observable/empty';\nimport { concat as concatStatic } from '../observable/concat';\nimport { isScheduler } from '../util/isScheduler';\n/* tslint:enable:max-line-length */\n/**\n * Returns an Observable that emits the items you specify as arguments before it begins to emit\n * items emitted by the source Observable.\n *\n * <img src=\"./img/startWith.png\" width=\"100%\">\n *\n * @param {...T} values - Items you want the modified Observable to emit first.\n * @param {Scheduler} [scheduler] - A {@link IScheduler} to use for scheduling\n * the emissions of the `next` notifications.\n * @return {Observable} An Observable that emits the items in the specified Iterable and then emits the items\n * emitted by the source Observable.\n * @method startWith\n * @owner Observable\n */\nexport function startWith() {\n    var array = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        array[_i] = arguments[_i];\n    }\n    return function (source) {\n        var scheduler = array[array.length - 1];\n        if (isScheduler(scheduler)) {\n            array.pop();\n        }\n        else {\n            scheduler = null;\n        }\n        var len = array.length;\n        if (len === 1 && !scheduler) {\n            return concatStatic(scalar(array[0]), source);\n        }\n        else if (len > 0) {\n            return concatStatic(fromArray(array, scheduler), source);\n        }\n        else {\n            return concatStatic(empty(scheduler), source);\n        }\n    };\n}\n//# sourceMappingURL=startWith.js.map\n","/** PURE_IMPORTS_START tslib,.._OuterSubscriber,.._util_subscribeToResult PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\n/**\n * Projects each source value to an Observable which is merged in the output\n * Observable, emitting values only from the most recently projected Observable.\n *\n * <span class=\"informal\">Maps each value to an Observable, then flattens all of\n * these inner Observables using {@link switch}.</span>\n *\n * <img src=\"./img/switchMap.png\" width=\"100%\">\n *\n * Returns an Observable that emits items based on applying a function that you\n * supply to each item emitted by the source Observable, where that function\n * returns an (so-called \"inner\") Observable. Each time it observes one of these\n * inner Observables, the output Observable begins emitting the items emitted by\n * that inner Observable. When a new inner Observable is emitted, `switchMap`\n * stops emitting items from the earlier-emitted inner Observable and begins\n * emitting items from the new one. It continues to behave like this for\n * subsequent inner Observables.\n *\n * @example <caption>Rerun an interval Observable on every click event</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.switchMap((ev) => Rx.Observable.interval(1000));\n * result.subscribe(x => console.log(x));\n *\n * @see {@link concatMap}\n * @see {@link exhaustMap}\n * @see {@link mergeMap}\n * @see {@link switch}\n * @see {@link switchMapTo}\n *\n * @param {function(value: T, ?index: number): ObservableInput} project A function\n * that, when applied to an item emitted by the source Observable, returns an\n * Observable.\n * @return {Observable} An Observable that emits the result of applying the\n * projection function (and the optional `resultSelector`) to each item emitted\n * by the source Observable and taking only the values from the most recently\n * projected inner Observable.\n * @method switchMap\n * @owner Observable\n */\nexport function switchMap(project) {\n    return function switchMapOperatorFunction(source) {\n        return source.lift(new SwitchMapOperator(project));\n    };\n}\nvar SwitchMapOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function SwitchMapOperator(project) {\n        this.project = project;\n    }\n    SwitchMapOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new SwitchMapSubscriber(subscriber, this.project));\n    };\n    return SwitchMapOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SwitchMapSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SwitchMapSubscriber, _super);\n    function SwitchMapSubscriber(destination, project) {\n        var _this = _super.call(this, destination) || this;\n        _this.project = project;\n        _this.index = 0;\n        return _this;\n    }\n    SwitchMapSubscriber.prototype._next = function (value) {\n        var result;\n        var index = this.index++;\n        try {\n            result = this.project(value, index);\n        }\n        catch (error) {\n            this.destination.error(error);\n            return;\n        }\n        this._innerSub(result, value, index);\n    };\n    SwitchMapSubscriber.prototype._innerSub = function (result, value, index) {\n        var innerSubscription = this.innerSubscription;\n        if (innerSubscription) {\n            innerSubscription.unsubscribe();\n        }\n        this.add(this.innerSubscription = subscribeToResult(this, result, value, index));\n    };\n    SwitchMapSubscriber.prototype._complete = function () {\n        var innerSubscription = this.innerSubscription;\n        if (!innerSubscription || innerSubscription.closed) {\n            _super.prototype._complete.call(this);\n        }\n    };\n    SwitchMapSubscriber.prototype._unsubscribe = function () {\n        this.innerSubscription = null;\n    };\n    SwitchMapSubscriber.prototype.notifyComplete = function (innerSub) {\n        this.remove(innerSub);\n        this.innerSubscription = null;\n        if (this.isStopped) {\n            _super.prototype._complete.call(this);\n        }\n    };\n    SwitchMapSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.destination.next(innerValue);\n    };\n    return SwitchMapSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=switchMap.js.map\n","/** PURE_IMPORTS_START ._switchMap,.._util_identity PURE_IMPORTS_END */\nimport { switchMap } from './switchMap';\nimport { identity } from '../util/identity';\nexport function switchAll() {\n    return switchMap(identity);\n}\n//# sourceMappingURL=switchAll.js.map\n","/** PURE_IMPORTS_START tslib,.._OuterSubscriber,.._util_subscribeToResult PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\n/**\n * Projects each source value to the same Observable which is flattened multiple\n * times with {@link switch} in the output Observable.\n *\n * <span class=\"informal\">It's like {@link switchMap}, but maps each value\n * always to the same inner Observable.</span>\n *\n * <img src=\"./img/switchMapTo.png\" width=\"100%\">\n *\n * Maps each source value to the given Observable `innerObservable` regardless\n * of the source value, and then flattens those resulting Observables into one\n * single Observable, which is the output Observable. The output Observables\n * emits values only from the most recently emitted instance of\n * `innerObservable`.\n *\n * @example <caption>Rerun an interval Observable on every click event</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.switchMapTo(Rx.Observable.interval(1000));\n * result.subscribe(x => console.log(x));\n *\n * @see {@link concatMapTo}\n * @see {@link switch}\n * @see {@link switchMap}\n * @see {@link mergeMapTo}\n *\n * @param {ObservableInput} innerObservable An Observable to replace each value from\n * the source Observable.\n * @return {Observable} An Observable that emits items from the given\n * `innerObservable` (and optionally transformed through `resultSelector`) every\n * time a value is emitted on the source Observable, and taking only the values\n * from the most recently projected inner Observable.\n * @method switchMapTo\n * @owner Observable\n */\nexport function switchMapTo(innerObservable) {\n    return function (source) { return source.lift(new SwitchMapToOperator(innerObservable)); };\n}\nvar SwitchMapToOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function SwitchMapToOperator(observable) {\n        this.observable = observable;\n    }\n    SwitchMapToOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new SwitchMapToSubscriber(subscriber, this.observable));\n    };\n    return SwitchMapToOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SwitchMapToSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SwitchMapToSubscriber, _super);\n    function SwitchMapToSubscriber(destination, inner) {\n        var _this = _super.call(this, destination) || this;\n        _this.inner = inner;\n        _this.index = 0;\n        return _this;\n    }\n    SwitchMapToSubscriber.prototype._next = function (value) {\n        var innerSubscription = this.innerSubscription;\n        if (innerSubscription) {\n            innerSubscription.unsubscribe();\n        }\n        this.add(this.innerSubscription = subscribeToResult(this, this.inner, value, this.index++));\n    };\n    SwitchMapToSubscriber.prototype._complete = function () {\n        var innerSubscription = this.innerSubscription;\n        if (!innerSubscription || innerSubscription.closed) {\n            _super.prototype._complete.call(this);\n        }\n    };\n    SwitchMapToSubscriber.prototype._unsubscribe = function () {\n        this.innerSubscription = null;\n    };\n    SwitchMapToSubscriber.prototype.notifyComplete = function (innerSub) {\n        this.remove(innerSub);\n        this.innerSubscription = null;\n        if (this.isStopped) {\n            _super.prototype._complete.call(this);\n        }\n    };\n    SwitchMapToSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.destination.next(innerValue);\n    };\n    return SwitchMapToSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=switchMapTo.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscriber,.._util_ArgumentOutOfRangeError,.._observable_empty PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { ArgumentOutOfRangeError } from '../util/ArgumentOutOfRangeError';\nimport { empty } from '../observable/empty';\n/**\n * Emits only the first `count` values emitted by the source Observable.\n *\n * <span class=\"informal\">Takes the first `count` values from the source, then\n * completes.</span>\n *\n * <img src=\"./img/take.png\" width=\"100%\">\n *\n * `take` returns an Observable that emits only the first `count` values emitted\n * by the source Observable. If the source emits fewer than `count` values then\n * all of its values are emitted. After that, it completes, regardless if the\n * source completes.\n *\n * @example <caption>Take the first 5 seconds of an infinite 1-second interval Observable</caption>\n * var interval = Rx.Observable.interval(1000);\n * var five = interval.take(5);\n * five.subscribe(x => console.log(x));\n *\n * @see {@link takeLast}\n * @see {@link takeUntil}\n * @see {@link takeWhile}\n * @see {@link skip}\n *\n * @throws {ArgumentOutOfRangeError} When using `take(i)`, it delivers an\n * ArgumentOutOrRangeError to the Observer's `error` callback if `i < 0`.\n *\n * @param {number} count The maximum number of `next` values to emit.\n * @return {Observable<T>} An Observable that emits only the first `count`\n * values emitted by the source Observable, or all of the values from the source\n * if the source emits fewer than `count` values.\n * @method take\n * @owner Observable\n */\nexport function take(count) {\n    return function (source) {\n        if (count === 0) {\n            return empty();\n        }\n        else {\n            return source.lift(new TakeOperator(count));\n        }\n    };\n}\nvar TakeOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function TakeOperator(total) {\n        this.total = total;\n        if (this.total < 0) {\n            throw new ArgumentOutOfRangeError;\n        }\n    }\n    TakeOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new TakeSubscriber(subscriber, this.total));\n    };\n    return TakeOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar TakeSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(TakeSubscriber, _super);\n    function TakeSubscriber(destination, total) {\n        var _this = _super.call(this, destination) || this;\n        _this.total = total;\n        _this.count = 0;\n        return _this;\n    }\n    TakeSubscriber.prototype._next = function (value) {\n        var total = this.total;\n        var count = ++this.count;\n        if (count <= total) {\n            this.destination.next(value);\n            if (count === total) {\n                this.destination.complete();\n                this.unsubscribe();\n            }\n        }\n    };\n    return TakeSubscriber;\n}(Subscriber));\n//# sourceMappingURL=take.js.map\n","/** PURE_IMPORTS_START tslib,.._OuterSubscriber,.._util_subscribeToResult PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\n/**\n * Emits the values emitted by the source Observable until a `notifier`\n * Observable emits a value.\n *\n * <span class=\"informal\">Lets values pass until a second Observable,\n * `notifier`, emits a value. Then, it completes.</span>\n *\n * <img src=\"./img/takeUntil.png\" width=\"100%\">\n *\n * `takeUntil` subscribes and begins mirroring the source Observable. It also\n * monitors a second Observable, `notifier` that you provide. If the `notifier`\n * emits a value, the output Observable stops mirroring the source Observable\n * and completes. If the `notifier` doesn't emit any value and completes\n * then `takeUntil` will pass all values.\n *\n * @example <caption>Tick every second until the first click happens</caption>\n * var interval = Rx.Observable.interval(1000);\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = interval.takeUntil(clicks);\n * result.subscribe(x => console.log(x));\n *\n * @see {@link take}\n * @see {@link takeLast}\n * @see {@link takeWhile}\n * @see {@link skip}\n *\n * @param {Observable} notifier The Observable whose first emitted value will\n * cause the output Observable of `takeUntil` to stop emitting values from the\n * source Observable.\n * @return {Observable<T>} An Observable that emits the values from the source\n * Observable until such time as `notifier` emits its first value.\n * @method takeUntil\n * @owner Observable\n */\nexport function takeUntil(notifier) {\n    return function (source) { return source.lift(new TakeUntilOperator(notifier)); };\n}\nvar TakeUntilOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function TakeUntilOperator(notifier) {\n        this.notifier = notifier;\n    }\n    TakeUntilOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new TakeUntilSubscriber(subscriber, this.notifier));\n    };\n    return TakeUntilOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar TakeUntilSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(TakeUntilSubscriber, _super);\n    function TakeUntilSubscriber(destination, notifier) {\n        var _this = _super.call(this, destination) || this;\n        _this.notifier = notifier;\n        _this.add(subscribeToResult(_this, notifier));\n        return _this;\n    }\n    TakeUntilSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.complete();\n    };\n    TakeUntilSubscriber.prototype.notifyComplete = function () {\n        // noop\n    };\n    return TakeUntilSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=takeUntil.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\n/**\n * Emits values emitted by the source Observable so long as each value satisfies\n * the given `predicate`, and then completes as soon as this `predicate` is not\n * satisfied.\n *\n * <span class=\"informal\">Takes values from the source only while they pass the\n * condition given. When the first value does not satisfy, it completes.</span>\n *\n * <img src=\"./img/takeWhile.png\" width=\"100%\">\n *\n * `takeWhile` subscribes and begins mirroring the source Observable. Each value\n * emitted on the source is given to the `predicate` function which returns a\n * boolean, representing a condition to be satisfied by the source values. The\n * output Observable emits the source values until such time as the `predicate`\n * returns false, at which point `takeWhile` stops mirroring the source\n * Observable and completes the output Observable.\n *\n * @example <caption>Emit click events only while the clientX property is greater than 200</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.takeWhile(ev => ev.clientX > 200);\n * result.subscribe(x => console.log(x));\n *\n * @see {@link take}\n * @see {@link takeLast}\n * @see {@link takeUntil}\n * @see {@link skip}\n *\n * @param {function(value: T, index: number): boolean} predicate A function that\n * evaluates a value emitted by the source Observable and returns a boolean.\n * Also takes the (zero-based) index as the second argument.\n * @return {Observable<T>} An Observable that emits the values from the source\n * Observable so long as each value satisfies the condition defined by the\n * `predicate`, then completes.\n * @method takeWhile\n * @owner Observable\n */\nexport function takeWhile(predicate) {\n    return function (source) { return source.lift(new TakeWhileOperator(predicate)); };\n}\nvar TakeWhileOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function TakeWhileOperator(predicate) {\n        this.predicate = predicate;\n    }\n    TakeWhileOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new TakeWhileSubscriber(subscriber, this.predicate));\n    };\n    return TakeWhileOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar TakeWhileSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(TakeWhileSubscriber, _super);\n    function TakeWhileSubscriber(destination, predicate) {\n        var _this = _super.call(this, destination) || this;\n        _this.predicate = predicate;\n        _this.index = 0;\n        return _this;\n    }\n    TakeWhileSubscriber.prototype._next = function (value) {\n        var destination = this.destination;\n        var result;\n        try {\n            result = this.predicate(value, this.index++);\n        }\n        catch (err) {\n            destination.error(err);\n            return;\n        }\n        this.nextOrComplete(value, result);\n    };\n    TakeWhileSubscriber.prototype.nextOrComplete = function (value, predicateResult) {\n        var destination = this.destination;\n        if (Boolean(predicateResult)) {\n            destination.next(value);\n        }\n        else {\n            destination.complete();\n        }\n    };\n    return TakeWhileSubscriber;\n}(Subscriber));\n//# sourceMappingURL=takeWhile.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscriber,.._util_noop,.._util_isFunction PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { noop } from '../util/noop';\nimport { isFunction } from '../util/isFunction';\n/* tslint:enable:max-line-length */\n/**\n * Perform a side effect for every emission on the source Observable, but return\n * an Observable that is identical to the source.\n *\n * <span class=\"informal\">Intercepts each emission on the source and runs a\n * function, but returns an output which is identical to the source as long as errors don't occur.</span>\n *\n * <img src=\"./img/do.png\" width=\"100%\">\n *\n * Returns a mirrored Observable of the source Observable, but modified so that\n * the provided Observer is called to perform a side effect for every value,\n * error, and completion emitted by the source. Any errors that are thrown in\n * the aforementioned Observer or handlers are safely sent down the error path\n * of the output Observable.\n *\n * This operator is useful for debugging your Observables for the correct values\n * or performing other side effects.\n *\n * Note: this is different to a `subscribe` on the Observable. If the Observable\n * returned by `do` is not subscribed, the side effects specified by the\n * Observer will never happen. `do` therefore simply spies on existing\n * execution, it does not trigger an execution to happen like `subscribe` does.\n *\n * @example <caption>Map every click to the clientX position of that click, while also logging the click event</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var positions = clicks\n *   .do(ev => console.log(ev))\n *   .map(ev => ev.clientX);\n * positions.subscribe(x => console.log(x));\n *\n * @see {@link map}\n * @see {@link subscribe}\n *\n * @param {Observer|function} [nextOrObserver] A normal Observer object or a\n * callback for `next`.\n * @param {function} [error] Callback for errors in the source.\n * @param {function} [complete] Callback for the completion of the source.\n * @return {Observable} An Observable identical to the source, but runs the\n * specified Observer or callback(s) for each item.\n * @name tap\n */\nexport function tap(nextOrObserver, error, complete) {\n    return function tapOperatorFunction(source) {\n        return source.lift(new DoOperator(nextOrObserver, error, complete));\n    };\n}\nvar DoOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function DoOperator(nextOrObserver, error, complete) {\n        this.nextOrObserver = nextOrObserver;\n        this.error = error;\n        this.complete = complete;\n    }\n    DoOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new TapSubscriber(subscriber, this.nextOrObserver, this.error, this.complete));\n    };\n    return DoOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar TapSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(TapSubscriber, _super);\n    function TapSubscriber(destination, observerOrNext, error, complete) {\n        var _this = _super.call(this, destination) || this;\n        _this._tapNext = noop;\n        _this._tapError = noop;\n        _this._tapComplete = noop;\n        _this._tapError = error || noop;\n        _this._tapComplete = complete || noop;\n        if (isFunction(observerOrNext)) {\n            _this._context = _this;\n            _this._tapNext = observerOrNext;\n        }\n        else if (observerOrNext) {\n            _this._context = observerOrNext;\n            _this._tapNext = observerOrNext.next || noop;\n            _this._tapError = observerOrNext.error || noop;\n            _this._tapComplete = observerOrNext.complete || noop;\n        }\n        return _this;\n    }\n    TapSubscriber.prototype._next = function (value) {\n        try {\n            this._tapNext.call(this._context, value);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(value);\n    };\n    TapSubscriber.prototype._error = function (err) {\n        try {\n            this._tapError.call(this._context, err);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.error(err);\n    };\n    TapSubscriber.prototype._complete = function () {\n        try {\n            this._tapComplete.call(this._context);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        return this.destination.complete();\n    };\n    return TapSubscriber;\n}(Subscriber));\n//# sourceMappingURL=tap.js.map\n","/** PURE_IMPORTS_START tslib,.._OuterSubscriber,.._util_subscribeToResult PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport var defaultThrottleConfig = {\n    leading: true,\n    trailing: false\n};\n/**\n * Emits a value from the source Observable, then ignores subsequent source\n * values for a duration determined by another Observable, then repeats this\n * process.\n *\n * <span class=\"informal\">It's like {@link throttleTime}, but the silencing\n * duration is determined by a second Observable.</span>\n *\n * <img src=\"./img/throttle.png\" width=\"100%\">\n *\n * `throttle` emits the source Observable values on the output Observable\n * when its internal timer is disabled, and ignores source values when the timer\n * is enabled. Initially, the timer is disabled. As soon as the first source\n * value arrives, it is forwarded to the output Observable, and then the timer\n * is enabled by calling the `durationSelector` function with the source value,\n * which returns the \"duration\" Observable. When the duration Observable emits a\n * value or completes, the timer is disabled, and this process repeats for the\n * next source value.\n *\n * @example <caption>Emit clicks at a rate of at most one click per second</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.throttle(ev => Rx.Observable.interval(1000));\n * result.subscribe(x => console.log(x));\n *\n * @see {@link audit}\n * @see {@link debounce}\n * @see {@link delayWhen}\n * @see {@link sample}\n * @see {@link throttleTime}\n *\n * @param {function(value: T): SubscribableOrPromise} durationSelector A function\n * that receives a value from the source Observable, for computing the silencing\n * duration for each source value, returned as an Observable or a Promise.\n * @param {Object} config a configuration object to define `leading` and `trailing` behavior. Defaults\n * to `{ leading: true, trailing: false }`.\n * @return {Observable<T>} An Observable that performs the throttle operation to\n * limit the rate of emissions from the source.\n * @method throttle\n * @owner Observable\n */\nexport function throttle(durationSelector, config) {\n    if (config === void 0) {\n        config = defaultThrottleConfig;\n    }\n    return function (source) { return source.lift(new ThrottleOperator(durationSelector, config.leading, config.trailing)); };\n}\nvar ThrottleOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function ThrottleOperator(durationSelector, leading, trailing) {\n        this.durationSelector = durationSelector;\n        this.leading = leading;\n        this.trailing = trailing;\n    }\n    ThrottleOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ThrottleSubscriber(subscriber, this.durationSelector, this.leading, this.trailing));\n    };\n    return ThrottleOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc\n * @ignore\n * @extends {Ignored}\n */\nvar ThrottleSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ThrottleSubscriber, _super);\n    function ThrottleSubscriber(destination, durationSelector, _leading, _trailing) {\n        var _this = _super.call(this, destination) || this;\n        _this.destination = destination;\n        _this.durationSelector = durationSelector;\n        _this._leading = _leading;\n        _this._trailing = _trailing;\n        _this._hasTrailingValue = false;\n        return _this;\n    }\n    ThrottleSubscriber.prototype._next = function (value) {\n        if (this.throttled) {\n            if (this._trailing) {\n                this._hasTrailingValue = true;\n                this._trailingValue = value;\n            }\n        }\n        else {\n            var duration = this.tryDurationSelector(value);\n            if (duration) {\n                this.add(this.throttled = subscribeToResult(this, duration));\n            }\n            if (this._leading) {\n                this.destination.next(value);\n                if (this._trailing) {\n                    this._hasTrailingValue = true;\n                    this._trailingValue = value;\n                }\n            }\n        }\n    };\n    ThrottleSubscriber.prototype.tryDurationSelector = function (value) {\n        try {\n            return this.durationSelector(value);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return null;\n        }\n    };\n    ThrottleSubscriber.prototype._unsubscribe = function () {\n        var _a = this, throttled = _a.throttled, _trailingValue = _a._trailingValue, _hasTrailingValue = _a._hasTrailingValue, _trailing = _a._trailing;\n        this._trailingValue = null;\n        this._hasTrailingValue = false;\n        if (throttled) {\n            this.remove(throttled);\n            this.throttled = null;\n            throttled.unsubscribe();\n        }\n    };\n    ThrottleSubscriber.prototype._sendTrailing = function () {\n        var _a = this, destination = _a.destination, throttled = _a.throttled, _trailing = _a._trailing, _trailingValue = _a._trailingValue, _hasTrailingValue = _a._hasTrailingValue;\n        if (throttled && _trailing && _hasTrailingValue) {\n            destination.next(_trailingValue);\n            this._trailingValue = null;\n            this._hasTrailingValue = false;\n        }\n    };\n    ThrottleSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this._sendTrailing();\n        this._unsubscribe();\n    };\n    ThrottleSubscriber.prototype.notifyComplete = function () {\n        this._sendTrailing();\n        this._unsubscribe();\n    };\n    return ThrottleSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=throttle.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscriber,.._scheduler_async,._throttle PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { async } from '../scheduler/async';\nimport { defaultThrottleConfig } from './throttle';\n/**\n * Emits a value from the source Observable, then ignores subsequent source\n * values for `duration` milliseconds, then repeats this process.\n *\n * <span class=\"informal\">Lets a value pass, then ignores source values for the\n * next `duration` milliseconds.</span>\n *\n * <img src=\"./img/throttleTime.png\" width=\"100%\">\n *\n * `throttleTime` emits the source Observable values on the output Observable\n * when its internal timer is disabled, and ignores source values when the timer\n * is enabled. Initially, the timer is disabled. As soon as the first source\n * value arrives, it is forwarded to the output Observable, and then the timer\n * is enabled. After `duration` milliseconds (or the time unit determined\n * internally by the optional `scheduler`) has passed, the timer is disabled,\n * and this process repeats for the next source value. Optionally takes a\n * {@link IScheduler} for managing timers.\n *\n * @example <caption>Emit clicks at a rate of at most one click per second</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.throttleTime(1000);\n * result.subscribe(x => console.log(x));\n *\n * @see {@link auditTime}\n * @see {@link debounceTime}\n * @see {@link delay}\n * @see {@link sampleTime}\n * @see {@link throttle}\n *\n * @param {number} duration Time to wait before emitting another value after\n * emitting the last value, measured in milliseconds or the time unit determined\n * internally by the optional `scheduler`.\n * @param {Scheduler} [scheduler=async] The {@link IScheduler} to use for\n * managing the timers that handle the throttling.\n * @return {Observable<T>} An Observable that performs the throttle operation to\n * limit the rate of emissions from the source.\n * @method throttleTime\n * @owner Observable\n */\nexport function throttleTime(duration, scheduler, config) {\n    if (scheduler === void 0) {\n        scheduler = async;\n    }\n    if (config === void 0) {\n        config = defaultThrottleConfig;\n    }\n    return function (source) { return source.lift(new ThrottleTimeOperator(duration, scheduler, config.leading, config.trailing)); };\n}\nvar ThrottleTimeOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function ThrottleTimeOperator(duration, scheduler, leading, trailing) {\n        this.duration = duration;\n        this.scheduler = scheduler;\n        this.leading = leading;\n        this.trailing = trailing;\n    }\n    ThrottleTimeOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ThrottleTimeSubscriber(subscriber, this.duration, this.scheduler, this.leading, this.trailing));\n    };\n    return ThrottleTimeOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar ThrottleTimeSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ThrottleTimeSubscriber, _super);\n    function ThrottleTimeSubscriber(destination, duration, scheduler, leading, trailing) {\n        var _this = _super.call(this, destination) || this;\n        _this.duration = duration;\n        _this.scheduler = scheduler;\n        _this.leading = leading;\n        _this.trailing = trailing;\n        _this._hasTrailingValue = false;\n        _this._trailingValue = null;\n        return _this;\n    }\n    ThrottleTimeSubscriber.prototype._next = function (value) {\n        if (this.throttled) {\n            if (this.trailing) {\n                this._trailingValue = value;\n                this._hasTrailingValue = true;\n            }\n        }\n        else {\n            this.add(this.throttled = this.scheduler.schedule(dispatchNext, this.duration, { subscriber: this }));\n            if (this.leading) {\n                this.destination.next(value);\n            }\n        }\n    };\n    ThrottleTimeSubscriber.prototype.clearThrottle = function () {\n        var throttled = this.throttled;\n        if (throttled) {\n            if (this.trailing && this._hasTrailingValue) {\n                this.destination.next(this._trailingValue);\n                this._trailingValue = null;\n                this._hasTrailingValue = false;\n            }\n            throttled.unsubscribe();\n            this.remove(throttled);\n            this.throttled = null;\n        }\n    };\n    return ThrottleTimeSubscriber;\n}(Subscriber));\nfunction dispatchNext(arg) {\n    var subscriber = arg.subscriber;\n    subscriber.clearThrottle();\n}\n//# sourceMappingURL=throttleTime.js.map\n","/** PURE_IMPORTS_START ._tap,.._util_EmptyError PURE_IMPORTS_END */\nimport { tap } from './tap';\nimport { EmptyError } from '../util/EmptyError';\n/**\n * If the source observable completes without emitting a value, it will emit\n * an error. The error will be created at that time by the optional\n * `errorFactory` argument, otherwise, the error will be {@link ErrorEmpty}.\n *\n * @example\n *\n * const click$ = fromEvent(button, 'click');\n *\n * clicks$.pipe(\n *   takeUntil(timer(1000)),\n *   throwIfEmpty(\n *     () => new Error('the button was not clicked within 1 second')\n *   ),\n * )\n * .subscribe({\n *   next() { console.log('The button was clicked'); },\n *   error(err) { console.error(err); },\n * });\n * @param {Function} [errorFactory] A factory function called to produce the\n * error to be thrown when the source observable completes without emitting a\n * value.\n */\nexport var throwIfEmpty = function (errorFactory) {\n    if (errorFactory === void 0) {\n        errorFactory = defaultErrorFactory;\n    }\n    return tap({\n        hasValue: false,\n        next: function () { this.hasValue = true; },\n        complete: function () {\n            if (!this.hasValue) {\n                throw errorFactory();\n            }\n        }\n    });\n};\nfunction defaultErrorFactory() {\n    return new EmptyError();\n}\n//# sourceMappingURL=throwIfEmpty.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscriber,.._scheduler_async PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { async } from '../scheduler/async';\nexport function timeInterval(scheduler) {\n    if (scheduler === void 0) {\n        scheduler = async;\n    }\n    return function (source) { return source.lift(new TimeIntervalOperator(scheduler)); };\n}\nvar TimeInterval = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function TimeInterval(value, interval) {\n        this.value = value;\n        this.interval = interval;\n    }\n    return TimeInterval;\n}());\nexport { TimeInterval };\nvar TimeIntervalOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function TimeIntervalOperator(scheduler) {\n        this.scheduler = scheduler;\n    }\n    TimeIntervalOperator.prototype.call = function (observer, source) {\n        return source.subscribe(new TimeIntervalSubscriber(observer, this.scheduler));\n    };\n    return TimeIntervalOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar TimeIntervalSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(TimeIntervalSubscriber, _super);\n    function TimeIntervalSubscriber(destination, scheduler) {\n        var _this = _super.call(this, destination) || this;\n        _this.scheduler = scheduler;\n        _this.lastTime = 0;\n        _this.lastTime = scheduler.now();\n        return _this;\n    }\n    TimeIntervalSubscriber.prototype._next = function (value) {\n        var now = this.scheduler.now();\n        var span = now - this.lastTime;\n        this.lastTime = now;\n        this.destination.next(new TimeInterval(value, span));\n    };\n    return TimeIntervalSubscriber;\n}(Subscriber));\n//# sourceMappingURL=timeInterval.js.map\n","/** PURE_IMPORTS_START tslib PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\n/**\n * An error thrown when duetime elapses.\n *\n * @see {@link timeout}\n *\n * @class TimeoutError\n */\nvar TimeoutError = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(TimeoutError, _super);\n    function TimeoutError() {\n        var _this = _super.call(this, 'Timeout has occurred') || this;\n        Object.setPrototypeOf(_this, TimeoutError.prototype);\n        return _this;\n    }\n    return TimeoutError;\n}(Error));\nexport { TimeoutError };\n//# sourceMappingURL=TimeoutError.js.map\n","/** PURE_IMPORTS_START tslib,.._scheduler_async,.._util_isDate,.._Subscriber,.._util_TimeoutError PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { async } from '../scheduler/async';\nimport { isDate } from '../util/isDate';\nimport { Subscriber } from '../Subscriber';\nimport { TimeoutError } from '../util/TimeoutError';\n/**\n *\n * Errors if Observable does not emit a value in given time span.\n *\n * <span class=\"informal\">Timeouts on Observable that doesn't emit values fast enough.</span>\n *\n * <img src=\"./img/timeout.png\" width=\"100%\">\n *\n * `timeout` operator accepts as an argument either a number or a Date.\n *\n * If number was provided, it returns an Observable that behaves like a source\n * Observable, unless there is a period of time where there is no value emitted.\n * So if you provide `100` as argument and first value comes after 50ms from\n * the moment of subscription, this value will be simply re-emitted by the resulting\n * Observable. If however after that 100ms passes without a second value being emitted,\n * stream will end with an error and source Observable will be unsubscribed.\n * These checks are performed throughout whole lifecycle of Observable - from the moment\n * it was subscribed to, until it completes or errors itself. Thus every value must be\n * emitted within specified period since previous value.\n *\n * If provided argument was Date, returned Observable behaves differently. It throws\n * if Observable did not complete before provided Date. This means that periods between\n * emission of particular values do not matter in this case. If Observable did not complete\n * before provided Date, source Observable will be unsubscribed. Other than that, resulting\n * stream behaves just as source Observable.\n *\n * `timeout` accepts also a Scheduler as a second parameter. It is used to schedule moment (or moments)\n * when returned Observable will check if source stream emitted value or completed.\n *\n * @example <caption>Check if ticks are emitted within certain timespan</caption>\n * const seconds = Rx.Observable.interval(1000);\n *\n * seconds.timeout(1100) // Let's use bigger timespan to be safe,\n *                       // since `interval` might fire a bit later then scheduled.\n * .subscribe(\n *     value => console.log(value), // Will emit numbers just as regular `interval` would.\n *     err => console.log(err) // Will never be called.\n * );\n *\n * seconds.timeout(900).subscribe(\n *     value => console.log(value), // Will never be called.\n *     err => console.log(err) // Will emit error before even first value is emitted,\n *                             // since it did not arrive within 900ms period.\n * );\n *\n * @example <caption>Use Date to check if Observable completed</caption>\n * const seconds = Rx.Observable.interval(1000);\n *\n * seconds.timeout(new Date(\"December 17, 2020 03:24:00\"))\n * .subscribe(\n *     value => console.log(value), // Will emit values as regular `interval` would\n *                                  // until December 17, 2020 at 03:24:00.\n *     err => console.log(err) // On December 17, 2020 at 03:24:00 it will emit an error,\n *                             // since Observable did not complete by then.\n * );\n *\n * @see {@link timeoutWith}\n *\n * @param {number|Date} due Number specifying period within which Observable must emit values\n *                          or Date specifying before when Observable should complete\n * @param {Scheduler} [scheduler] Scheduler controlling when timeout checks occur.\n * @return {Observable<T>} Observable that mirrors behaviour of source, unless timeout checks fail.\n * @method timeout\n * @owner Observable\n */\nexport function timeout(due, scheduler) {\n    if (scheduler === void 0) {\n        scheduler = async;\n    }\n    var absoluteTimeout = isDate(due);\n    var waitFor = absoluteTimeout ? (+due - scheduler.now()) : Math.abs(due);\n    return function (source) { return source.lift(new TimeoutOperator(waitFor, absoluteTimeout, scheduler, new TimeoutError())); };\n}\nvar TimeoutOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function TimeoutOperator(waitFor, absoluteTimeout, scheduler, errorInstance) {\n        this.waitFor = waitFor;\n        this.absoluteTimeout = absoluteTimeout;\n        this.scheduler = scheduler;\n        this.errorInstance = errorInstance;\n    }\n    TimeoutOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new TimeoutSubscriber(subscriber, this.absoluteTimeout, this.waitFor, this.scheduler, this.errorInstance));\n    };\n    return TimeoutOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar TimeoutSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(TimeoutSubscriber, _super);\n    function TimeoutSubscriber(destination, absoluteTimeout, waitFor, scheduler, errorInstance) {\n        var _this = _super.call(this, destination) || this;\n        _this.absoluteTimeout = absoluteTimeout;\n        _this.waitFor = waitFor;\n        _this.scheduler = scheduler;\n        _this.errorInstance = errorInstance;\n        _this.action = null;\n        _this.scheduleTimeout();\n        return _this;\n    }\n    TimeoutSubscriber.dispatchTimeout = function (subscriber) {\n        subscriber.error(subscriber.errorInstance);\n    };\n    TimeoutSubscriber.prototype.scheduleTimeout = function () {\n        var action = this.action;\n        if (action) {\n            // Recycle the action if we've already scheduled one. All the production\n            // Scheduler Actions mutate their state/delay time and return themeselves.\n            // VirtualActions are immutable, so they create and return a clone. In this\n            // case, we need to set the action reference to the most recent VirtualAction,\n            // to ensure that's the one we clone from next time.\n            this.action = action.schedule(this, this.waitFor);\n        }\n        else {\n            this.add(this.action = this.scheduler.schedule(TimeoutSubscriber.dispatchTimeout, this.waitFor, this));\n        }\n    };\n    TimeoutSubscriber.prototype._next = function (value) {\n        if (!this.absoluteTimeout) {\n            this.scheduleTimeout();\n        }\n        _super.prototype._next.call(this, value);\n    };\n    TimeoutSubscriber.prototype._unsubscribe = function () {\n        this.action = null;\n        this.scheduler = null;\n        this.errorInstance = null;\n    };\n    return TimeoutSubscriber;\n}(Subscriber));\n//# sourceMappingURL=timeout.js.map\n","/** PURE_IMPORTS_START tslib,.._scheduler_async,.._util_isDate,.._OuterSubscriber,.._util_subscribeToResult PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { async } from '../scheduler/async';\nimport { isDate } from '../util/isDate';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\n/* tslint:enable:max-line-length */\n/**\n *\n * Errors if Observable does not emit a value in given time span, in case of which\n * subscribes to the second Observable.\n *\n * <span class=\"informal\">It's a version of `timeout` operator that let's you specify fallback Observable.</span>\n *\n * <img src=\"./img/timeoutWith.png\" width=\"100%\">\n *\n * `timeoutWith` is a variation of `timeout` operator. It behaves exactly the same,\n * still accepting as a first argument either a number or a Date, which control - respectively -\n * when values of source Observable should be emitted or when it should complete.\n *\n * The only difference is that it accepts a second, required parameter. This parameter\n * should be an Observable which will be subscribed when source Observable fails any timeout check.\n * So whenever regular `timeout` would emit an error, `timeoutWith` will instead start re-emitting\n * values from second Observable. Note that this fallback Observable is not checked for timeouts\n * itself, so it can emit values and complete at arbitrary points in time. From the moment of a second\n * subscription, Observable returned from `timeoutWith` simply mirrors fallback stream. When that\n * stream completes, it completes as well.\n *\n * Scheduler, which in case of `timeout` is provided as as second argument, can be still provided\n * here - as a third, optional parameter. It still is used to schedule timeout checks and -\n * as a consequence - when second Observable will be subscribed, since subscription happens\n * immediately after failing check.\n *\n * @example <caption>Add fallback observable</caption>\n * const seconds = Rx.Observable.interval(1000);\n * const minutes = Rx.Observable.interval(60 * 1000);\n *\n * seconds.timeoutWith(900, minutes)\n *     .subscribe(\n *         value => console.log(value), // After 900ms, will start emitting `minutes`,\n *                                      // since first value of `seconds` will not arrive fast enough.\n *         err => console.log(err) // Would be called after 900ms in case of `timeout`,\n *                                 // but here will never be called.\n *     );\n *\n * @param {number|Date} due Number specifying period within which Observable must emit values\n *                          or Date specifying before when Observable should complete\n * @param {Observable<T>} withObservable Observable which will be subscribed if source fails timeout check.\n * @param {Scheduler} [scheduler] Scheduler controlling when timeout checks occur.\n * @return {Observable<T>} Observable that mirrors behaviour of source or, when timeout check fails, of an Observable\n *                          passed as a second parameter.\n * @method timeoutWith\n * @owner Observable\n */\nexport function timeoutWith(due, withObservable, scheduler) {\n    if (scheduler === void 0) {\n        scheduler = async;\n    }\n    return function (source) {\n        var absoluteTimeout = isDate(due);\n        var waitFor = absoluteTimeout ? (+due - scheduler.now()) : Math.abs(due);\n        return source.lift(new TimeoutWithOperator(waitFor, absoluteTimeout, withObservable, scheduler));\n    };\n}\nvar TimeoutWithOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function TimeoutWithOperator(waitFor, absoluteTimeout, withObservable, scheduler) {\n        this.waitFor = waitFor;\n        this.absoluteTimeout = absoluteTimeout;\n        this.withObservable = withObservable;\n        this.scheduler = scheduler;\n    }\n    TimeoutWithOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new TimeoutWithSubscriber(subscriber, this.absoluteTimeout, this.waitFor, this.withObservable, this.scheduler));\n    };\n    return TimeoutWithOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar TimeoutWithSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(TimeoutWithSubscriber, _super);\n    function TimeoutWithSubscriber(destination, absoluteTimeout, waitFor, withObservable, scheduler) {\n        var _this = _super.call(this, destination) || this;\n        _this.absoluteTimeout = absoluteTimeout;\n        _this.waitFor = waitFor;\n        _this.withObservable = withObservable;\n        _this.scheduler = scheduler;\n        _this.action = null;\n        _this.scheduleTimeout();\n        return _this;\n    }\n    TimeoutWithSubscriber.dispatchTimeout = function (subscriber) {\n        var withObservable = subscriber.withObservable;\n        subscriber._unsubscribeAndRecycle();\n        subscriber.add(subscribeToResult(subscriber, withObservable));\n    };\n    TimeoutWithSubscriber.prototype.scheduleTimeout = function () {\n        var action = this.action;\n        if (action) {\n            // Recycle the action if we've already scheduled one. All the production\n            // Scheduler Actions mutate their state/delay time and return themeselves.\n            // VirtualActions are immutable, so they create and return a clone. In this\n            // case, we need to set the action reference to the most recent VirtualAction,\n            // to ensure that's the one we clone from next time.\n            this.action = action.schedule(this, this.waitFor);\n        }\n        else {\n            this.add(this.action = this.scheduler.schedule(TimeoutWithSubscriber.dispatchTimeout, this.waitFor, this));\n        }\n    };\n    TimeoutWithSubscriber.prototype._next = function (value) {\n        if (!this.absoluteTimeout) {\n            this.scheduleTimeout();\n        }\n        _super.prototype._next.call(this, value);\n    };\n    TimeoutWithSubscriber.prototype._unsubscribe = function () {\n        this.action = null;\n        this.scheduler = null;\n        this.withObservable = null;\n    };\n    return TimeoutWithSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=timeoutWith.js.map\n","/** PURE_IMPORTS_START .._scheduler_async,._map PURE_IMPORTS_END */\nimport { async } from '../scheduler/async';\nimport { map } from './map';\n/**\n * @param scheduler\n * @return {Observable<Timestamp<any>>|WebSocketSubject<T>|Observable<T>}\n * @method timestamp\n * @owner Observable\n */\nexport function timestamp(scheduler) {\n    if (scheduler === void 0) {\n        scheduler = async;\n    }\n    return map(function (value) { return new Timestamp(value, scheduler.now()); });\n    // return (source: Observable<T>) => source.lift(new TimestampOperator(scheduler));\n}\nvar Timestamp = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function Timestamp(value, timestamp) {\n        this.value = value;\n        this.timestamp = timestamp;\n    }\n    return Timestamp;\n}());\nexport { Timestamp };\n//# sourceMappingURL=timestamp.js.map\n","/** PURE_IMPORTS_START ._reduce PURE_IMPORTS_END */\nimport { reduce } from './reduce';\nfunction toArrayReducer(arr, item, index) {\n    if (index === 0) {\n        return [item];\n    }\n    arr.push(item);\n    return arr;\n}\nexport function toArray() {\n    return reduce(toArrayReducer, []);\n}\n//# sourceMappingURL=toArray.js.map\n","/** PURE_IMPORTS_START tslib,.._Subject,.._OuterSubscriber,.._util_subscribeToResult PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subject } from '../Subject';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\n/**\n * Branch out the source Observable values as a nested Observable whenever\n * `windowBoundaries` emits.\n *\n * <span class=\"informal\">It's like {@link buffer}, but emits a nested Observable\n * instead of an array.</span>\n *\n * <img src=\"./img/window.png\" width=\"100%\">\n *\n * Returns an Observable that emits windows of items it collects from the source\n * Observable. The output Observable emits connected, non-overlapping\n * windows. It emits the current window and opens a new one whenever the\n * Observable `windowBoundaries` emits an item. Because each window is an\n * Observable, the output is a higher-order Observable.\n *\n * @example <caption>In every window of 1 second each, emit at most 2 click events</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var interval = Rx.Observable.interval(1000);\n * var result = clicks.window(interval)\n *   .map(win => win.take(2)) // each window has at most 2 emissions\n *   .mergeAll(); // flatten the Observable-of-Observables\n * result.subscribe(x => console.log(x));\n *\n * @see {@link windowCount}\n * @see {@link windowTime}\n * @see {@link windowToggle}\n * @see {@link windowWhen}\n * @see {@link buffer}\n *\n * @param {Observable<any>} windowBoundaries An Observable that completes the\n * previous window and starts a new window.\n * @return {Observable<Observable<T>>} An Observable of windows, which are\n * Observables emitting values of the source Observable.\n * @method window\n * @owner Observable\n */\nexport function window(windowBoundaries) {\n    return function windowOperatorFunction(source) {\n        return source.lift(new WindowOperator(windowBoundaries));\n    };\n}\nvar WindowOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function WindowOperator(windowBoundaries) {\n        this.windowBoundaries = windowBoundaries;\n    }\n    WindowOperator.prototype.call = function (subscriber, source) {\n        var windowSubscriber = new WindowSubscriber(subscriber);\n        var sourceSubscription = source.subscribe(windowSubscriber);\n        if (!sourceSubscription.closed) {\n            windowSubscriber.add(subscribeToResult(windowSubscriber, this.windowBoundaries));\n        }\n        return sourceSubscription;\n    };\n    return WindowOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar WindowSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(WindowSubscriber, _super);\n    function WindowSubscriber(destination) {\n        var _this = _super.call(this, destination) || this;\n        _this.window = new Subject();\n        destination.next(_this.window);\n        return _this;\n    }\n    WindowSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.openWindow();\n    };\n    WindowSubscriber.prototype.notifyError = function (error, innerSub) {\n        this._error(error);\n    };\n    WindowSubscriber.prototype.notifyComplete = function (innerSub) {\n        this._complete();\n    };\n    WindowSubscriber.prototype._next = function (value) {\n        this.window.next(value);\n    };\n    WindowSubscriber.prototype._error = function (err) {\n        this.window.error(err);\n        this.destination.error(err);\n    };\n    WindowSubscriber.prototype._complete = function () {\n        this.window.complete();\n        this.destination.complete();\n    };\n    WindowSubscriber.prototype._unsubscribe = function () {\n        this.window = null;\n    };\n    WindowSubscriber.prototype.openWindow = function () {\n        var prevWindow = this.window;\n        if (prevWindow) {\n            prevWindow.complete();\n        }\n        var destination = this.destination;\n        var newWindow = this.window = new Subject();\n        destination.next(newWindow);\n    };\n    return WindowSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=window.js.map\n","/** PURE_IMPORTS_START tslib,.._Subscriber,.._Subject PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { Subject } from '../Subject';\n/**\n * Branch out the source Observable values as a nested Observable with each\n * nested Observable emitting at most `windowSize` values.\n *\n * <span class=\"informal\">It's like {@link bufferCount}, but emits a nested\n * Observable instead of an array.</span>\n *\n * <img src=\"./img/windowCount.png\" width=\"100%\">\n *\n * Returns an Observable that emits windows of items it collects from the source\n * Observable. The output Observable emits windows every `startWindowEvery`\n * items, each containing no more than `windowSize` items. When the source\n * Observable completes or encounters an error, the output Observable emits\n * the current window and propagates the notification from the source\n * Observable. If `startWindowEvery` is not provided, then new windows are\n * started immediately at the start of the source and when each window completes\n * with size `windowSize`.\n *\n * @example <caption>Ignore every 3rd click event, starting from the first one</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.windowCount(3)\n *   .map(win => win.skip(1)) // skip first of every 3 clicks\n *   .mergeAll(); // flatten the Observable-of-Observables\n * result.subscribe(x => console.log(x));\n *\n * @example <caption>Ignore every 3rd click event, starting from the third one</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.windowCount(2, 3)\n *   .mergeAll(); // flatten the Observable-of-Observables\n * result.subscribe(x => console.log(x));\n *\n * @see {@link window}\n * @see {@link windowTime}\n * @see {@link windowToggle}\n * @see {@link windowWhen}\n * @see {@link bufferCount}\n *\n * @param {number} windowSize The maximum number of values emitted by each\n * window.\n * @param {number} [startWindowEvery] Interval at which to start a new window.\n * For example if `startWindowEvery` is `2`, then a new window will be started\n * on every other value from the source. A new window is started at the\n * beginning of the source by default.\n * @return {Observable<Observable<T>>} An Observable of windows, which in turn\n * are Observable of values.\n * @method windowCount\n * @owner Observable\n */\nexport function windowCount(windowSize, startWindowEvery) {\n    if (startWindowEvery === void 0) {\n        startWindowEvery = 0;\n    }\n    return function windowCountOperatorFunction(source) {\n        return source.lift(new WindowCountOperator(windowSize, startWindowEvery));\n    };\n}\nvar WindowCountOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function WindowCountOperator(windowSize, startWindowEvery) {\n        this.windowSize = windowSize;\n        this.startWindowEvery = startWindowEvery;\n    }\n    WindowCountOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new WindowCountSubscriber(subscriber, this.windowSize, this.startWindowEvery));\n    };\n    return WindowCountOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar WindowCountSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(WindowCountSubscriber, _super);\n    function WindowCountSubscriber(destination, windowSize, startWindowEvery) {\n        var _this = _super.call(this, destination) || this;\n        _this.destination = destination;\n        _this.windowSize = windowSize;\n        _this.startWindowEvery = startWindowEvery;\n        _this.windows = [new Subject()];\n        _this.count = 0;\n        destination.next(_this.windows[0]);\n        return _this;\n    }\n    WindowCountSubscriber.prototype._next = function (value) {\n        var startWindowEvery = (this.startWindowEvery > 0) ? this.startWindowEvery : this.windowSize;\n        var destination = this.destination;\n        var windowSize = this.windowSize;\n        var windows = this.windows;\n        var len = windows.length;\n        for (var i = 0; i < len && !this.closed; i++) {\n            windows[i].next(value);\n        }\n        var c = this.count - windowSize + 1;\n        if (c >= 0 && c % startWindowEvery === 0 && !this.closed) {\n            windows.shift().complete();\n        }\n        if (++this.count % startWindowEvery === 0 && !this.closed) {\n            var window_1 = new Subject();\n            windows.push(window_1);\n            destination.next(window_1);\n        }\n    };\n    WindowCountSubscriber.prototype._error = function (err) {\n        var windows = this.windows;\n        if (windows) {\n            while (windows.length > 0 && !this.closed) {\n                windows.shift().error(err);\n            }\n        }\n        this.destination.error(err);\n    };\n    WindowCountSubscriber.prototype._complete = function () {\n        var windows = this.windows;\n        if (windows) {\n            while (windows.length > 0 && !this.closed) {\n                windows.shift().complete();\n            }\n        }\n        this.destination.complete();\n    };\n    WindowCountSubscriber.prototype._unsubscribe = function () {\n        this.count = 0;\n        this.windows = null;\n    };\n    return WindowCountSubscriber;\n}(Subscriber));\n//# sourceMappingURL=windowCount.js.map\n","/** PURE_IMPORTS_START tslib,.._Subject,.._scheduler_async,.._Subscriber,.._util_isNumeric,.._util_isScheduler PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subject } from '../Subject';\nimport { async } from '../scheduler/async';\nimport { Subscriber } from '../Subscriber';\nimport { isNumeric } from '../util/isNumeric';\nimport { isScheduler } from '../util/isScheduler';\nexport function windowTime(windowTimeSpan) {\n    var scheduler = async;\n    var windowCreationInterval = null;\n    var maxWindowSize = Number.POSITIVE_INFINITY;\n    if (isScheduler(arguments[3])) {\n        scheduler = arguments[3];\n    }\n    if (isScheduler(arguments[2])) {\n        scheduler = arguments[2];\n    }\n    else if (isNumeric(arguments[2])) {\n        maxWindowSize = arguments[2];\n    }\n    if (isScheduler(arguments[1])) {\n        scheduler = arguments[1];\n    }\n    else if (isNumeric(arguments[1])) {\n        windowCreationInterval = arguments[1];\n    }\n    return function windowTimeOperatorFunction(source) {\n        return source.lift(new WindowTimeOperator(windowTimeSpan, windowCreationInterval, maxWindowSize, scheduler));\n    };\n}\nvar WindowTimeOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function WindowTimeOperator(windowTimeSpan, windowCreationInterval, maxWindowSize, scheduler) {\n        this.windowTimeSpan = windowTimeSpan;\n        this.windowCreationInterval = windowCreationInterval;\n        this.maxWindowSize = maxWindowSize;\n        this.scheduler = scheduler;\n    }\n    WindowTimeOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new WindowTimeSubscriber(subscriber, this.windowTimeSpan, this.windowCreationInterval, this.maxWindowSize, this.scheduler));\n    };\n    return WindowTimeOperator;\n}());\nvar CountedSubject = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(CountedSubject, _super);\n    function CountedSubject() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._numberOfNextedValues = 0;\n        return _this;\n    }\n    CountedSubject.prototype.next = function (value) {\n        this._numberOfNextedValues++;\n        _super.prototype.next.call(this, value);\n    };\n    Object.defineProperty(CountedSubject.prototype, \"numberOfNextedValues\", {\n        get: function () {\n            return this._numberOfNextedValues;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return CountedSubject;\n}(Subject));\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar WindowTimeSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(WindowTimeSubscriber, _super);\n    function WindowTimeSubscriber(destination, windowTimeSpan, windowCreationInterval, maxWindowSize, scheduler) {\n        var _this = _super.call(this, destination) || this;\n        _this.destination = destination;\n        _this.windowTimeSpan = windowTimeSpan;\n        _this.windowCreationInterval = windowCreationInterval;\n        _this.maxWindowSize = maxWindowSize;\n        _this.scheduler = scheduler;\n        _this.windows = [];\n        var window = _this.openWindow();\n        if (windowCreationInterval !== null && windowCreationInterval >= 0) {\n            var closeState = { subscriber: _this, window: window, context: null };\n            var creationState = { windowTimeSpan: windowTimeSpan, windowCreationInterval: windowCreationInterval, subscriber: _this, scheduler: scheduler };\n            _this.add(scheduler.schedule(dispatchWindowClose, windowTimeSpan, closeState));\n            _this.add(scheduler.schedule(dispatchWindowCreation, windowCreationInterval, creationState));\n        }\n        else {\n            var timeSpanOnlyState = { subscriber: _this, window: window, windowTimeSpan: windowTimeSpan };\n            _this.add(scheduler.schedule(dispatchWindowTimeSpanOnly, windowTimeSpan, timeSpanOnlyState));\n        }\n        return _this;\n    }\n    WindowTimeSubscriber.prototype._next = function (value) {\n        var windows = this.windows;\n        var len = windows.length;\n        for (var i = 0; i < len; i++) {\n            var window_1 = windows[i];\n            if (!window_1.closed) {\n                window_1.next(value);\n                if (window_1.numberOfNextedValues >= this.maxWindowSize) {\n                    this.closeWindow(window_1);\n                }\n            }\n        }\n    };\n    WindowTimeSubscriber.prototype._error = function (err) {\n        var windows = this.windows;\n        while (windows.length > 0) {\n            windows.shift().error(err);\n        }\n        this.destination.error(err);\n    };\n    WindowTimeSubscriber.prototype._complete = function () {\n        var windows = this.windows;\n        while (windows.length > 0) {\n            var window_2 = windows.shift();\n            if (!window_2.closed) {\n                window_2.complete();\n            }\n        }\n        this.destination.complete();\n    };\n    WindowTimeSubscriber.prototype.openWindow = function () {\n        var window = new CountedSubject();\n        this.windows.push(window);\n        var destination = this.destination;\n        destination.next(window);\n        return window;\n    };\n    WindowTimeSubscriber.prototype.closeWindow = function (window) {\n        window.complete();\n        var windows = this.windows;\n        windows.splice(windows.indexOf(window), 1);\n    };\n    return WindowTimeSubscriber;\n}(Subscriber));\nfunction dispatchWindowTimeSpanOnly(state) {\n    var subscriber = state.subscriber, windowTimeSpan = state.windowTimeSpan, window = state.window;\n    if (window) {\n        subscriber.closeWindow(window);\n    }\n    state.window = subscriber.openWindow();\n    this.schedule(state, windowTimeSpan);\n}\nfunction dispatchWindowCreation(state) {\n    var windowTimeSpan = state.windowTimeSpan, subscriber = state.subscriber, scheduler = state.scheduler, windowCreationInterval = state.windowCreationInterval;\n    var window = subscriber.openWindow();\n    var action = this;\n    var context = { action: action, subscription: null };\n    var timeSpanState = { subscriber: subscriber, window: window, context: context };\n    context.subscription = scheduler.schedule(dispatchWindowClose, windowTimeSpan, timeSpanState);\n    action.add(context.subscription);\n    action.schedule(state, windowCreationInterval);\n}\nfunction dispatchWindowClose(state) {\n    var subscriber = state.subscriber, window = state.window, context = state.context;\n    if (context && context.action && context.subscription) {\n        context.action.remove(context.subscription);\n    }\n    subscriber.closeWindow(window);\n}\n//# sourceMappingURL=windowTime.js.map\n","/** PURE_IMPORTS_START tslib,.._Subject,.._Subscription,.._util_tryCatch,.._util_errorObject,.._OuterSubscriber,.._util_subscribeToResult PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subject } from '../Subject';\nimport { Subscription } from '../Subscription';\nimport { tryCatch } from '../util/tryCatch';\nimport { errorObject } from '../util/errorObject';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\n/**\n * Branch out the source Observable values as a nested Observable starting from\n * an emission from `openings` and ending when the output of `closingSelector`\n * emits.\n *\n * <span class=\"informal\">It's like {@link bufferToggle}, but emits a nested\n * Observable instead of an array.</span>\n *\n * <img src=\"./img/windowToggle.png\" width=\"100%\">\n *\n * Returns an Observable that emits windows of items it collects from the source\n * Observable. The output Observable emits windows that contain those items\n * emitted by the source Observable between the time when the `openings`\n * Observable emits an item and when the Observable returned by\n * `closingSelector` emits an item.\n *\n * @example <caption>Every other second, emit the click events from the next 500ms</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var openings = Rx.Observable.interval(1000);\n * var result = clicks.windowToggle(openings, i =>\n *   i % 2 ? Rx.Observable.interval(500) : Rx.Observable.empty()\n * ).mergeAll();\n * result.subscribe(x => console.log(x));\n *\n * @see {@link window}\n * @see {@link windowCount}\n * @see {@link windowTime}\n * @see {@link windowWhen}\n * @see {@link bufferToggle}\n *\n * @param {Observable<O>} openings An observable of notifications to start new\n * windows.\n * @param {function(value: O): Observable} closingSelector A function that takes\n * the value emitted by the `openings` observable and returns an Observable,\n * which, when it emits (either `next` or `complete`), signals that the\n * associated window should complete.\n * @return {Observable<Observable<T>>} An observable of windows, which in turn\n * are Observables.\n * @method windowToggle\n * @owner Observable\n */\nexport function windowToggle(openings, closingSelector) {\n    return function (source) { return source.lift(new WindowToggleOperator(openings, closingSelector)); };\n}\nvar WindowToggleOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function WindowToggleOperator(openings, closingSelector) {\n        this.openings = openings;\n        this.closingSelector = closingSelector;\n    }\n    WindowToggleOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new WindowToggleSubscriber(subscriber, this.openings, this.closingSelector));\n    };\n    return WindowToggleOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar WindowToggleSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(WindowToggleSubscriber, _super);\n    function WindowToggleSubscriber(destination, openings, closingSelector) {\n        var _this = _super.call(this, destination) || this;\n        _this.openings = openings;\n        _this.closingSelector = closingSelector;\n        _this.contexts = [];\n        _this.add(_this.openSubscription = subscribeToResult(_this, openings, openings));\n        return _this;\n    }\n    WindowToggleSubscriber.prototype._next = function (value) {\n        var contexts = this.contexts;\n        if (contexts) {\n            var len = contexts.length;\n            for (var i = 0; i < len; i++) {\n                contexts[i].window.next(value);\n            }\n        }\n    };\n    WindowToggleSubscriber.prototype._error = function (err) {\n        var contexts = this.contexts;\n        this.contexts = null;\n        if (contexts) {\n            var len = contexts.length;\n            var index = -1;\n            while (++index < len) {\n                var context_1 = contexts[index];\n                context_1.window.error(err);\n                context_1.subscription.unsubscribe();\n            }\n        }\n        _super.prototype._error.call(this, err);\n    };\n    WindowToggleSubscriber.prototype._complete = function () {\n        var contexts = this.contexts;\n        this.contexts = null;\n        if (contexts) {\n            var len = contexts.length;\n            var index = -1;\n            while (++index < len) {\n                var context_2 = contexts[index];\n                context_2.window.complete();\n                context_2.subscription.unsubscribe();\n            }\n        }\n        _super.prototype._complete.call(this);\n    };\n    WindowToggleSubscriber.prototype._unsubscribe = function () {\n        var contexts = this.contexts;\n        this.contexts = null;\n        if (contexts) {\n            var len = contexts.length;\n            var index = -1;\n            while (++index < len) {\n                var context_3 = contexts[index];\n                context_3.window.unsubscribe();\n                context_3.subscription.unsubscribe();\n            }\n        }\n    };\n    WindowToggleSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        if (outerValue === this.openings) {\n            var closingSelector = this.closingSelector;\n            var closingNotifier = tryCatch(closingSelector)(innerValue);\n            if (closingNotifier === errorObject) {\n                return this.error(errorObject.e);\n            }\n            else {\n                var window_1 = new Subject();\n                var subscription = new Subscription();\n                var context_4 = { window: window_1, subscription: subscription };\n                this.contexts.push(context_4);\n                var innerSubscription = subscribeToResult(this, closingNotifier, context_4);\n                if (innerSubscription.closed) {\n                    this.closeWindow(this.contexts.length - 1);\n                }\n                else {\n                    innerSubscription.context = context_4;\n                    subscription.add(innerSubscription);\n                }\n                this.destination.next(window_1);\n            }\n        }\n        else {\n            this.closeWindow(this.contexts.indexOf(outerValue));\n        }\n    };\n    WindowToggleSubscriber.prototype.notifyError = function (err) {\n        this.error(err);\n    };\n    WindowToggleSubscriber.prototype.notifyComplete = function (inner) {\n        if (inner !== this.openSubscription) {\n            this.closeWindow(this.contexts.indexOf(inner.context));\n        }\n    };\n    WindowToggleSubscriber.prototype.closeWindow = function (index) {\n        if (index === -1) {\n            return;\n        }\n        var contexts = this.contexts;\n        var context = contexts[index];\n        var window = context.window, subscription = context.subscription;\n        contexts.splice(index, 1);\n        window.complete();\n        subscription.unsubscribe();\n    };\n    return WindowToggleSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=windowToggle.js.map\n","/** PURE_IMPORTS_START tslib,.._Subject,.._util_tryCatch,.._util_errorObject,.._OuterSubscriber,.._util_subscribeToResult PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subject } from '../Subject';\nimport { tryCatch } from '../util/tryCatch';\nimport { errorObject } from '../util/errorObject';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\n/**\n * Branch out the source Observable values as a nested Observable using a\n * factory function of closing Observables to determine when to start a new\n * window.\n *\n * <span class=\"informal\">It's like {@link bufferWhen}, but emits a nested\n * Observable instead of an array.</span>\n *\n * <img src=\"./img/windowWhen.png\" width=\"100%\">\n *\n * Returns an Observable that emits windows of items it collects from the source\n * Observable. The output Observable emits connected, non-overlapping windows.\n * It emits the current window and opens a new one whenever the Observable\n * produced by the specified `closingSelector` function emits an item. The first\n * window is opened immediately when subscribing to the output Observable.\n *\n * @example <caption>Emit only the first two clicks events in every window of [1-5] random seconds</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks\n *   .windowWhen(() => Rx.Observable.interval(1000 + Math.random() * 4000))\n *   .map(win => win.take(2)) // each window has at most 2 emissions\n *   .mergeAll(); // flatten the Observable-of-Observables\n * result.subscribe(x => console.log(x));\n *\n * @see {@link window}\n * @see {@link windowCount}\n * @see {@link windowTime}\n * @see {@link windowToggle}\n * @see {@link bufferWhen}\n *\n * @param {function(): Observable} closingSelector A function that takes no\n * arguments and returns an Observable that signals (on either `next` or\n * `complete`) when to close the previous window and start a new one.\n * @return {Observable<Observable<T>>} An observable of windows, which in turn\n * are Observables.\n * @method windowWhen\n * @owner Observable\n */\nexport function windowWhen(closingSelector) {\n    return function windowWhenOperatorFunction(source) {\n        return source.lift(new WindowOperator(closingSelector));\n    };\n}\nvar WindowOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function WindowOperator(closingSelector) {\n        this.closingSelector = closingSelector;\n    }\n    WindowOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new WindowSubscriber(subscriber, this.closingSelector));\n    };\n    return WindowOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar WindowSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(WindowSubscriber, _super);\n    function WindowSubscriber(destination, closingSelector) {\n        var _this = _super.call(this, destination) || this;\n        _this.destination = destination;\n        _this.closingSelector = closingSelector;\n        _this.openWindow();\n        return _this;\n    }\n    WindowSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.openWindow(innerSub);\n    };\n    WindowSubscriber.prototype.notifyError = function (error, innerSub) {\n        this._error(error);\n    };\n    WindowSubscriber.prototype.notifyComplete = function (innerSub) {\n        this.openWindow(innerSub);\n    };\n    WindowSubscriber.prototype._next = function (value) {\n        this.window.next(value);\n    };\n    WindowSubscriber.prototype._error = function (err) {\n        this.window.error(err);\n        this.destination.error(err);\n        this.unsubscribeClosingNotification();\n    };\n    WindowSubscriber.prototype._complete = function () {\n        this.window.complete();\n        this.destination.complete();\n        this.unsubscribeClosingNotification();\n    };\n    WindowSubscriber.prototype.unsubscribeClosingNotification = function () {\n        if (this.closingNotification) {\n            this.closingNotification.unsubscribe();\n        }\n    };\n    WindowSubscriber.prototype.openWindow = function (innerSub) {\n        if (innerSub === void 0) {\n            innerSub = null;\n        }\n        if (innerSub) {\n            this.remove(innerSub);\n            innerSub.unsubscribe();\n        }\n        var prevWindow = this.window;\n        if (prevWindow) {\n            prevWindow.complete();\n        }\n        var window = this.window = new Subject();\n        this.destination.next(window);\n        var closingNotifier = tryCatch(this.closingSelector)();\n        if (closingNotifier === errorObject) {\n            var err = errorObject.e;\n            this.destination.error(err);\n            this.window.error(err);\n        }\n        else {\n            this.add(this.closingNotification = subscribeToResult(this, closingNotifier));\n        }\n    };\n    return WindowSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=windowWhen.js.map\n","/** PURE_IMPORTS_START tslib,.._OuterSubscriber,.._util_subscribeToResult PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\n/* tslint:enable:max-line-length */\n/**\n * Combines the source Observable with other Observables to create an Observable\n * whose values are calculated from the latest values of each, only when the\n * source emits.\n *\n * <span class=\"informal\">Whenever the source Observable emits a value, it\n * computes a formula using that value plus the latest values from other input\n * Observables, then emits the output of that formula.</span>\n *\n * <img src=\"./img/withLatestFrom.png\" width=\"100%\">\n *\n * `withLatestFrom` combines each value from the source Observable (the\n * instance) with the latest values from the other input Observables only when\n * the source emits a value, optionally using a `project` function to determine\n * the value to be emitted on the output Observable. All input Observables must\n * emit at least one value before the output Observable will emit a value.\n *\n * @example <caption>On every click event, emit an array with the latest timer event plus the click event</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var timer = Rx.Observable.interval(1000);\n * var result = clicks.withLatestFrom(timer);\n * result.subscribe(x => console.log(x));\n *\n * @see {@link combineLatest}\n *\n * @param {ObservableInput} other An input Observable to combine with the source\n * Observable. More than one input Observables may be given as argument.\n * @param {Function} [project] Projection function for combining values\n * together. Receives all values in order of the Observables passed, where the\n * first parameter is a value from the source Observable. (e.g.\n * `a.withLatestFrom(b, c, (a1, b1, c1) => a1 + b1 + c1)`). If this is not\n * passed, arrays will be emitted on the output Observable.\n * @return {Observable} An Observable of projected values from the most recent\n * values from each input Observable, or an array of the most recent values from\n * each input Observable.\n * @method withLatestFrom\n * @owner Observable\n */\nexport function withLatestFrom() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    return function (source) {\n        var project;\n        if (typeof args[args.length - 1] === 'function') {\n            project = args.pop();\n        }\n        var observables = args;\n        return source.lift(new WithLatestFromOperator(observables, project));\n    };\n}\nvar WithLatestFromOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function WithLatestFromOperator(observables, project) {\n        this.observables = observables;\n        this.project = project;\n    }\n    WithLatestFromOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new WithLatestFromSubscriber(subscriber, this.observables, this.project));\n    };\n    return WithLatestFromOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar WithLatestFromSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(WithLatestFromSubscriber, _super);\n    function WithLatestFromSubscriber(destination, observables, project) {\n        var _this = _super.call(this, destination) || this;\n        _this.observables = observables;\n        _this.project = project;\n        _this.toRespond = [];\n        var len = observables.length;\n        _this.values = new Array(len);\n        for (var i = 0; i < len; i++) {\n            _this.toRespond.push(i);\n        }\n        for (var i = 0; i < len; i++) {\n            var observable = observables[i];\n            _this.add(subscribeToResult(_this, observable, observable, i));\n        }\n        return _this;\n    }\n    WithLatestFromSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.values[outerIndex] = innerValue;\n        var toRespond = this.toRespond;\n        if (toRespond.length > 0) {\n            var found = toRespond.indexOf(outerIndex);\n            if (found !== -1) {\n                toRespond.splice(found, 1);\n            }\n        }\n    };\n    WithLatestFromSubscriber.prototype.notifyComplete = function () {\n        // noop\n    };\n    WithLatestFromSubscriber.prototype._next = function (value) {\n        if (this.toRespond.length === 0) {\n            var args = [value].concat(this.values);\n            if (this.project) {\n                this._tryProject(args);\n            }\n            else {\n                this.destination.next(args);\n            }\n        }\n    };\n    WithLatestFromSubscriber.prototype._tryProject = function (args) {\n        var result;\n        try {\n            result = this.project.apply(this, args);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    return WithLatestFromSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=withLatestFrom.js.map\n","/** PURE_IMPORTS_START tslib,._fromArray,.._util_isArray,.._Subscriber,.._OuterSubscriber,.._util_subscribeToResult,.._.._internal_symbol_iterator PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { fromArray } from './fromArray';\nimport { isArray } from '../util/isArray';\nimport { Subscriber } from '../Subscriber';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { iterator as Symbol_iterator } from '../../internal/symbol/iterator';\n/* tslint:enable:max-line-length */\n/**\n * Combines multiple Observables to create an Observable whose values are calculated from the values, in order, of each\n * of its input Observables.\n *\n * If the latest parameter is a function, this function is used to compute the created value from the input values.\n * Otherwise, an array of the input values is returned.\n *\n * @example <caption>Combine age and name from different sources</caption>\n *\n * let age$ = Observable.of<number>(27, 25, 29);\n * let name$ = Observable.of<string>('Foo', 'Bar', 'Beer');\n * let isDev$ = Observable.of<boolean>(true, true, false);\n *\n * Observable\n *     .zip(age$,\n *          name$,\n *          isDev$,\n *          (age: number, name: string, isDev: boolean) => ({ age, name, isDev }))\n *     .subscribe(x => console.log(x));\n *\n * // outputs\n * // { age: 27, name: 'Foo', isDev: true }\n * // { age: 25, name: 'Bar', isDev: true }\n * // { age: 29, name: 'Beer', isDev: false }\n *\n * @param observables\n * @return {Observable<R>}\n * @static true\n * @name zip\n * @owner Observable\n */\nexport function zip() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i] = arguments[_i];\n    }\n    var project = observables[observables.length - 1];\n    if (typeof project === 'function') {\n        observables.pop();\n    }\n    return fromArray(observables, undefined).lift(new ZipOperator(project));\n}\nvar ZipOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function ZipOperator(project) {\n        this.project = project;\n    }\n    ZipOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ZipSubscriber(subscriber, this.project));\n    };\n    return ZipOperator;\n}());\nexport { ZipOperator };\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar ZipSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ZipSubscriber, _super);\n    function ZipSubscriber(destination, project, values) {\n        if (values === void 0) {\n            values = Object.create(null);\n        }\n        var _this = _super.call(this, destination) || this;\n        _this.iterators = [];\n        _this.active = 0;\n        _this.project = (typeof project === 'function') ? project : null;\n        _this.values = values;\n        return _this;\n    }\n    ZipSubscriber.prototype._next = function (value) {\n        var iterators = this.iterators;\n        if (isArray(value)) {\n            iterators.push(new StaticArrayIterator(value));\n        }\n        else if (typeof value[Symbol_iterator] === 'function') {\n            iterators.push(new StaticIterator(value[Symbol_iterator]()));\n        }\n        else {\n            iterators.push(new ZipBufferIterator(this.destination, this, value));\n        }\n    };\n    ZipSubscriber.prototype._complete = function () {\n        var iterators = this.iterators;\n        var len = iterators.length;\n        if (len === 0) {\n            this.destination.complete();\n            return;\n        }\n        this.active = len;\n        for (var i = 0; i < len; i++) {\n            var iterator = iterators[i];\n            if (iterator.stillUnsubscribed) {\n                this.add(iterator.subscribe(iterator, i));\n            }\n            else {\n                this.active--; // not an observable\n            }\n        }\n    };\n    ZipSubscriber.prototype.notifyInactive = function () {\n        this.active--;\n        if (this.active === 0) {\n            this.destination.complete();\n        }\n    };\n    ZipSubscriber.prototype.checkIterators = function () {\n        var iterators = this.iterators;\n        var len = iterators.length;\n        var destination = this.destination;\n        // abort if not all of them have values\n        for (var i = 0; i < len; i++) {\n            var iterator = iterators[i];\n            if (typeof iterator.hasValue === 'function' && !iterator.hasValue()) {\n                return;\n            }\n        }\n        var shouldComplete = false;\n        var args = [];\n        for (var i = 0; i < len; i++) {\n            var iterator = iterators[i];\n            var result = iterator.next();\n            // check to see if it's completed now that you've gotten\n            // the next value.\n            if (iterator.hasCompleted()) {\n                shouldComplete = true;\n            }\n            if (result.done) {\n                destination.complete();\n                return;\n            }\n            args.push(result.value);\n        }\n        if (this.project) {\n            this._tryProject(args);\n        }\n        else {\n            destination.next(args);\n        }\n        if (shouldComplete) {\n            destination.complete();\n        }\n    };\n    ZipSubscriber.prototype._tryProject = function (args) {\n        var result;\n        try {\n            result = this.project.apply(this, args);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    return ZipSubscriber;\n}(Subscriber));\nexport { ZipSubscriber };\nvar StaticIterator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function StaticIterator(iterator) {\n        this.iterator = iterator;\n        this.nextResult = iterator.next();\n    }\n    StaticIterator.prototype.hasValue = function () {\n        return true;\n    };\n    StaticIterator.prototype.next = function () {\n        var result = this.nextResult;\n        this.nextResult = this.iterator.next();\n        return result;\n    };\n    StaticIterator.prototype.hasCompleted = function () {\n        var nextResult = this.nextResult;\n        return nextResult && nextResult.done;\n    };\n    return StaticIterator;\n}());\nvar StaticArrayIterator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function StaticArrayIterator(array) {\n        this.array = array;\n        this.index = 0;\n        this.length = 0;\n        this.length = array.length;\n    }\n    StaticArrayIterator.prototype[Symbol_iterator] = function () {\n        return this;\n    };\n    StaticArrayIterator.prototype.next = function (value) {\n        var i = this.index++;\n        var array = this.array;\n        return i < this.length ? { value: array[i], done: false } : { value: null, done: true };\n    };\n    StaticArrayIterator.prototype.hasValue = function () {\n        return this.array.length > this.index;\n    };\n    StaticArrayIterator.prototype.hasCompleted = function () {\n        return this.array.length === this.index;\n    };\n    return StaticArrayIterator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar ZipBufferIterator = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ZipBufferIterator, _super);\n    function ZipBufferIterator(destination, parent, observable) {\n        var _this = _super.call(this, destination) || this;\n        _this.parent = parent;\n        _this.observable = observable;\n        _this.stillUnsubscribed = true;\n        _this.buffer = [];\n        _this.isComplete = false;\n        return _this;\n    }\n    ZipBufferIterator.prototype[Symbol_iterator] = function () {\n        return this;\n    };\n    // NOTE: there is actually a name collision here with Subscriber.next and Iterator.next\n    //    this is legit because `next()` will never be called by a subscription in this case.\n    ZipBufferIterator.prototype.next = function () {\n        var buffer = this.buffer;\n        if (buffer.length === 0 && this.isComplete) {\n            return { value: null, done: true };\n        }\n        else {\n            return { value: buffer.shift(), done: false };\n        }\n    };\n    ZipBufferIterator.prototype.hasValue = function () {\n        return this.buffer.length > 0;\n    };\n    ZipBufferIterator.prototype.hasCompleted = function () {\n        return this.buffer.length === 0 && this.isComplete;\n    };\n    ZipBufferIterator.prototype.notifyComplete = function () {\n        if (this.buffer.length > 0) {\n            this.isComplete = true;\n            this.parent.notifyInactive();\n        }\n        else {\n            this.destination.complete();\n        }\n    };\n    ZipBufferIterator.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.buffer.push(innerValue);\n        this.parent.checkIterators();\n    };\n    ZipBufferIterator.prototype.subscribe = function (value, index) {\n        return subscribeToResult(this, this.observable, this, index);\n    };\n    return ZipBufferIterator;\n}(OuterSubscriber));\n//# sourceMappingURL=zip.js.map\n","/** PURE_IMPORTS_START .._observable_zip PURE_IMPORTS_END */\nimport { ZipOperator } from '../observable/zip';\nexport function zipAll(project) {\n    return function (source) { return source.lift(new ZipOperator(project)); };\n}\n//# sourceMappingURL=zipAll.js.map\n","/* Operator exports */\n/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport { audit } from '../internal/operators/audit';\nexport { auditTime } from '../internal/operators/auditTime';\nexport { buffer } from '../internal/operators/buffer';\nexport { bufferCount } from '../internal/operators/bufferCount';\nexport { bufferTime } from '../internal/operators/bufferTime';\nexport { bufferToggle } from '../internal/operators/bufferToggle';\nexport { bufferWhen } from '../internal/operators/bufferWhen';\nexport { catchError } from '../internal/operators/catchError';\nexport { combineAll } from '../internal/operators/combineAll';\nexport { concatAll } from '../internal/operators/concatAll';\nexport { concatMap } from '../internal/operators/concatMap';\nexport { concatMapTo } from '../internal/operators/concatMapTo';\nexport { count } from '../internal/operators/count';\nexport { debounce } from '../internal/operators/debounce';\nexport { debounceTime } from '../internal/operators/debounceTime';\nexport { defaultIfEmpty } from '../internal/operators/defaultIfEmpty';\nexport { delay } from '../internal/operators/delay';\nexport { delayWhen } from '../internal/operators/delayWhen';\nexport { dematerialize } from '../internal/operators/dematerialize';\nexport { distinct } from '../internal/operators/distinct';\nexport { distinctUntilChanged } from '../internal/operators/distinctUntilChanged';\nexport { distinctUntilKeyChanged } from '../internal/operators/distinctUntilKeyChanged';\nexport { elementAt } from '../internal/operators/elementAt';\nexport { every } from '../internal/operators/every';\nexport { exhaust } from '../internal/operators/exhaust';\nexport { exhaustMap } from '../internal/operators/exhaustMap';\nexport { expand } from '../internal/operators/expand';\nexport { filter } from '../internal/operators/filter';\nexport { finalize } from '../internal/operators/finalize';\nexport { find } from '../internal/operators/find';\nexport { findIndex } from '../internal/operators/findIndex';\nexport { first } from '../internal/operators/first';\nexport { groupBy } from '../internal/operators/groupBy';\nexport { ignoreElements } from '../internal/operators/ignoreElements';\nexport { isEmpty } from '../internal/operators/isEmpty';\nexport { last } from '../internal/operators/last';\nexport { map } from '../internal/operators/map';\nexport { mapTo } from '../internal/operators/mapTo';\nexport { materialize } from '../internal/operators/materialize';\nexport { max } from '../internal/operators/max';\nexport { mergeAll } from '../internal/operators/mergeAll';\nexport { mergeMap } from '../internal/operators/mergeMap';\nexport { mergeMap as flatMap } from '../internal/operators/mergeMap';\nexport { mergeMapTo } from '../internal/operators/mergeMapTo';\nexport { mergeScan } from '../internal/operators/mergeScan';\nexport { min } from '../internal/operators/min';\nexport { multicast } from '../internal/operators/multicast';\nexport { observeOn } from '../internal/operators/observeOn';\nexport { pairwise } from '../internal/operators/pairwise';\nexport { partition } from '../internal/operators/partition';\nexport { pluck } from '../internal/operators/pluck';\nexport { publish } from '../internal/operators/publish';\nexport { publishBehavior } from '../internal/operators/publishBehavior';\nexport { publishLast } from '../internal/operators/publishLast';\nexport { publishReplay } from '../internal/operators/publishReplay';\nexport { reduce } from '../internal/operators/reduce';\nexport { repeat } from '../internal/operators/repeat';\nexport { repeatWhen } from '../internal/operators/repeatWhen';\nexport { retry } from '../internal/operators/retry';\nexport { retryWhen } from '../internal/operators/retryWhen';\nexport { refCount } from '../internal/operators/refCount';\nexport { sample } from '../internal/operators/sample';\nexport { sampleTime } from '../internal/operators/sampleTime';\nexport { scan } from '../internal/operators/scan';\nexport { sequenceEqual } from '../internal/operators/sequenceEqual';\nexport { share } from '../internal/operators/share';\nexport { shareReplay } from '../internal/operators/shareReplay';\nexport { single } from '../internal/operators/single';\nexport { skip } from '../internal/operators/skip';\nexport { skipLast } from '../internal/operators/skipLast';\nexport { skipUntil } from '../internal/operators/skipUntil';\nexport { skipWhile } from '../internal/operators/skipWhile';\nexport { startWith } from '../internal/operators/startWith';\n/**\n * TODO(https://github.com/ReactiveX/rxjs/issues/2900): Add back subscribeOn once it can be\n * treeshaken. Currently if this export is added back, it\n * forces apps to bring in asap scheduler along with\n * Immediate, root, and other supporting code.\n */\n// export { subscribeOn } from '../internal/operators/subscribeOn';\nexport { switchAll } from '../internal/operators/switchAll';\nexport { switchMap } from '../internal/operators/switchMap';\nexport { switchMapTo } from '../internal/operators/switchMapTo';\nexport { take } from '../internal/operators/take';\nexport { takeLast } from '../internal/operators/takeLast';\nexport { takeUntil } from '../internal/operators/takeUntil';\nexport { takeWhile } from '../internal/operators/takeWhile';\nexport { tap } from '../internal/operators/tap';\nexport { throttle } from '../internal/operators/throttle';\nexport { throttleTime } from '../internal/operators/throttleTime';\nexport { throwIfEmpty } from '../internal/operators/throwIfEmpty';\nexport { timeInterval } from '../internal/operators/timeInterval';\nexport { timeout } from '../internal/operators/timeout';\nexport { timeoutWith } from '../internal/operators/timeoutWith';\nexport { timestamp } from '../internal/operators/timestamp';\nexport { toArray } from '../internal/operators/toArray';\nexport { window } from '../internal/operators/window';\nexport { windowCount } from '../internal/operators/windowCount';\nexport { windowTime } from '../internal/operators/windowTime';\nexport { windowToggle } from '../internal/operators/windowToggle';\nexport { windowWhen } from '../internal/operators/windowWhen';\nexport { withLatestFrom } from '../internal/operators/withLatestFrom';\nexport { zipAll } from '../internal/operators/zipAll';\n//# sourceMappingURL=index.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isFunction(x) {\n    return typeof x === 'function';\n}\nexports.isFunction = isFunction;\n//# sourceMappingURL=isFunction.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.empty = {\n    closed: true,\n    next: function (value) { },\n    error: function (err) { throw err; },\n    complete: function () { }\n};\n//# sourceMappingURL=Observer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isArray = Array.isArray || (function (x) { return x && typeof x.length === 'number'; });\n//# sourceMappingURL=isArray.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isObject(x) {\n    return x != null && typeof x === 'object';\n}\nexports.isObject = isObject;\n//# sourceMappingURL=isObject.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// typeof any so that it we don't have to cast when comparing a result to the error object\nexports.errorObject = { e: {} };\n//# sourceMappingURL=errorObject.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar errorObject_1 = require(\"./errorObject\");\nvar tryCatchTarget;\nfunction tryCatcher() {\n    try {\n        return tryCatchTarget.apply(this, arguments);\n    }\n    catch (e) {\n        errorObject_1.errorObject.e = e;\n        return errorObject_1.errorObject;\n    }\n}\nfunction tryCatch(fn) {\n    tryCatchTarget = fn;\n    return tryCatcher;\n}\nexports.tryCatch = tryCatch;\n//# sourceMappingURL=tryCatch.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * An error thrown when one or more errors have occurred during the\n * `unsubscribe` of a {@link Subscription}.\n */\nvar UnsubscriptionError = /** @class */ (function (_super) {\n    __extends(UnsubscriptionError, _super);\n    function UnsubscriptionError(errors) {\n        var _this = _super.call(this, errors ?\n            errors.length + \" errors occurred during unsubscription:\\n  \" + errors.map(function (err, i) { return i + 1 + \") \" + err.toString(); }).join('\\n  ') : '') || this;\n        _this.errors = errors;\n        _this.name = 'UnsubscriptionError';\n        Object.setPrototypeOf(_this, UnsubscriptionError.prototype);\n        return _this;\n    }\n    return UnsubscriptionError;\n}(Error));\nexports.UnsubscriptionError = UnsubscriptionError;\n//# sourceMappingURL=UnsubscriptionError.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isArray_1 = require(\"./util/isArray\");\nvar isObject_1 = require(\"./util/isObject\");\nvar isFunction_1 = require(\"./util/isFunction\");\nvar tryCatch_1 = require(\"./util/tryCatch\");\nvar errorObject_1 = require(\"./util/errorObject\");\nvar UnsubscriptionError_1 = require(\"./util/UnsubscriptionError\");\n/**\n * Represents a disposable resource, such as the execution of an Observable. A\n * Subscription has one important method, `unsubscribe`, that takes no argument\n * and just disposes the resource held by the subscription.\n *\n * Additionally, subscriptions may be grouped together through the `add()`\n * method, which will attach a child Subscription to the current Subscription.\n * When a Subscription is unsubscribed, all its children (and its grandchildren)\n * will be unsubscribed as well.\n *\n * @class Subscription\n */\nvar Subscription = /** @class */ (function () {\n    /**\n     * @param {function(): void} [unsubscribe] A function describing how to\n     * perform the disposal of resources when the `unsubscribe` method is called.\n     */\n    function Subscription(unsubscribe) {\n        /**\n         * A flag to indicate whether this Subscription has already been unsubscribed.\n         * @type {boolean}\n         */\n        this.closed = false;\n        /** @internal */\n        this._parent = null;\n        /** @internal */\n        this._parents = null;\n        /** @internal */\n        this._subscriptions = null;\n        if (unsubscribe) {\n            this._unsubscribe = unsubscribe;\n        }\n    }\n    /**\n     * Disposes the resources held by the subscription. May, for instance, cancel\n     * an ongoing Observable execution or cancel any other type of work that\n     * started when the Subscription was created.\n     * @return {void}\n     */\n    Subscription.prototype.unsubscribe = function () {\n        var hasErrors = false;\n        var errors;\n        if (this.closed) {\n            return;\n        }\n        var _a = this, _parent = _a._parent, _parents = _a._parents, _unsubscribe = _a._unsubscribe, _subscriptions = _a._subscriptions;\n        this.closed = true;\n        this._parent = null;\n        this._parents = null;\n        // null out _subscriptions first so any child subscriptions that attempt\n        // to remove themselves from this subscription will noop\n        this._subscriptions = null;\n        var index = -1;\n        var len = _parents ? _parents.length : 0;\n        // if this._parent is null, then so is this._parents, and we\n        // don't have to remove ourselves from any parent subscriptions.\n        while (_parent) {\n            _parent.remove(this);\n            // if this._parents is null or index >= len,\n            // then _parent is set to null, and the loop exits\n            _parent = ++index < len && _parents[index] || null;\n        }\n        if (isFunction_1.isFunction(_unsubscribe)) {\n            var trial = tryCatch_1.tryCatch(_unsubscribe).call(this);\n            if (trial === errorObject_1.errorObject) {\n                hasErrors = true;\n                errors = errors || (errorObject_1.errorObject.e instanceof UnsubscriptionError_1.UnsubscriptionError ?\n                    flattenUnsubscriptionErrors(errorObject_1.errorObject.e.errors) : [errorObject_1.errorObject.e]);\n            }\n        }\n        if (isArray_1.isArray(_subscriptions)) {\n            index = -1;\n            len = _subscriptions.length;\n            while (++index < len) {\n                var sub = _subscriptions[index];\n                if (isObject_1.isObject(sub)) {\n                    var trial = tryCatch_1.tryCatch(sub.unsubscribe).call(sub);\n                    if (trial === errorObject_1.errorObject) {\n                        hasErrors = true;\n                        errors = errors || [];\n                        var err = errorObject_1.errorObject.e;\n                        if (err instanceof UnsubscriptionError_1.UnsubscriptionError) {\n                            errors = errors.concat(flattenUnsubscriptionErrors(err.errors));\n                        }\n                        else {\n                            errors.push(err);\n                        }\n                    }\n                }\n            }\n        }\n        if (hasErrors) {\n            throw new UnsubscriptionError_1.UnsubscriptionError(errors);\n        }\n    };\n    /**\n     * Adds a tear down to be called during the unsubscribe() of this\n     * Subscription.\n     *\n     * If the tear down being added is a subscription that is already\n     * unsubscribed, is the same reference `add` is being called on, or is\n     * `Subscription.EMPTY`, it will not be added.\n     *\n     * If this subscription is already in an `closed` state, the passed\n     * tear down logic will be executed immediately.\n     *\n     * @param {TeardownLogic} teardown The additional logic to execute on\n     * teardown.\n     * @return {Subscription} Returns the Subscription used or created to be\n     * added to the inner subscriptions list. This Subscription can be used with\n     * `remove()` to remove the passed teardown logic from the inner subscriptions\n     * list.\n     */\n    Subscription.prototype.add = function (teardown) {\n        if (!teardown || (teardown === Subscription.EMPTY)) {\n            return Subscription.EMPTY;\n        }\n        if (teardown === this) {\n            return this;\n        }\n        var subscription = teardown;\n        switch (typeof teardown) {\n            case 'function':\n                subscription = new Subscription(teardown);\n            case 'object':\n                if (subscription.closed || typeof subscription.unsubscribe !== 'function') {\n                    return subscription;\n                }\n                else if (this.closed) {\n                    subscription.unsubscribe();\n                    return subscription;\n                }\n                else if (typeof subscription._addParent !== 'function' /* quack quack */) {\n                    var tmp = subscription;\n                    subscription = new Subscription();\n                    subscription._subscriptions = [tmp];\n                }\n                break;\n            default:\n                throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n        }\n        var subscriptions = this._subscriptions || (this._subscriptions = []);\n        subscriptions.push(subscription);\n        subscription._addParent(this);\n        return subscription;\n    };\n    /**\n     * Removes a Subscription from the internal list of subscriptions that will\n     * unsubscribe during the unsubscribe process of this Subscription.\n     * @param {Subscription} subscription The subscription to remove.\n     * @return {void}\n     */\n    Subscription.prototype.remove = function (subscription) {\n        var subscriptions = this._subscriptions;\n        if (subscriptions) {\n            var subscriptionIndex = subscriptions.indexOf(subscription);\n            if (subscriptionIndex !== -1) {\n                subscriptions.splice(subscriptionIndex, 1);\n            }\n        }\n    };\n    /** @internal */\n    Subscription.prototype._addParent = function (parent) {\n        var _a = this, _parent = _a._parent, _parents = _a._parents;\n        if (!_parent || _parent === parent) {\n            // If we don't have a parent, or the new parent is the same as the\n            // current parent, then set this._parent to the new parent.\n            this._parent = parent;\n        }\n        else if (!_parents) {\n            // If there's already one parent, but not multiple, allocate an Array to\n            // store the rest of the parent Subscriptions.\n            this._parents = [parent];\n        }\n        else if (_parents.indexOf(parent) === -1) {\n            // Only add the new parent to the _parents list if it's not already there.\n            _parents.push(parent);\n        }\n    };\n    Subscription.EMPTY = (function (empty) {\n        empty.closed = true;\n        return empty;\n    }(new Subscription()));\n    return Subscription;\n}());\nexports.Subscription = Subscription;\nfunction flattenUnsubscriptionErrors(errors) {\n    return errors.reduce(function (errs, err) { return errs.concat((err instanceof UnsubscriptionError_1.UnsubscriptionError) ? err.errors : err); }, []);\n}\n//# sourceMappingURL=Subscription.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.rxSubscriber = (typeof Symbol === 'function' && typeof Symbol.for === 'function')\n    ? Symbol.for('rxSubscriber')\n    : '@@rxSubscriber';\n/**\n * @deprecated use rxSubscriber instead\n */\nexports.$$rxSubscriber = exports.rxSubscriber;\n//# sourceMappingURL=rxSubscriber.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isFunction_1 = require(\"./util/isFunction\");\nvar Observer_1 = require(\"./Observer\");\nvar Subscription_1 = require(\"./Subscription\");\nvar rxSubscriber_1 = require(\"../internal/symbol/rxSubscriber\");\n/**\n * Implements the {@link Observer} interface and extends the\n * {@link Subscription} class. While the {@link Observer} is the public API for\n * consuming the values of an {@link Observable}, all Observers get converted to\n * a Subscriber, in order to provide Subscription-like capabilities such as\n * `unsubscribe`. Subscriber is a common type in RxJS, and crucial for\n * implementing operators, but it is rarely used as a public API.\n *\n * @class Subscriber<T>\n */\nvar Subscriber = /** @class */ (function (_super) {\n    __extends(Subscriber, _super);\n    /**\n     * @param {Observer|function(value: T): void} [destinationOrNext] A partially\n     * defined Observer or a `next` callback function.\n     * @param {function(e: ?any): void} [error] The `error` callback of an\n     * Observer.\n     * @param {function(): void} [complete] The `complete` callback of an\n     * Observer.\n     */\n    function Subscriber(destinationOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this.isStopped = false;\n        switch (arguments.length) {\n            case 0:\n                _this.destination = Observer_1.empty;\n                break;\n            case 1:\n                if (!destinationOrNext) {\n                    _this.destination = Observer_1.empty;\n                    break;\n                }\n                if (typeof destinationOrNext === 'object') {\n                    if (destinationOrNext instanceof Subscriber) {\n                        _this.destination = destinationOrNext;\n                        _this.destination.add(_this);\n                    }\n                    else {\n                        _this.destination = new SafeSubscriber(destinationOrNext);\n                    }\n                    break;\n                }\n            default:\n                _this.destination = new SafeSubscriber(destinationOrNext, error, complete);\n                break;\n        }\n        return _this;\n    }\n    Subscriber.prototype[rxSubscriber_1.rxSubscriber] = function () { return this; };\n    /**\n     * A static factory for a Subscriber, given a (potentially partial) definition\n     * of an Observer.\n     * @param {function(x: ?T): void} [next] The `next` callback of an Observer.\n     * @param {function(e: ?any): void} [error] The `error` callback of an\n     * Observer.\n     * @param {function(): void} [complete] The `complete` callback of an\n     * Observer.\n     * @return {Subscriber<T>} A Subscriber wrapping the (partially defined)\n     * Observer represented by the given arguments.\n     */\n    Subscriber.create = function (next, error, complete) {\n        var subscriber = new Subscriber(next, error, complete);\n        return subscriber;\n    };\n    /**\n     * The {@link Observer} callback to receive notifications of type `next` from\n     * the Observable, with a value. The Observable may call this method 0 or more\n     * times.\n     * @param {T} [value] The `next` value.\n     * @return {void}\n     */\n    Subscriber.prototype.next = function (value) {\n        if (!this.isStopped) {\n            this._next(value);\n        }\n    };\n    /**\n     * The {@link Observer} callback to receive notifications of type `error` from\n     * the Observable, with an attached {@link Error}. Notifies the Observer that\n     * the Observable has experienced an error condition.\n     * @param {any} [err] The `error` exception.\n     * @return {void}\n     */\n    Subscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    /**\n     * The {@link Observer} callback to receive a valueless notification of type\n     * `complete` from the Observable. Notifies the Observer that the Observable\n     * has finished sending push-based notifications.\n     * @return {void}\n     */\n    Subscriber.prototype.complete = function () {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.isStopped = true;\n        _super.prototype.unsubscribe.call(this);\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        this.destination.error(err);\n        this.unsubscribe();\n    };\n    Subscriber.prototype._complete = function () {\n        this.destination.complete();\n        this.unsubscribe();\n    };\n    Subscriber.prototype._unsubscribeAndRecycle = function () {\n        var _a = this, _parent = _a._parent, _parents = _a._parents;\n        this._parent = null;\n        this._parents = null;\n        this.unsubscribe();\n        this.closed = false;\n        this.isStopped = false;\n        this._parent = _parent;\n        this._parents = _parents;\n        return this;\n    };\n    return Subscriber;\n}(Subscription_1.Subscription));\nexports.Subscriber = Subscriber;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SafeSubscriber = /** @class */ (function (_super) {\n    __extends(SafeSubscriber, _super);\n    function SafeSubscriber(observerOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        var next;\n        var context = _this;\n        if (isFunction_1.isFunction(observerOrNext)) {\n            next = observerOrNext;\n        }\n        else if (observerOrNext) {\n            next = observerOrNext.next;\n            error = observerOrNext.error;\n            complete = observerOrNext.complete;\n            if (observerOrNext !== Observer_1.empty) {\n                context = Object.create(observerOrNext);\n                if (isFunction_1.isFunction(context.unsubscribe)) {\n                    _this.add(context.unsubscribe.bind(context));\n                }\n                context.unsubscribe = _this.unsubscribe.bind(_this);\n            }\n        }\n        _this._context = context;\n        _this._next = next;\n        _this._error = error;\n        _this._complete = complete;\n        return _this;\n    }\n    SafeSubscriber.prototype.next = function (value) {\n        if (!this.isStopped && this._next) {\n            try {\n                this._next.call(this._context, value);\n            }\n            catch (err) {\n                this._hostReportError(err);\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            if (this._error) {\n                try {\n                    this._error.call(this._context, err);\n                }\n                catch (err) {\n                    this._hostReportError(err);\n                }\n            }\n            else {\n                this._hostReportError(err);\n            }\n            this.unsubscribe();\n        }\n    };\n    SafeSubscriber.prototype.complete = function () {\n        if (!this.isStopped) {\n            if (this._complete) {\n                try {\n                    this._complete.call(this._context);\n                }\n                catch (err) {\n                    this._hostReportError(err);\n                }\n            }\n            this.unsubscribe();\n        }\n    };\n    SafeSubscriber.prototype._unsubscribe = function () {\n        this._context = null;\n    };\n    SafeSubscriber.prototype._hostReportError = function (err) {\n        setTimeout(function () { throw err; });\n    };\n    return SafeSubscriber;\n}(Subscriber));\n//# sourceMappingURL=Subscriber.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Subscriber_1 = require(\"../Subscriber\");\nvar rxSubscriber_1 = require(\"../symbol/rxSubscriber\");\nvar Observer_1 = require(\"../Observer\");\nfunction toSubscriber(nextOrObserver, error, complete) {\n    if (nextOrObserver) {\n        if (nextOrObserver instanceof Subscriber_1.Subscriber) {\n            return nextOrObserver;\n        }\n        if (nextOrObserver[rxSubscriber_1.rxSubscriber]) {\n            return nextOrObserver[rxSubscriber_1.rxSubscriber]();\n        }\n    }\n    if (!nextOrObserver && !error && !complete) {\n        return new Subscriber_1.Subscriber(Observer_1.empty);\n    }\n    return new Subscriber_1.Subscriber(nextOrObserver, error, complete);\n}\nexports.toSubscriber = toSubscriber;\n//# sourceMappingURL=toSubscriber.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/** Symbol.observable or a string \"@@observable\". Used for interop */\nexports.observable = typeof Symbol === 'function' && Symbol.observable || '@@observable';\n//# sourceMappingURL=observable.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* tslint:disable:no-empty */\nfunction noop() { }\nexports.noop = noop;\n//# sourceMappingURL=noop.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar noop_1 = require(\"./noop\");\n/* tslint:enable:max-line-length */\nfunction pipe() {\n    var fns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fns[_i] = arguments[_i];\n    }\n    return pipeFromArray(fns);\n}\nexports.pipe = pipe;\n/* @internal */\nfunction pipeFromArray(fns) {\n    if (!fns) {\n        return noop_1.noop;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n    };\n}\nexports.pipeFromArray = pipeFromArray;\n//# sourceMappingURL=pipe.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * The global configuration object for RxJS, used to configure things\n * like what Promise contructor should used to create Promises\n */\nexports.config = {\n    /**\n     * The promise constructor used by default for methods such as\n     * {@link toPromise} and {@link forEach}\n     */\n    Promise: Promise\n};\n//# sourceMappingURL=config.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar toSubscriber_1 = require(\"./util/toSubscriber\");\nvar observable_1 = require(\"../internal/symbol/observable\");\nvar pipe_1 = require(\"./util/pipe\");\nvar config_1 = require(\"./config\");\n/**\n * A representation of any set of values over any amount of time. This is the most basic building block\n * of RxJS.\n *\n * @class Observable<T>\n */\nvar Observable = /** @class */ (function () {\n    /**\n     * @constructor\n     * @param {Function} subscribe the function that is called when the Observable is\n     * initially subscribed to. This function is given a Subscriber, to which new values\n     * can be `next`ed, or an `error` method can be called to raise an error, or\n     * `complete` can be called to notify of a successful completion.\n     */\n    function Observable(subscribe) {\n        /** @internal */\n        this._isScalar = false;\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    /**\n     * Creates a new Observable, with this Observable as the source, and the passed\n     * operator defined as the new observable's operator.\n     * @method lift\n     * @param {Operator} operator the operator defining the operation to take on the observable\n     * @return {Observable} a new observable with the Operator applied\n     */\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    /**\n     * Invokes an execution of an Observable and registers Observer handlers for notifications it will emit.\n     *\n     * <span class=\"informal\">Use it when you have all these Observables, but still nothing is happening.</span>\n     *\n     * `subscribe` is not a regular operator, but a method that calls Observable's internal `subscribe` function. It\n     * might be for example a function that you passed to a {@link create} static factory, but most of the time it is\n     * a library implementation, which defines what and when will be emitted by an Observable. This means that calling\n     * `subscribe` is actually the moment when Observable starts its work, not when it is created, as it is often\n     * thought.\n     *\n     * Apart from starting the execution of an Observable, this method allows you to listen for values\n     * that an Observable emits, as well as for when it completes or errors. You can achieve this in two\n     * following ways.\n     *\n     * The first way is creating an object that implements {@link Observer} interface. It should have methods\n     * defined by that interface, but note that it should be just a regular JavaScript object, which you can create\n     * yourself in any way you want (ES6 class, classic function constructor, object literal etc.). In particular do\n     * not attempt to use any RxJS implementation details to create Observers - you don't need them. Remember also\n     * that your object does not have to implement all methods. If you find yourself creating a method that doesn't\n     * do anything, you can simply omit it. Note however, that if `error` method is not provided, all errors will\n     * be left uncaught.\n     *\n     * The second way is to give up on Observer object altogether and simply provide callback functions in place of its methods.\n     * This means you can provide three functions as arguments to `subscribe`, where first function is equivalent\n     * of a `next` method, second of an `error` method and third of a `complete` method. Just as in case of Observer,\n     * if you do not need to listen for something, you can omit a function, preferably by passing `undefined` or `null`,\n     * since `subscribe` recognizes these functions by where they were placed in function call. When it comes\n     * to `error` function, just as before, if not provided, errors emitted by an Observable will be thrown.\n     *\n     * Whatever style of calling `subscribe` you use, in both cases it returns a Subscription object.\n     * This object allows you to call `unsubscribe` on it, which in turn will stop work that an Observable does and will clean\n     * up all resources that an Observable used. Note that cancelling a subscription will not call `complete` callback\n     * provided to `subscribe` function, which is reserved for a regular completion signal that comes from an Observable.\n     *\n     * Remember that callbacks provided to `subscribe` are not guaranteed to be called asynchronously.\n     * It is an Observable itself that decides when these functions will be called. For example {@link of}\n     * by default emits all its values synchronously. Always check documentation for how given Observable\n     * will behave when subscribed and if its default behavior can be modified with a {@link Scheduler}.\n     *\n     * @example <caption>Subscribe with an Observer</caption>\n     * const sumObserver = {\n     *   sum: 0,\n     *   next(value) {\n     *     console.log('Adding: ' + value);\n     *     this.sum = this.sum + value;\n     *   },\n     *   error() { // We actually could just remove this method,\n     *   },        // since we do not really care about errors right now.\n     *   complete() {\n     *     console.log('Sum equals: ' + this.sum);\n     *   }\n     * };\n     *\n     * Rx.Observable.of(1, 2, 3) // Synchronously emits 1, 2, 3 and then completes.\n     * .subscribe(sumObserver);\n     *\n     * // Logs:\n     * // \"Adding: 1\"\n     * // \"Adding: 2\"\n     * // \"Adding: 3\"\n     * // \"Sum equals: 6\"\n     *\n     *\n     * @example <caption>Subscribe with functions</caption>\n     * let sum = 0;\n     *\n     * Rx.Observable.of(1, 2, 3)\n     * .subscribe(\n     *   function(value) {\n     *     console.log('Adding: ' + value);\n     *     sum = sum + value;\n     *   },\n     *   undefined,\n     *   function() {\n     *     console.log('Sum equals: ' + sum);\n     *   }\n     * );\n     *\n     * // Logs:\n     * // \"Adding: 1\"\n     * // \"Adding: 2\"\n     * // \"Adding: 3\"\n     * // \"Sum equals: 6\"\n     *\n     *\n     * @example <caption>Cancel a subscription</caption>\n     * const subscription = Rx.Observable.interval(1000).subscribe(\n     *   num => console.log(num),\n     *   undefined,\n     *   () => console.log('completed!') // Will not be called, even\n     * );                                // when cancelling subscription\n     *\n     *\n     * setTimeout(() => {\n     *   subscription.unsubscribe();\n     *   console.log('unsubscribed!');\n     * }, 2500);\n     *\n     * // Logs:\n     * // 0 after 1s\n     * // 1 after 2s\n     * // \"unsubscribed!\" after 2.5s\n     *\n     *\n     * @param {Observer|Function} observerOrNext (optional) Either an observer with methods to be called,\n     *  or the first of three possible handlers, which is the handler for each value emitted from the subscribed\n     *  Observable.\n     * @param {Function} error (optional) A handler for a terminal event resulting from an error. If no error handler is provided,\n     *  the error will be thrown as unhandled.\n     * @param {Function} complete (optional) A handler for a terminal event resulting from successful completion.\n     * @return {ISubscription} a subscription reference to the registered handlers\n     * @method subscribe\n     */\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var operator = this.operator;\n        var sink = toSubscriber_1.toSubscriber(observerOrNext, error, complete);\n        if (operator) {\n            operator.call(sink, this.source);\n        }\n        else {\n            sink.add(this.source ? this._subscribe(sink) : this._trySubscribe(sink));\n        }\n        return sink;\n    };\n    Observable.prototype._trySubscribe = function (sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            sink.error(err);\n        }\n    };\n    /**\n     * @method forEach\n     * @param {Function} next a handler for each value emitted by the observable\n     * @param {PromiseConstructor} [promiseCtor] a constructor function used to instantiate the Promise\n     * @return {Promise} a promise that either resolves on observable completion or\n     *  rejects with the handled error\n     */\n    Observable.prototype.forEach = function (next, promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            // Must be declared in a separate statement to avoid a RefernceError when\n            // accessing subscription below in the closure due to Temporal Dead Zone.\n            var subscription;\n            subscription = _this.subscribe(function (value) {\n                try {\n                    next(value);\n                }\n                catch (err) {\n                    reject(err);\n                    if (subscription) {\n                        subscription.unsubscribe();\n                    }\n                }\n            }, reject, resolve);\n        });\n    };\n    /** @internal */\n    Observable.prototype._subscribe = function (subscriber) {\n        return this.source.subscribe(subscriber);\n    };\n    /**\n     * An interop point defined by the es7-observable spec https://github.com/zenparsing/es-observable\n     * @method Symbol.observable\n     * @return {Observable} this instance of the observable\n     */\n    Observable.prototype[observable_1.observable] = function () {\n        return this;\n    };\n    /* tslint:enable:max-line-length */\n    /**\n     * Used to stitch together functional operators into a chain.\n     * @method pipe\n     * @return {Observable} the Observable result of all of the operators having\n     * been called in the order they were passed in.\n     *\n     * @example\n     *\n     * import { map, filter, scan } from 'rxjs/internal/operators';\n     *\n     * Rx.Observable.interval(1000)\n     *   .pipe(\n     *     filter(x => x % 2 === 0),\n     *     map(x => x + x),\n     *     scan((acc, x) => acc + x)\n     *   )\n     *   .subscribe(x => console.log(x))\n     */\n    Observable.prototype.pipe = function () {\n        var operations = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            operations[_i] = arguments[_i];\n        }\n        if (operations.length === 0) {\n            return this;\n        }\n        return pipe_1.pipeFromArray(operations)(this);\n    };\n    /* tslint:enable:max-line-length */\n    Observable.prototype.toPromise = function (promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var value;\n            _this.subscribe(function (x) { return value = x; }, function (err) { return reject(err); }, function () { return resolve(value); });\n        });\n    };\n    // HACK: Since TypeScript inherits static properties too, we have to\n    // fight against TypeScript here so Subject can have a different static create signature\n    /**\n     * Creates a new cold Observable by calling the Observable constructor\n     * @static true\n     * @owner Observable\n     * @method create\n     * @param {Function} subscribe? the subscriber function to be passed to the Observable constructor\n     * @return {Observable} a new cold observable\n     */\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\nexports.Observable = Observable;\n/**\n * Decides between a passed promise constructor from consuming code,\n * A default configured promise constructor, and the native promise\n * constructor and returns it. If nothing can be found, it will throw\n * an error.\n * @param promiseCtor The optional promise constructor to passed by consuming code\n */\nfunction getPromiseCtor(promiseCtor) {\n    if (!promiseCtor) {\n        promiseCtor = config_1.config.Promise || Promise;\n    }\n    if (!promiseCtor) {\n        throw new Error('no Promise impl found');\n    }\n    return promiseCtor;\n}\n//# sourceMappingURL=Observable.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * An error thrown when an action is invalid because the object has been\n * unsubscribed.\n *\n * @see {@link Subject}\n * @see {@link BehaviorSubject}\n *\n * @class ObjectUnsubscribedError\n */\nvar ObjectUnsubscribedError = /** @class */ (function (_super) {\n    __extends(ObjectUnsubscribedError, _super);\n    function ObjectUnsubscribedError() {\n        var _this = _super.call(this, 'object unsubscribed') || this;\n        _this.name = 'ObjectUnsubscribedError';\n        Object.setPrototypeOf(_this, ObjectUnsubscribedError.prototype);\n        return _this;\n    }\n    return ObjectUnsubscribedError;\n}(Error));\nexports.ObjectUnsubscribedError = ObjectUnsubscribedError;\n//# sourceMappingURL=ObjectUnsubscribedError.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Subscription_1 = require(\"./Subscription\");\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SubjectSubscription = /** @class */ (function (_super) {\n    __extends(SubjectSubscription, _super);\n    function SubjectSubscription(subject, subscriber) {\n        var _this = _super.call(this) || this;\n        _this.subject = subject;\n        _this.subscriber = subscriber;\n        _this.closed = false;\n        return _this;\n    }\n    SubjectSubscription.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.closed = true;\n        var subject = this.subject;\n        var observers = subject.observers;\n        this.subject = null;\n        if (!observers || observers.length === 0 || subject.isStopped || subject.closed) {\n            return;\n        }\n        var subscriberIndex = observers.indexOf(this.subscriber);\n        if (subscriberIndex !== -1) {\n            observers.splice(subscriberIndex, 1);\n        }\n    };\n    return SubjectSubscription;\n}(Subscription_1.Subscription));\nexports.SubjectSubscription = SubjectSubscription;\n//# sourceMappingURL=SubjectSubscription.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Observable_1 = require(\"./Observable\");\nvar Subscriber_1 = require(\"./Subscriber\");\nvar Subscription_1 = require(\"./Subscription\");\nvar ObjectUnsubscribedError_1 = require(\"./util/ObjectUnsubscribedError\");\nvar SubjectSubscription_1 = require(\"./SubjectSubscription\");\nvar rxSubscriber_1 = require(\"../internal/symbol/rxSubscriber\");\n/**\n * @class SubjectSubscriber<T>\n */\nvar SubjectSubscriber = /** @class */ (function (_super) {\n    __extends(SubjectSubscriber, _super);\n    function SubjectSubscriber(destination) {\n        var _this = _super.call(this, destination) || this;\n        _this.destination = destination;\n        return _this;\n    }\n    return SubjectSubscriber;\n}(Subscriber_1.Subscriber));\nexports.SubjectSubscriber = SubjectSubscriber;\n/**\n * @class Subject<T>\n */\nvar Subject = /** @class */ (function (_super) {\n    __extends(Subject, _super);\n    function Subject() {\n        var _this = _super.call(this) || this;\n        _this.observers = [];\n        _this.closed = false;\n        _this.isStopped = false;\n        _this.hasError = false;\n        _this.thrownError = null;\n        return _this;\n    }\n    Subject.prototype[rxSubscriber_1.rxSubscriber] = function () {\n        return new SubjectSubscriber(this);\n    };\n    Subject.prototype.lift = function (operator) {\n        var subject = new AnonymousSubject(this, this);\n        subject.operator = operator;\n        return subject;\n    };\n    Subject.prototype.next = function (value) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        if (!this.isStopped) {\n            var observers = this.observers;\n            var len = observers.length;\n            var copy = observers.slice();\n            for (var i = 0; i < len; i++) {\n                copy[i].next(value);\n            }\n        }\n    };\n    Subject.prototype.error = function (err) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        this.hasError = true;\n        this.thrownError = err;\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].error(err);\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.complete = function () {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].complete();\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.unsubscribe = function () {\n        this.isStopped = true;\n        this.closed = true;\n        this.observers = null;\n    };\n    Subject.prototype._trySubscribe = function (subscriber) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        else {\n            return _super.prototype._trySubscribe.call(this, subscriber);\n        }\n    };\n    Subject.prototype._subscribe = function (subscriber) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        else if (this.hasError) {\n            subscriber.error(this.thrownError);\n            return Subscription_1.Subscription.EMPTY;\n        }\n        else if (this.isStopped) {\n            subscriber.complete();\n            return Subscription_1.Subscription.EMPTY;\n        }\n        else {\n            this.observers.push(subscriber);\n            return new SubjectSubscription_1.SubjectSubscription(this, subscriber);\n        }\n    };\n    Subject.prototype.asObservable = function () {\n        var observable = new Observable_1.Observable();\n        observable.source = this;\n        return observable;\n    };\n    Subject.create = function (destination, source) {\n        return new AnonymousSubject(destination, source);\n    };\n    return Subject;\n}(Observable_1.Observable));\nexports.Subject = Subject;\n/**\n * @class AnonymousSubject<T>\n */\nvar AnonymousSubject = /** @class */ (function (_super) {\n    __extends(AnonymousSubject, _super);\n    function AnonymousSubject(destination, source) {\n        var _this = _super.call(this) || this;\n        _this.destination = destination;\n        _this.source = source;\n        return _this;\n    }\n    AnonymousSubject.prototype.next = function (value) {\n        var destination = this.destination;\n        if (destination && destination.next) {\n            destination.next(value);\n        }\n    };\n    AnonymousSubject.prototype.error = function (err) {\n        var destination = this.destination;\n        if (destination && destination.error) {\n            this.destination.error(err);\n        }\n    };\n    AnonymousSubject.prototype.complete = function () {\n        var destination = this.destination;\n        if (destination && destination.complete) {\n            this.destination.complete();\n        }\n    };\n    AnonymousSubject.prototype._subscribe = function (subscriber) {\n        var source = this.source;\n        if (source) {\n            return this.source.subscribe(subscriber);\n        }\n        else {\n            return Subscription_1.Subscription.EMPTY;\n        }\n    };\n    return AnonymousSubject;\n}(Subject));\nexports.AnonymousSubject = AnonymousSubject;\n//# sourceMappingURL=Subject.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Subscriber_1 = require(\"../Subscriber\");\nfunction refCount() {\n    return function refCountOperatorFunction(source) {\n        return source.lift(new RefCountOperator(source));\n    };\n}\nexports.refCount = refCount;\nvar RefCountOperator = /** @class */ (function () {\n    function RefCountOperator(connectable) {\n        this.connectable = connectable;\n    }\n    RefCountOperator.prototype.call = function (subscriber, source) {\n        var connectable = this.connectable;\n        connectable._refCount++;\n        var refCounter = new RefCountSubscriber(subscriber, connectable);\n        var subscription = source.subscribe(refCounter);\n        if (!refCounter.closed) {\n            refCounter.connection = connectable.connect();\n        }\n        return subscription;\n    };\n    return RefCountOperator;\n}());\nvar RefCountSubscriber = /** @class */ (function (_super) {\n    __extends(RefCountSubscriber, _super);\n    function RefCountSubscriber(destination, connectable) {\n        var _this = _super.call(this, destination) || this;\n        _this.connectable = connectable;\n        return _this;\n    }\n    RefCountSubscriber.prototype._unsubscribe = function () {\n        var connectable = this.connectable;\n        if (!connectable) {\n            this.connection = null;\n            return;\n        }\n        this.connectable = null;\n        var refCount = connectable._refCount;\n        if (refCount <= 0) {\n            this.connection = null;\n            return;\n        }\n        connectable._refCount = refCount - 1;\n        if (refCount > 1) {\n            this.connection = null;\n            return;\n        }\n        ///\n        // Compare the local RefCountSubscriber's connection Subscription to the\n        // connection Subscription on the shared ConnectableObservable. In cases\n        // where the ConnectableObservable source synchronously emits values, and\n        // the RefCountSubscriber's downstream Observers synchronously unsubscribe,\n        // execution continues to here before the RefCountOperator has a chance to\n        // supply the RefCountSubscriber with the shared connection Subscription.\n        // For example:\n        // ```\n        // Observable.range(0, 10)\n        //   .publish()\n        //   .refCount()\n        //   .take(5)\n        //   .subscribe();\n        // ```\n        // In order to account for this case, RefCountSubscriber should only dispose\n        // the ConnectableObservable's shared connection Subscription if the\n        // connection Subscription exists, *and* either:\n        //   a. RefCountSubscriber doesn't have a reference to the shared connection\n        //      Subscription yet, or,\n        //   b. RefCountSubscriber's connection Subscription reference is identical\n        //      to the shared connection Subscription\n        ///\n        var connection = this.connection;\n        var sharedConnection = connectable._connection;\n        this.connection = null;\n        if (sharedConnection && (!connection || sharedConnection === connection)) {\n            sharedConnection.unsubscribe();\n        }\n    };\n    return RefCountSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=refCount.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Subject_1 = require(\"../Subject\");\nvar Observable_1 = require(\"../Observable\");\nvar Subscriber_1 = require(\"../Subscriber\");\nvar Subscription_1 = require(\"../Subscription\");\nvar refCount_1 = require(\"../../internal/operators/refCount\");\n/**\n * @class ConnectableObservable<T>\n */\nvar ConnectableObservable = /** @class */ (function (_super) {\n    __extends(ConnectableObservable, _super);\n    function ConnectableObservable(source, subjectFactory) {\n        var _this = _super.call(this) || this;\n        _this.source = source;\n        _this.subjectFactory = subjectFactory;\n        _this._refCount = 0;\n        /** @internal */\n        _this._isComplete = false;\n        return _this;\n    }\n    ConnectableObservable.prototype._subscribe = function (subscriber) {\n        return this.getSubject().subscribe(subscriber);\n    };\n    ConnectableObservable.prototype.getSubject = function () {\n        var subject = this._subject;\n        if (!subject || subject.isStopped) {\n            this._subject = this.subjectFactory();\n        }\n        return this._subject;\n    };\n    ConnectableObservable.prototype.connect = function () {\n        var connection = this._connection;\n        if (!connection) {\n            this._isComplete = false;\n            connection = this._connection = new Subscription_1.Subscription();\n            connection.add(this.source\n                .subscribe(new ConnectableSubscriber(this.getSubject(), this)));\n            if (connection.closed) {\n                this._connection = null;\n                connection = Subscription_1.Subscription.EMPTY;\n            }\n            else {\n                this._connection = connection;\n            }\n        }\n        return connection;\n    };\n    ConnectableObservable.prototype.refCount = function () {\n        return refCount_1.refCount()(this);\n    };\n    return ConnectableObservable;\n}(Observable_1.Observable));\nexports.ConnectableObservable = ConnectableObservable;\nvar connectableProto = ConnectableObservable.prototype;\nexports.connectableObservableDescriptor = {\n    operator: { value: null },\n    _refCount: { value: 0, writable: true },\n    _subject: { value: null, writable: true },\n    _connection: { value: null, writable: true },\n    _subscribe: { value: connectableProto._subscribe },\n    _isComplete: { value: connectableProto._isComplete, writable: true },\n    getSubject: { value: connectableProto.getSubject },\n    connect: { value: connectableProto.connect },\n    refCount: { value: connectableProto.refCount }\n};\nvar ConnectableSubscriber = /** @class */ (function (_super) {\n    __extends(ConnectableSubscriber, _super);\n    function ConnectableSubscriber(destination, connectable) {\n        var _this = _super.call(this, destination) || this;\n        _this.connectable = connectable;\n        return _this;\n    }\n    ConnectableSubscriber.prototype._error = function (err) {\n        this._unsubscribe();\n        _super.prototype._error.call(this, err);\n    };\n    ConnectableSubscriber.prototype._complete = function () {\n        this.connectable._isComplete = true;\n        this._unsubscribe();\n        _super.prototype._complete.call(this);\n    };\n    ConnectableSubscriber.prototype._unsubscribe = function () {\n        var connectable = this.connectable;\n        if (connectable) {\n            this.connectable = null;\n            var connection = connectable._connection;\n            connectable._refCount = 0;\n            connectable._subject = null;\n            connectable._connection = null;\n            if (connection) {\n                connection.unsubscribe();\n            }\n        }\n    };\n    return ConnectableSubscriber;\n}(Subject_1.SubjectSubscriber));\nvar RefCountOperator = /** @class */ (function () {\n    function RefCountOperator(connectable) {\n        this.connectable = connectable;\n    }\n    RefCountOperator.prototype.call = function (subscriber, source) {\n        var connectable = this.connectable;\n        connectable._refCount++;\n        var refCounter = new RefCountSubscriber(subscriber, connectable);\n        var subscription = source.subscribe(refCounter);\n        if (!refCounter.closed) {\n            refCounter.connection = connectable.connect();\n        }\n        return subscription;\n    };\n    return RefCountOperator;\n}());\nvar RefCountSubscriber = /** @class */ (function (_super) {\n    __extends(RefCountSubscriber, _super);\n    function RefCountSubscriber(destination, connectable) {\n        var _this = _super.call(this, destination) || this;\n        _this.connectable = connectable;\n        return _this;\n    }\n    RefCountSubscriber.prototype._unsubscribe = function () {\n        var connectable = this.connectable;\n        if (!connectable) {\n            this.connection = null;\n            return;\n        }\n        this.connectable = null;\n        var refCount = connectable._refCount;\n        if (refCount <= 0) {\n            this.connection = null;\n            return;\n        }\n        connectable._refCount = refCount - 1;\n        if (refCount > 1) {\n            this.connection = null;\n            return;\n        }\n        ///\n        // Compare the local RefCountSubscriber's connection Subscription to the\n        // connection Subscription on the shared ConnectableObservable. In cases\n        // where the ConnectableObservable source synchronously emits values, and\n        // the RefCountSubscriber's downstream Observers synchronously unsubscribe,\n        // execution continues to here before the RefCountOperator has a chance to\n        // supply the RefCountSubscriber with the shared connection Subscription.\n        // For example:\n        // ```\n        // Observable.range(0, 10)\n        //   .publish()\n        //   .refCount()\n        //   .take(5)\n        //   .subscribe();\n        // ```\n        // In order to account for this case, RefCountSubscriber should only dispose\n        // the ConnectableObservable's shared connection Subscription if the\n        // connection Subscription exists, *and* either:\n        //   a. RefCountSubscriber doesn't have a reference to the shared connection\n        //      Subscription yet, or,\n        //   b. RefCountSubscriber's connection Subscription reference is identical\n        //      to the shared connection Subscription\n        ///\n        var connection = this.connection;\n        var sharedConnection = connectable._connection;\n        this.connection = null;\n        if (sharedConnection && (!connection || sharedConnection === connection)) {\n            sharedConnection.unsubscribe();\n        }\n    };\n    return RefCountSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=ConnectableObservable.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Subject_1 = require(\"./Subject\");\nvar ObjectUnsubscribedError_1 = require(\"./util/ObjectUnsubscribedError\");\n/**\n * @class BehaviorSubject<T>\n */\nvar BehaviorSubject = /** @class */ (function (_super) {\n    __extends(BehaviorSubject, _super);\n    function BehaviorSubject(_value) {\n        var _this = _super.call(this) || this;\n        _this._value = _value;\n        return _this;\n    }\n    Object.defineProperty(BehaviorSubject.prototype, \"value\", {\n        get: function () {\n            return this.getValue();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BehaviorSubject.prototype._subscribe = function (subscriber) {\n        var subscription = _super.prototype._subscribe.call(this, subscriber);\n        if (subscription && !subscription.closed) {\n            subscriber.next(this._value);\n        }\n        return subscription;\n    };\n    BehaviorSubject.prototype.getValue = function () {\n        if (this.hasError) {\n            throw this.thrownError;\n        }\n        else if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        else {\n            return this._value;\n        }\n    };\n    BehaviorSubject.prototype.next = function (value) {\n        _super.prototype.next.call(this, this._value = value);\n    };\n    return BehaviorSubject;\n}(Subject_1.Subject));\nexports.BehaviorSubject = BehaviorSubject;\n//# sourceMappingURL=BehaviorSubject.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Subscription_1 = require(\"../Subscription\");\n/**\n * A unit of work to be executed in a {@link Scheduler}. An action is typically\n * created from within a Scheduler and an RxJS user does not need to concern\n * themselves about creating and manipulating an Action.\n *\n * ```ts\n * class Action<T> extends Subscription {\n *   new (scheduler: Scheduler, work: (state?: T) => void);\n *   schedule(state?: T, delay: number = 0): Subscription;\n * }\n * ```\n *\n * @class Action<T>\n */\nvar Action = /** @class */ (function (_super) {\n    __extends(Action, _super);\n    function Action(scheduler, work) {\n        return _super.call(this) || this;\n    }\n    /**\n     * Schedules this action on its parent Scheduler for execution. May be passed\n     * some context object, `state`. May happen at some point in the future,\n     * according to the `delay` parameter, if specified.\n     * @param {T} [state] Some contextual data that the `work` function uses when\n     * called by the Scheduler.\n     * @param {number} [delay] Time to wait before executing the work, where the\n     * time unit is implicit and defined by the Scheduler.\n     * @return {void}\n     */\n    Action.prototype.schedule = function (state, delay) {\n        if (delay === void 0) { delay = 0; }\n        return this;\n    };\n    return Action;\n}(Subscription_1.Subscription));\nexports.Action = Action;\n//# sourceMappingURL=Action.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Action_1 = require(\"./Action\");\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar AsyncAction = /** @class */ (function (_super) {\n    __extends(AsyncAction, _super);\n    function AsyncAction(scheduler, work) {\n        var _this = _super.call(this, scheduler, work) || this;\n        _this.scheduler = scheduler;\n        _this.work = work;\n        _this.pending = false;\n        return _this;\n    }\n    AsyncAction.prototype.schedule = function (state, delay) {\n        if (delay === void 0) { delay = 0; }\n        if (this.closed) {\n            return this;\n        }\n        // Always replace the current state with the new state.\n        this.state = state;\n        var id = this.id;\n        var scheduler = this.scheduler;\n        //\n        // Important implementation note:\n        //\n        // Actions only execute once by default, unless rescheduled from within the\n        // scheduled callback. This allows us to implement single and repeat\n        // actions via the same code path, without adding API surface area, as well\n        // as mimic traditional recursion but across asynchronous boundaries.\n        //\n        // However, JS runtimes and timers distinguish between intervals achieved by\n        // serial `setTimeout` calls vs. a single `setInterval` call. An interval of\n        // serial `setTimeout` calls can be individually delayed, which delays\n        // scheduling the next `setTimeout`, and so on. `setInterval` attempts to\n        // guarantee the interval callback will be invoked more precisely to the\n        // interval period, regardless of load.\n        //\n        // Therefore, we use `setInterval` to schedule single and repeat actions.\n        // If the action reschedules itself with the same delay, the interval is not\n        // canceled. If the action doesn't reschedule, or reschedules with a\n        // different delay, the interval will be canceled after scheduled callback\n        // execution.\n        //\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, delay);\n        }\n        // Set the pending flag indicating that this action has been scheduled, or\n        // has recursively rescheduled itself.\n        this.pending = true;\n        this.delay = delay;\n        // If this action has already an async Id, don't request a new one.\n        this.id = this.id || this.requestAsyncId(scheduler, this.id, delay);\n        return this;\n    };\n    AsyncAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        return setInterval(scheduler.flush.bind(scheduler, this), delay);\n    };\n    AsyncAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        // If this action is rescheduled with the same delay time, don't clear the interval id.\n        if (delay !== null && this.delay === delay && this.pending === false) {\n            return id;\n        }\n        // Otherwise, if the action's delay time is different from the current delay,\n        // or the action has been rescheduled before it's executed, clear the interval id\n        return clearInterval(id) && undefined || undefined;\n    };\n    /**\n     * Immediately executes this action and the `work` it contains.\n     * @return {any}\n     */\n    AsyncAction.prototype.execute = function (state, delay) {\n        if (this.closed) {\n            return new Error('executing a cancelled action');\n        }\n        this.pending = false;\n        var error = this._execute(state, delay);\n        if (error) {\n            return error;\n        }\n        else if (this.pending === false && this.id != null) {\n            // Dequeue if the action didn't reschedule itself. Don't call\n            // unsubscribe(), because the action could reschedule later.\n            // For example:\n            // ```\n            // scheduler.schedule(function doWork(counter) {\n            //   /* ... I'm a busy worker bee ... */\n            //   var originalAction = this;\n            //   /* wait 100ms before rescheduling the action */\n            //   setTimeout(function () {\n            //     originalAction.schedule(counter + 1);\n            //   }, 100);\n            // }, 1000);\n            // ```\n            this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n        }\n    };\n    AsyncAction.prototype._execute = function (state, delay) {\n        var errored = false;\n        var errorValue = undefined;\n        try {\n            this.work(state);\n        }\n        catch (e) {\n            errored = true;\n            errorValue = !!e && e || new Error(e);\n        }\n        if (errored) {\n            this.unsubscribe();\n            return errorValue;\n        }\n    };\n    AsyncAction.prototype._unsubscribe = function () {\n        var id = this.id;\n        var scheduler = this.scheduler;\n        var actions = scheduler.actions;\n        var index = actions.indexOf(this);\n        this.work = null;\n        this.state = null;\n        this.pending = false;\n        this.scheduler = null;\n        if (index !== -1) {\n            actions.splice(index, 1);\n        }\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, null);\n        }\n        this.delay = null;\n    };\n    return AsyncAction;\n}(Action_1.Action));\nexports.AsyncAction = AsyncAction;\n//# sourceMappingURL=AsyncAction.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AsyncAction_1 = require(\"./AsyncAction\");\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar QueueAction = /** @class */ (function (_super) {\n    __extends(QueueAction, _super);\n    function QueueAction(scheduler, work) {\n        var _this = _super.call(this, scheduler, work) || this;\n        _this.scheduler = scheduler;\n        _this.work = work;\n        return _this;\n    }\n    QueueAction.prototype.schedule = function (state, delay) {\n        if (delay === void 0) { delay = 0; }\n        if (delay > 0) {\n            return _super.prototype.schedule.call(this, state, delay);\n        }\n        this.delay = delay;\n        this.state = state;\n        this.scheduler.flush(this);\n        return this;\n    };\n    QueueAction.prototype.execute = function (state, delay) {\n        return (delay > 0 || this.closed) ?\n            _super.prototype.execute.call(this, state, delay) :\n            this._execute(state, delay);\n    };\n    QueueAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        // If delay exists and is greater than 0, or if the delay is null (the\n        // action wasn't rescheduled) but was originally scheduled as an async\n        // action, then recycle as an async action.\n        if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {\n            return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);\n        }\n        // Otherwise flush the scheduler starting with this action.\n        return scheduler.flush(this);\n    };\n    return QueueAction;\n}(AsyncAction_1.AsyncAction));\nexports.QueueAction = QueueAction;\n//# sourceMappingURL=QueueAction.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * An execution context and a data structure to order tasks and schedule their\n * execution. Provides a notion of (potentially virtual) time, through the\n * `now()` getter method.\n *\n * Each unit of work in a Scheduler is called an {@link Action}.\n *\n * ```ts\n * class Scheduler {\n *   now(): number;\n *   schedule(work, delay?, state?): Subscription;\n * }\n * ```\n *\n * @class Scheduler\n */\nvar Scheduler = /** @class */ (function () {\n    function Scheduler(SchedulerAction, now) {\n        if (now === void 0) { now = Scheduler.now; }\n        this.SchedulerAction = SchedulerAction;\n        this.now = now;\n    }\n    /**\n     * Schedules a function, `work`, for execution. May happen at some point in\n     * the future, according to the `delay` parameter, if specified. May be passed\n     * some context object, `state`, which will be passed to the `work` function.\n     *\n     * The given arguments will be processed an stored as an Action object in a\n     * queue of actions.\n     *\n     * @param {function(state: ?T): ?Subscription} work A function representing a\n     * task, or some unit of work to be executed by the Scheduler.\n     * @param {number} [delay] Time to wait before executing the work, where the\n     * time unit is implicit and defined by the Scheduler itself.\n     * @param {T} [state] Some contextual data that the `work` function uses when\n     * called by the Scheduler.\n     * @return {Subscription} A subscription in order to be able to unsubscribe\n     * the scheduled work.\n     */\n    Scheduler.prototype.schedule = function (work, delay, state) {\n        if (delay === void 0) { delay = 0; }\n        return new this.SchedulerAction(this, work).schedule(state, delay);\n    };\n    Scheduler.now = Date.now ? Date.now : function () { return +new Date(); };\n    return Scheduler;\n}());\nexports.Scheduler = Scheduler;\n//# sourceMappingURL=Scheduler.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Scheduler_1 = require(\"../Scheduler\");\nvar AsyncScheduler = /** @class */ (function (_super) {\n    __extends(AsyncScheduler, _super);\n    function AsyncScheduler() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.actions = [];\n        /**\n         * A flag to indicate whether the Scheduler is currently executing a batch of\n         * queued actions.\n         * @type {boolean}\n         */\n        _this.active = false;\n        /**\n         * An internal ID used to track the latest asynchronous task such as those\n         * coming from `setTimeout`, `setInterval`, `requestAnimationFrame`, and\n         * others.\n         * @type {any}\n         */\n        _this.scheduled = undefined;\n        return _this;\n    }\n    AsyncScheduler.prototype.flush = function (action) {\n        var actions = this.actions;\n        if (this.active) {\n            actions.push(action);\n            return;\n        }\n        var error;\n        this.active = true;\n        do {\n            if (error = action.execute(action.state, action.delay)) {\n                break;\n            }\n        } while (action = actions.shift()); // exhaust the scheduler queue\n        this.active = false;\n        if (error) {\n            while (action = actions.shift()) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    };\n    return AsyncScheduler;\n}(Scheduler_1.Scheduler));\nexports.AsyncScheduler = AsyncScheduler;\n//# sourceMappingURL=AsyncScheduler.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AsyncScheduler_1 = require(\"./AsyncScheduler\");\nvar QueueScheduler = /** @class */ (function (_super) {\n    __extends(QueueScheduler, _super);\n    function QueueScheduler() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return QueueScheduler;\n}(AsyncScheduler_1.AsyncScheduler));\nexports.QueueScheduler = QueueScheduler;\n//# sourceMappingURL=QueueScheduler.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar QueueAction_1 = require(\"./QueueAction\");\nvar QueueScheduler_1 = require(\"./QueueScheduler\");\n/**\n *\n * Queue Scheduler\n *\n * <span class=\"informal\">Put every next task on a queue, instead of executing it immediately</span>\n *\n * `queue` scheduler, when used with delay, behaves the same as {@link async} scheduler.\n *\n * When used without delay, it schedules given task synchronously - executes it right when\n * it is scheduled. However when called recursively, that is when inside the scheduled task,\n * another task is scheduled with queue scheduler, instead of executing immediately as well,\n * that task will be put on a queue and wait for current one to finish.\n *\n * This means that when you execute task with `queue` scheduler, you are sure it will end\n * before any other task scheduled with that scheduler will start.\n *\n * @examples <caption>Schedule recursively first, then do something</caption>\n *\n * Rx.Scheduler.queue.schedule(() => {\n *   Rx.Scheduler.queue.schedule(() => console.log('second')); // will not happen now, but will be put on a queue\n *\n *   console.log('first');\n * });\n *\n * // Logs:\n * // \"first\"\n * // \"second\"\n *\n *\n * @example <caption>Reschedule itself recursively</caption>\n *\n * Rx.Scheduler.queue.schedule(function(state) {\n *   if (state !== 0) {\n *     console.log('before', state);\n *     this.schedule(state - 1); // `this` references currently executing Action,\n *                               // which we reschedule with new state\n *     console.log('after', state);\n *   }\n * }, 0, 3);\n *\n * // In scheduler that runs recursively, you would expect:\n * // \"before\", 3\n * // \"before\", 2\n * // \"before\", 1\n * // \"after\", 1\n * // \"after\", 2\n * // \"after\", 3\n *\n * // But with queue it logs:\n * // \"before\", 3\n * // \"after\", 3\n * // \"before\", 2\n * // \"after\", 2\n * // \"before\", 1\n * // \"after\", 1\n *\n *\n * @static true\n * @name queue\n * @owner Scheduler\n */\nexports.queue = new QueueScheduler_1.QueueScheduler(QueueAction_1.QueueAction);\n//# sourceMappingURL=queue.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Observable_1 = require(\"../Observable\");\n/**\n * The same Observable instance returned by any call to {@link empty} without a\n * {@link Scheduler}. It is preferrable to use this over `empty()`.\n */\nexports.EMPTY = new Observable_1.Observable(function (subscriber) { return subscriber.complete(); });\n/**\n * Creates an Observable that emits no items to the Observer and immediately\n * emits a complete notification.\n *\n * <span class=\"informal\">Just emits 'complete', and nothing else.\n * </span>\n *\n * <img src=\"./img/empty.png\" width=\"100%\">\n *\n * This static operator is useful for creating a simple Observable that only\n * emits the complete notification. It can be used for composing with other\n * Observables, such as in a {@link mergeMap}.\n *\n * @example <caption>Emit the number 7, then complete.</caption>\n * var result = Rx.Observable.empty().startWith(7);\n * result.subscribe(x => console.log(x));\n *\n * @example <caption>Map and flatten only odd numbers to the sequence 'a', 'b', 'c'</caption>\n * var interval = Rx.Observable.interval(1000);\n * var result = interval.mergeMap(x =>\n *   x % 2 === 1 ? Rx.Observable.of('a', 'b', 'c') : Rx.Observable.empty()\n * );\n * result.subscribe(x => console.log(x));\n *\n * // Results in the following to the console:\n * // x is equal to the count on the interval eg(0,1,2,3,...)\n * // x will occur every 1000ms\n * // if x % 2 is equal to 1 print abc\n * // if x % 2 is not equal to 1 nothing will be output\n *\n * @see {@link create}\n * @see {@link never}\n * @see {@link of}\n * @see {@link throw}\n *\n * @param {Scheduler} [scheduler] A {@link IScheduler} to use for scheduling\n * the emission of the complete notification.\n * @return {Observable} An \"empty\" Observable: emits only the complete\n * notification.\n * @static true\n * @name empty\n * @owner Observable\n */\nfunction empty(scheduler) {\n    return scheduler ? emptyScheduled(scheduler) : exports.EMPTY;\n}\nexports.empty = empty;\nfunction emptyScheduled(scheduler) {\n    return new Observable_1.Observable(function (subscriber) { return scheduler.schedule(function () { return subscriber.complete(); }); });\n}\nexports.emptyScheduled = emptyScheduled;\n//# sourceMappingURL=empty.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isScheduler(value) {\n    return value && typeof value.schedule === 'function';\n}\nexports.isScheduler = isScheduler;\n//# sourceMappingURL=isScheduler.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Subscribes to an ArrayLike with a subscriber\n * @param array The array or array-like to subscribe to\n * @param subscriber The subscriber to subscribe with.\n */\nexports.subscribeToArray = function (array) { return function (subscriber) {\n    for (var i = 0, len = array.length; i < len && !subscriber.closed; i++) {\n        subscriber.next(array[i]);\n    }\n    if (!subscriber.closed) {\n        subscriber.complete();\n    }\n}; };\n//# sourceMappingURL=subscribeToArray.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Observable_1 = require(\"../Observable\");\nvar Subscription_1 = require(\"../Subscription\");\nvar subscribeToArray_1 = require(\"../util/subscribeToArray\");\nfunction fromArray(input, scheduler) {\n    if (!scheduler) {\n        return new Observable_1.Observable(subscribeToArray_1.subscribeToArray(input));\n    }\n    else {\n        return new Observable_1.Observable(function (subscriber) {\n            var sub = new Subscription_1.Subscription();\n            var i = 0;\n            sub.add(scheduler.schedule(function () {\n                if (i === input.length) {\n                    subscriber.complete();\n                    return;\n                }\n                subscriber.next(input[i++]);\n                if (!subscriber.closed) {\n                    sub.add(this.schedule());\n                }\n            }));\n            return sub;\n        });\n    }\n}\nexports.fromArray = fromArray;\n//# sourceMappingURL=fromArray.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Observable_1 = require(\"../Observable\");\nfunction scalar(value) {\n    var result = new Observable_1.Observable(function (subscriber) {\n        subscriber.next(value);\n        subscriber.complete();\n    });\n    result._isScalar = true;\n    result.value = value;\n    return result;\n}\nexports.scalar = scalar;\n//# sourceMappingURL=scalar.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isScheduler_1 = require(\"../util/isScheduler\");\nvar fromArray_1 = require(\"./fromArray\");\nvar empty_1 = require(\"./empty\");\nvar scalar_1 = require(\"./scalar\");\nfunction of() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var scheduler = args[args.length - 1];\n    if (isScheduler_1.isScheduler(scheduler)) {\n        args.pop();\n    }\n    else {\n        scheduler = undefined;\n    }\n    switch (args.length) {\n        case 0:\n            return empty_1.empty(scheduler);\n        case 1:\n            return scheduler ? fromArray_1.fromArray(args, scheduler) : scalar_1.scalar(args[0]);\n        default:\n            return fromArray_1.fromArray(args, scheduler);\n    }\n}\nexports.of = of;\n//# sourceMappingURL=of.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Observable_1 = require(\"../Observable\");\n/**\n * Creates an Observable that emits no items to the Observer and immediately\n * emits an error notification.\n *\n * <span class=\"informal\">Just emits 'error', and nothing else.\n * </span>\n *\n * <img src=\"./img/throw.png\" width=\"100%\">\n *\n * This static operator is useful for creating a simple Observable that only\n * emits the error notification. It can be used for composing with other\n * Observables, such as in a {@link mergeMap}.\n *\n * @example <caption>Emit the number 7, then emit an error.</caption>\n * import { throwError, concat, of } from 'rxjs/create';\n *\n * const result = concat(of(7), throwError(new Error('oops!')));\n * result.subscribe(x => console.log(x), e => console.error(e));\n *\n * @example <caption>Map and flatten numbers to the sequence 'a', 'b', 'c', but throw an error for 13</caption>\n * import { throwError, interval, of } from 'rxjs/create';\n * import { mergeMap } from 'rxjs/operators';\n *\n * interval(1000).pipe(\n *   mergeMap(x => x === 13 ?\n *     throwError('Thirteens are bad') :\n *     of('a', 'b', 'c')\n *   )\n * ).subscribe(x => console.log(x), e => console.error(e));\n *\n * @see {@link create}\n * @see {@link empty}\n * @see {@link never}\n * @see {@link of}\n *\n * @param {any} error The particular Error to pass to the error notification.\n * @param {Scheduler} [scheduler] A {@link IScheduler} to use for scheduling\n * the emission of the error notification.\n * @return {Observable} An error Observable: emits only the error notification\n * using the given error argument.\n * @static true\n * @name throw\n * @owner Observable\n */\nfunction throwError(error, scheduler) {\n    if (!scheduler) {\n        return new Observable_1.Observable(function (subscriber) { return subscriber.error(error); });\n    }\n    else {\n        return new Observable_1.Observable(function (subscriber) { return scheduler.schedule(dispatch, 0, { error: error, subscriber: subscriber }); });\n    }\n}\nexports.throwError = throwError;\nfunction dispatch(_a) {\n    var error = _a.error, subscriber = _a.subscriber;\n    subscriber.error(error);\n}\n//# sourceMappingURL=throwError.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar empty_1 = require(\"./observable/empty\");\nvar of_1 = require(\"./observable/of\");\nvar throwError_1 = require(\"./observable/throwError\");\n/**\n * Represents a push-based event or value that an {@link Observable} can emit.\n * This class is particularly useful for operators that manage notifications,\n * like {@link materialize}, {@link dematerialize}, {@link observeOn}, and\n * others. Besides wrapping the actual delivered value, it also annotates it\n * with metadata of, for instance, what type of push message it is (`next`,\n * `error`, or `complete`).\n *\n * @see {@link materialize}\n * @see {@link dematerialize}\n * @see {@link observeOn}\n *\n * @class Notification<T>\n */\nvar Notification = /** @class */ (function () {\n    function Notification(kind, value, error) {\n        this.kind = kind;\n        this.value = value;\n        this.error = error;\n        this.hasValue = kind === 'N';\n    }\n    /**\n     * Delivers to the given `observer` the value wrapped by this Notification.\n     * @param {Observer} observer\n     * @return\n     */\n    Notification.prototype.observe = function (observer) {\n        switch (this.kind) {\n            case 'N':\n                return observer.next && observer.next(this.value);\n            case 'E':\n                return observer.error && observer.error(this.error);\n            case 'C':\n                return observer.complete && observer.complete();\n        }\n    };\n    /**\n     * Given some {@link Observer} callbacks, deliver the value represented by the\n     * current Notification to the correctly corresponding callback.\n     * @param {function(value: T): void} next An Observer `next` callback.\n     * @param {function(err: any): void} [error] An Observer `error` callback.\n     * @param {function(): void} [complete] An Observer `complete` callback.\n     * @return {any}\n     */\n    Notification.prototype.do = function (next, error, complete) {\n        var kind = this.kind;\n        switch (kind) {\n            case 'N':\n                return next && next(this.value);\n            case 'E':\n                return error && error(this.error);\n            case 'C':\n                return complete && complete();\n        }\n    };\n    /**\n     * Takes an Observer or its individual callback functions, and calls `observe`\n     * or `do` methods accordingly.\n     * @param {Observer|function(value: T): void} nextOrObserver An Observer or\n     * the `next` callback.\n     * @param {function(err: any): void} [error] An Observer `error` callback.\n     * @param {function(): void} [complete] An Observer `complete` callback.\n     * @return {any}\n     */\n    Notification.prototype.accept = function (nextOrObserver, error, complete) {\n        if (nextOrObserver && typeof nextOrObserver.next === 'function') {\n            return this.observe(nextOrObserver);\n        }\n        else {\n            return this.do(nextOrObserver, error, complete);\n        }\n    };\n    /**\n     * Returns a simple Observable that just delivers the notification represented\n     * by this Notification instance.\n     * @return {any}\n     */\n    Notification.prototype.toObservable = function () {\n        var kind = this.kind;\n        switch (kind) {\n            case 'N':\n                return of_1.of(this.value);\n            case 'E':\n                return throwError_1.throwError(this.error);\n            case 'C':\n                return empty_1.empty();\n        }\n        throw new Error('unexpected notification kind value');\n    };\n    /**\n     * A shortcut to create a Notification instance of the type `next` from a\n     * given value.\n     * @param {T} value The `next` value.\n     * @return {Notification<T>} The \"next\" Notification representing the\n     * argument.\n     */\n    Notification.createNext = function (value) {\n        if (typeof value !== 'undefined') {\n            return new Notification('N', value);\n        }\n        return Notification.undefinedValueNotification;\n    };\n    /**\n     * A shortcut to create a Notification instance of the type `error` from a\n     * given error.\n     * @param {any} [err] The `error` error.\n     * @return {Notification<T>} The \"error\" Notification representing the\n     * argument.\n     */\n    Notification.createError = function (err) {\n        return new Notification('E', undefined, err);\n    };\n    /**\n     * A shortcut to create a Notification instance of the type `complete`.\n     * @return {Notification<any>} The valueless \"complete\" Notification.\n     */\n    Notification.createComplete = function () {\n        return Notification.completeNotification;\n    };\n    Notification.completeNotification = new Notification('C');\n    Notification.undefinedValueNotification = new Notification('N', undefined);\n    return Notification;\n}());\nexports.Notification = Notification;\n//# sourceMappingURL=Notification.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Subscriber_1 = require(\"../Subscriber\");\nvar Notification_1 = require(\"../Notification\");\n/**\n *\n * Re-emits all notifications from source Observable with specified scheduler.\n *\n * <span class=\"informal\">Ensure a specific scheduler is used, from outside of an Observable.</span>\n *\n * `observeOn` is an operator that accepts a scheduler as a first parameter, which will be used to reschedule\n * notifications emitted by the source Observable. It might be useful, if you do not have control over\n * internal scheduler of a given Observable, but want to control when its values are emitted nevertheless.\n *\n * Returned Observable emits the same notifications (nexted values, complete and error events) as the source Observable,\n * but rescheduled with provided scheduler. Note that this doesn't mean that source Observables internal\n * scheduler will be replaced in any way. Original scheduler still will be used, but when the source Observable emits\n * notification, it will be immediately scheduled again - this time with scheduler passed to `observeOn`.\n * An anti-pattern would be calling `observeOn` on Observable that emits lots of values synchronously, to split\n * that emissions into asynchronous chunks. For this to happen, scheduler would have to be passed into the source\n * Observable directly (usually into the operator that creates it). `observeOn` simply delays notifications a\n * little bit more, to ensure that they are emitted at expected moments.\n *\n * As a matter of fact, `observeOn` accepts second parameter, which specifies in milliseconds with what delay notifications\n * will be emitted. The main difference between {@link delay} operator and `observeOn` is that `observeOn`\n * will delay all notifications - including error notifications - while `delay` will pass through error\n * from source Observable immediately when it is emitted. In general it is highly recommended to use `delay` operator\n * for any kind of delaying of values in the stream, while using `observeOn` to specify which scheduler should be used\n * for notification emissions in general.\n *\n * @example <caption>Ensure values in subscribe are called just before browser repaint.</caption>\n * const intervals = Rx.Observable.interval(10); // Intervals are scheduled\n *                                               // with async scheduler by default...\n *\n * intervals\n * .observeOn(Rx.Scheduler.animationFrame)       // ...but we will observe on animationFrame\n * .subscribe(val => {                           // scheduler to ensure smooth animation.\n *   someDiv.style.height = val + 'px';\n * });\n *\n * @see {@link delay}\n *\n * @param {SchedulerLike} scheduler Scheduler that will be used to reschedule notifications from source Observable.\n * @param {number} [delay] Number of milliseconds that states with what delay every notification should be rescheduled.\n * @return {Observable<T>} Observable that emits the same notifications as the source Observable,\n * but with provided scheduler.\n *\n * @method observeOn\n * @owner Observable\n */\nfunction observeOn(scheduler, delay) {\n    if (delay === void 0) { delay = 0; }\n    return function observeOnOperatorFunction(source) {\n        return source.lift(new ObserveOnOperator(scheduler, delay));\n    };\n}\nexports.observeOn = observeOn;\nvar ObserveOnOperator = /** @class */ (function () {\n    function ObserveOnOperator(scheduler, delay) {\n        if (delay === void 0) { delay = 0; }\n        this.scheduler = scheduler;\n        this.delay = delay;\n    }\n    ObserveOnOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ObserveOnSubscriber(subscriber, this.scheduler, this.delay));\n    };\n    return ObserveOnOperator;\n}());\nexports.ObserveOnOperator = ObserveOnOperator;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar ObserveOnSubscriber = /** @class */ (function (_super) {\n    __extends(ObserveOnSubscriber, _super);\n    function ObserveOnSubscriber(destination, scheduler, delay) {\n        if (delay === void 0) { delay = 0; }\n        var _this = _super.call(this, destination) || this;\n        _this.scheduler = scheduler;\n        _this.delay = delay;\n        return _this;\n    }\n    ObserveOnSubscriber.dispatch = function (arg) {\n        var notification = arg.notification, destination = arg.destination;\n        notification.observe(destination);\n        this.unsubscribe();\n    };\n    ObserveOnSubscriber.prototype.scheduleMessage = function (notification) {\n        this.add(this.scheduler.schedule(ObserveOnSubscriber.dispatch, this.delay, new ObserveOnMessage(notification, this.destination)));\n    };\n    ObserveOnSubscriber.prototype._next = function (value) {\n        this.scheduleMessage(Notification_1.Notification.createNext(value));\n    };\n    ObserveOnSubscriber.prototype._error = function (err) {\n        this.scheduleMessage(Notification_1.Notification.createError(err));\n    };\n    ObserveOnSubscriber.prototype._complete = function () {\n        this.scheduleMessage(Notification_1.Notification.createComplete());\n    };\n    return ObserveOnSubscriber;\n}(Subscriber_1.Subscriber));\nexports.ObserveOnSubscriber = ObserveOnSubscriber;\nvar ObserveOnMessage = /** @class */ (function () {\n    function ObserveOnMessage(notification, destination) {\n        this.notification = notification;\n        this.destination = destination;\n    }\n    return ObserveOnMessage;\n}());\nexports.ObserveOnMessage = ObserveOnMessage;\n//# sourceMappingURL=observeOn.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Subject_1 = require(\"./Subject\");\nvar queue_1 = require(\"./scheduler/queue\");\nvar Subscription_1 = require(\"./Subscription\");\nvar observeOn_1 = require(\"./operators/observeOn\");\nvar ObjectUnsubscribedError_1 = require(\"./util/ObjectUnsubscribedError\");\nvar SubjectSubscription_1 = require(\"./SubjectSubscription\");\n/**\n * @class ReplaySubject<T>\n */\nvar ReplaySubject = /** @class */ (function (_super) {\n    __extends(ReplaySubject, _super);\n    function ReplaySubject(bufferSize, windowTime, scheduler) {\n        if (bufferSize === void 0) { bufferSize = Number.POSITIVE_INFINITY; }\n        if (windowTime === void 0) { windowTime = Number.POSITIVE_INFINITY; }\n        var _this = _super.call(this) || this;\n        _this.scheduler = scheduler;\n        _this._events = [];\n        _this._bufferSize = bufferSize < 1 ? 1 : bufferSize;\n        _this._windowTime = windowTime < 1 ? 1 : windowTime;\n        return _this;\n    }\n    ReplaySubject.prototype.next = function (value) {\n        var now = this._getNow();\n        this._events.push(new ReplayEvent(now, value));\n        this._trimBufferThenGetEvents();\n        _super.prototype.next.call(this, value);\n    };\n    ReplaySubject.prototype._subscribe = function (subscriber) {\n        var _events = this._trimBufferThenGetEvents();\n        var scheduler = this.scheduler;\n        var subscription;\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        else if (this.hasError) {\n            subscription = Subscription_1.Subscription.EMPTY;\n        }\n        else if (this.isStopped) {\n            subscription = Subscription_1.Subscription.EMPTY;\n        }\n        else {\n            this.observers.push(subscriber);\n            subscription = new SubjectSubscription_1.SubjectSubscription(this, subscriber);\n        }\n        if (scheduler) {\n            subscriber.add(subscriber = new observeOn_1.ObserveOnSubscriber(subscriber, scheduler));\n        }\n        var len = _events.length;\n        for (var i = 0; i < len && !subscriber.closed; i++) {\n            subscriber.next(_events[i].value);\n        }\n        if (this.hasError) {\n            subscriber.error(this.thrownError);\n        }\n        else if (this.isStopped) {\n            subscriber.complete();\n        }\n        return subscription;\n    };\n    ReplaySubject.prototype._getNow = function () {\n        return (this.scheduler || queue_1.queue).now();\n    };\n    ReplaySubject.prototype._trimBufferThenGetEvents = function () {\n        var now = this._getNow();\n        var _bufferSize = this._bufferSize;\n        var _windowTime = this._windowTime;\n        var _events = this._events;\n        var eventsCount = _events.length;\n        var spliceCount = 0;\n        // Trim events that fall out of the time window.\n        // Start at the front of the list. Break early once\n        // we encounter an event that falls within the window.\n        while (spliceCount < eventsCount) {\n            if ((now - _events[spliceCount].time) < _windowTime) {\n                break;\n            }\n            spliceCount++;\n        }\n        if (eventsCount > _bufferSize) {\n            spliceCount = Math.max(spliceCount, eventsCount - _bufferSize);\n        }\n        if (spliceCount > 0) {\n            _events.splice(0, spliceCount);\n        }\n        return _events;\n    };\n    return ReplaySubject;\n}(Subject_1.Subject));\nexports.ReplaySubject = ReplaySubject;\nvar ReplayEvent = /** @class */ (function () {\n    function ReplayEvent(time, value) {\n        this.time = time;\n        this.value = value;\n    }\n    return ReplayEvent;\n}());\n//# sourceMappingURL=ReplaySubject.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Subject_1 = require(\"./Subject\");\nvar Subscription_1 = require(\"./Subscription\");\n/**\n * @class AsyncSubject<T>\n */\nvar AsyncSubject = /** @class */ (function (_super) {\n    __extends(AsyncSubject, _super);\n    function AsyncSubject() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.value = null;\n        _this.hasNext = false;\n        _this.hasCompleted = false;\n        return _this;\n    }\n    AsyncSubject.prototype._subscribe = function (subscriber) {\n        if (this.hasError) {\n            subscriber.error(this.thrownError);\n            return Subscription_1.Subscription.EMPTY;\n        }\n        else if (this.hasCompleted && this.hasNext) {\n            subscriber.next(this.value);\n            subscriber.complete();\n            return Subscription_1.Subscription.EMPTY;\n        }\n        return _super.prototype._subscribe.call(this, subscriber);\n    };\n    AsyncSubject.prototype.next = function (value) {\n        if (!this.hasCompleted) {\n            this.value = value;\n            this.hasNext = true;\n        }\n    };\n    AsyncSubject.prototype.error = function (error) {\n        if (!this.hasCompleted) {\n            _super.prototype.error.call(this, error);\n        }\n    };\n    AsyncSubject.prototype.complete = function () {\n        this.hasCompleted = true;\n        if (this.hasNext) {\n            _super.prototype.next.call(this, this.value);\n        }\n        _super.prototype.complete.call(this);\n    };\n    return AsyncSubject;\n}(Subject_1.Subject));\nexports.AsyncSubject = AsyncSubject;\n//# sourceMappingURL=AsyncSubject.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar nextHandle = 0;\nvar tasksByHandle = {};\nfunction runIfPresent(handle) {\n    var cb = tasksByHandle[handle];\n    if (cb) {\n        cb();\n    }\n}\nexports.Immediate = {\n    setImmediate: function (cb) {\n        var handle = nextHandle++;\n        tasksByHandle[handle] = cb;\n        Promise.resolve().then(function () { return runIfPresent(handle); });\n        return handle;\n    },\n    clearImmediate: function (handle) {\n        delete tasksByHandle[handle];\n    },\n};\n//# sourceMappingURL=Immediate.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Immediate_1 = require(\"../util/Immediate\");\nvar AsyncAction_1 = require(\"./AsyncAction\");\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar AsapAction = /** @class */ (function (_super) {\n    __extends(AsapAction, _super);\n    function AsapAction(scheduler, work) {\n        var _this = _super.call(this, scheduler, work) || this;\n        _this.scheduler = scheduler;\n        _this.work = work;\n        return _this;\n    }\n    AsapAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        // If delay is greater than 0, request as an async action.\n        if (delay !== null && delay > 0) {\n            return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);\n        }\n        // Push the action to the end of the scheduler queue.\n        scheduler.actions.push(this);\n        // If a microtask has already been scheduled, don't schedule another\n        // one. If a microtask hasn't been scheduled yet, schedule one now. Return\n        // the current scheduled microtask id.\n        return scheduler.scheduled || (scheduler.scheduled = Immediate_1.Immediate.setImmediate(scheduler.flush.bind(scheduler, null)));\n    };\n    AsapAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        // If delay exists and is greater than 0, or if the delay is null (the\n        // action wasn't rescheduled) but was originally scheduled as an async\n        // action, then recycle as an async action.\n        if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {\n            return _super.prototype.recycleAsyncId.call(this, scheduler, id, delay);\n        }\n        // If the scheduler queue is empty, cancel the requested microtask and\n        // set the scheduled flag to undefined so the next AsapAction will schedule\n        // its own.\n        if (scheduler.actions.length === 0) {\n            Immediate_1.Immediate.clearImmediate(id);\n            scheduler.scheduled = undefined;\n        }\n        // Return undefined so the action knows to request a new async id if it's rescheduled.\n        return undefined;\n    };\n    return AsapAction;\n}(AsyncAction_1.AsyncAction));\nexports.AsapAction = AsapAction;\n//# sourceMappingURL=AsapAction.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AsyncScheduler_1 = require(\"./AsyncScheduler\");\nvar AsapScheduler = /** @class */ (function (_super) {\n    __extends(AsapScheduler, _super);\n    function AsapScheduler() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AsapScheduler.prototype.flush = function (action) {\n        this.active = true;\n        this.scheduled = undefined;\n        var actions = this.actions;\n        var error;\n        var index = -1;\n        var count = actions.length;\n        action = action || actions.shift();\n        do {\n            if (error = action.execute(action.state, action.delay)) {\n                break;\n            }\n        } while (++index < count && (action = actions.shift()));\n        this.active = false;\n        if (error) {\n            while (++index < count && (action = actions.shift())) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    };\n    return AsapScheduler;\n}(AsyncScheduler_1.AsyncScheduler));\nexports.AsapScheduler = AsapScheduler;\n//# sourceMappingURL=AsapScheduler.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AsapAction_1 = require(\"./AsapAction\");\nvar AsapScheduler_1 = require(\"./AsapScheduler\");\n/**\n *\n * Asap Scheduler\n *\n * <span class=\"informal\">Perform task as fast as it can be performed asynchronously</span>\n *\n * `asap` scheduler behaves the same as {@link async} scheduler when you use it to delay task\n * in time. If however you set delay to `0`, `asap` will wait for current synchronously executing\n * code to end and then it will try to execute given task as fast as possible.\n *\n * `asap` scheduler will do its best to minimize time between end of currently executing code\n * and start of scheduled task. This makes it best candidate for performing so called \"deferring\".\n * Traditionally this was achieved by calling `setTimeout(deferredTask, 0)`, but that technique involves\n * some (although minimal) unwanted delay.\n *\n * Note that using `asap` scheduler does not necessarily mean that your task will be first to process\n * after currently executing code. In particular, if some task was also scheduled with `asap` before,\n * that task will execute first. That being said, if you need to schedule task asynchronously, but\n * as soon as possible, `asap` scheduler is your best bet.\n *\n * @example <caption>Compare async and asap scheduler</caption>\n *\n * Rx.Scheduler.async.schedule(() => console.log('async')); // scheduling 'async' first...\n * Rx.Scheduler.asap.schedule(() => console.log('asap'));\n *\n * // Logs:\n * // \"asap\"\n * // \"async\"\n * // ... but 'asap' goes first!\n *\n * @static true\n * @name asap\n * @owner Scheduler\n */\nexports.asap = new AsapScheduler_1.AsapScheduler(AsapAction_1.AsapAction);\n//# sourceMappingURL=asap.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AsyncAction_1 = require(\"./AsyncAction\");\nvar AsyncScheduler_1 = require(\"./AsyncScheduler\");\n/**\n *\n * Async Scheduler\n *\n * <span class=\"informal\">Schedule task as if you used setTimeout(task, duration)</span>\n *\n * `async` scheduler schedules tasks asynchronously, by putting them on the JavaScript\n * event loop queue. It is best used to delay tasks in time or to schedule tasks repeating\n * in intervals.\n *\n * If you just want to \"defer\" task, that is to perform it right after currently\n * executing synchronous code ends (commonly achieved by `setTimeout(deferredTask, 0)`),\n * better choice will be the {@link asap} scheduler.\n *\n * @example <caption>Use async scheduler to delay task</caption>\n * const task = () => console.log('it works!');\n *\n * Rx.Scheduler.async.schedule(task, 2000);\n *\n * // After 2 seconds logs:\n * // \"it works!\"\n *\n *\n * @example <caption>Use async scheduler to repeat task in intervals</caption>\n * function task(state) {\n *   console.log(state);\n *   this.schedule(state + 1, 1000); // `this` references currently executing Action,\n *                                   // which we reschedule with new state and delay\n * }\n *\n * Rx.Scheduler.async.schedule(task, 3000, 0);\n *\n * // Logs:\n * // 0 after 3s\n * // 1 after 4s\n * // 2 after 5s\n * // 3 after 6s\n *\n * @static true\n * @name async\n * @owner Scheduler\n */\nexports.async = new AsyncScheduler_1.AsyncScheduler(AsyncAction_1.AsyncAction);\n//# sourceMappingURL=async.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AsyncAction_1 = require(\"./AsyncAction\");\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar AnimationFrameAction = /** @class */ (function (_super) {\n    __extends(AnimationFrameAction, _super);\n    function AnimationFrameAction(scheduler, work) {\n        var _this = _super.call(this, scheduler, work) || this;\n        _this.scheduler = scheduler;\n        _this.work = work;\n        return _this;\n    }\n    AnimationFrameAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        // If delay is greater than 0, request as an async action.\n        if (delay !== null && delay > 0) {\n            return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);\n        }\n        // Push the action to the end of the scheduler queue.\n        scheduler.actions.push(this);\n        // If an animation frame has already been requested, don't request another\n        // one. If an animation frame hasn't been requested yet, request one. Return\n        // the current animation frame request id.\n        return scheduler.scheduled || (scheduler.scheduled = requestAnimationFrame(function () { return scheduler.flush(null); }));\n    };\n    AnimationFrameAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        // If delay exists and is greater than 0, or if the delay is null (the\n        // action wasn't rescheduled) but was originally scheduled as an async\n        // action, then recycle as an async action.\n        if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {\n            return _super.prototype.recycleAsyncId.call(this, scheduler, id, delay);\n        }\n        // If the scheduler queue is empty, cancel the requested animation frame and\n        // set the scheduled flag to undefined so the next AnimationFrameAction will\n        // request its own.\n        if (scheduler.actions.length === 0) {\n            cancelAnimationFrame(id);\n            scheduler.scheduled = undefined;\n        }\n        // Return undefined so the action knows to request a new async id if it's rescheduled.\n        return undefined;\n    };\n    return AnimationFrameAction;\n}(AsyncAction_1.AsyncAction));\nexports.AnimationFrameAction = AnimationFrameAction;\n//# sourceMappingURL=AnimationFrameAction.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AsyncScheduler_1 = require(\"./AsyncScheduler\");\nvar AnimationFrameScheduler = /** @class */ (function (_super) {\n    __extends(AnimationFrameScheduler, _super);\n    function AnimationFrameScheduler() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AnimationFrameScheduler.prototype.flush = function (action) {\n        this.active = true;\n        this.scheduled = undefined;\n        var actions = this.actions;\n        var error;\n        var index = -1;\n        var count = actions.length;\n        action = action || actions.shift();\n        do {\n            if (error = action.execute(action.state, action.delay)) {\n                break;\n            }\n        } while (++index < count && (action = actions.shift()));\n        this.active = false;\n        if (error) {\n            while (++index < count && (action = actions.shift())) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    };\n    return AnimationFrameScheduler;\n}(AsyncScheduler_1.AsyncScheduler));\nexports.AnimationFrameScheduler = AnimationFrameScheduler;\n//# sourceMappingURL=AnimationFrameScheduler.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AnimationFrameAction_1 = require(\"./AnimationFrameAction\");\nvar AnimationFrameScheduler_1 = require(\"./AnimationFrameScheduler\");\n/**\n *\n * Animation Frame Scheduler\n *\n * <span class=\"informal\">Perform task when `window.requestAnimationFrame` would fire</span>\n *\n * When `animationFrame` scheduler is used with delay, it will fall back to {@link async} scheduler\n * behaviour.\n *\n * Without delay, `animationFrame` scheduler can be used to create smooth browser animations.\n * It makes sure scheduled task will happen just before next browser content repaint,\n * thus performing animations as efficiently as possible.\n *\n * @example <caption>Schedule div height animation</caption>\n * const div = document.querySelector('.some-div');\n *\n * Rx.Scheduler.animationFrame.schedule(function(height) {\n *   div.style.height = height + \"px\";\n *\n *   this.schedule(height + 1);  // `this` references currently executing Action,\n *                               // which we reschedule with new state\n * }, 0, 0);\n *\n * // You will see .some-div element growing in height\n *\n *\n * @static true\n * @name animationFrame\n * @owner Scheduler\n */\nexports.animationFrame = new AnimationFrameScheduler_1.AnimationFrameScheduler(AnimationFrameAction_1.AnimationFrameAction);\n//# sourceMappingURL=animationFrame.js.map","'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AsyncAction_1 = require(\"./AsyncAction\");\nvar AsyncScheduler_1 = require(\"./AsyncScheduler\");\nvar VirtualTimeScheduler = /** @class */ (function (_super) {\n    __extends(VirtualTimeScheduler, _super);\n    function VirtualTimeScheduler(SchedulerAction, maxFrames) {\n        if (SchedulerAction === void 0) { SchedulerAction = VirtualAction; }\n        if (maxFrames === void 0) { maxFrames = Number.POSITIVE_INFINITY; }\n        var _this = _super.call(this, SchedulerAction, function () { return _this.frame; }) || this;\n        _this.maxFrames = maxFrames;\n        _this.frame = 0;\n        _this.index = -1;\n        return _this;\n    }\n    /**\n     * Prompt the Scheduler to execute all of its queued actions, therefore\n     * clearing its queue.\n     * @return {void}\n     */\n    VirtualTimeScheduler.prototype.flush = function () {\n        var _a = this, actions = _a.actions, maxFrames = _a.maxFrames;\n        var error, action;\n        while ((action = actions.shift()) && (this.frame = action.delay) <= maxFrames) {\n            if (error = action.execute(action.state, action.delay)) {\n                break;\n            }\n        }\n        if (error) {\n            while (action = actions.shift()) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    };\n    VirtualTimeScheduler.frameTimeFactor = 10;\n    return VirtualTimeScheduler;\n}(AsyncScheduler_1.AsyncScheduler));\nexports.VirtualTimeScheduler = VirtualTimeScheduler;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar VirtualAction = /** @class */ (function (_super) {\n    __extends(VirtualAction, _super);\n    function VirtualAction(scheduler, work, index) {\n        if (index === void 0) { index = scheduler.index += 1; }\n        var _this = _super.call(this, scheduler, work) || this;\n        _this.scheduler = scheduler;\n        _this.work = work;\n        _this.index = index;\n        _this.active = true;\n        _this.index = scheduler.index = index;\n        return _this;\n    }\n    VirtualAction.prototype.schedule = function (state, delay) {\n        if (delay === void 0) { delay = 0; }\n        if (!this.id) {\n            return _super.prototype.schedule.call(this, state, delay);\n        }\n        this.active = false;\n        // If an action is rescheduled, we save allocations by mutating its state,\n        // pushing it to the end of the scheduler queue, and recycling the action.\n        // But since the VirtualTimeScheduler is used for testing, VirtualActions\n        // must be immutable so they can be inspected later.\n        var action = new VirtualAction(this.scheduler, this.work);\n        this.add(action);\n        return action.schedule(state, delay);\n    };\n    VirtualAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        this.delay = scheduler.frame + delay;\n        var actions = scheduler.actions;\n        actions.push(this);\n        actions.sort(VirtualAction.sortActions);\n        return true;\n    };\n    VirtualAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        return undefined;\n    };\n    VirtualAction.prototype._execute = function (state, delay) {\n        if (this.active === true) {\n            return _super.prototype._execute.call(this, state, delay);\n        }\n    };\n    VirtualAction.sortActions = function (a, b) {\n        if (a.delay === b.delay) {\n            if (a.index === b.index) {\n                return 0;\n            }\n            else if (a.index > b.index) {\n                return 1;\n            }\n            else {\n                return -1;\n            }\n        }\n        else if (a.delay > b.delay) {\n            return 1;\n        }\n        else {\n            return -1;\n        }\n    };\n    return VirtualAction;\n}(AsyncAction_1.AsyncAction));\nexports.VirtualAction = VirtualAction;\n//# sourceMappingURL=VirtualTimeScheduler.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction identity(x) {\n    return x;\n}\nexports.identity = identity;\n//# sourceMappingURL=identity.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * An error thrown when an element was queried at a certain index of an\n * Observable, but no such index or position exists in that sequence.\n *\n * @see {@link elementAt}\n * @see {@link take}\n * @see {@link takeLast}\n *\n * @class ArgumentOutOfRangeError\n */\nvar ArgumentOutOfRangeError = /** @class */ (function (_super) {\n    __extends(ArgumentOutOfRangeError, _super);\n    function ArgumentOutOfRangeError() {\n        var _this = _super.call(this, 'argument out of range') || this;\n        _this.name = 'ArgumentOutOfRangeError';\n        Object.setPrototypeOf(_this, ArgumentOutOfRangeError.prototype);\n        return _this;\n    }\n    return ArgumentOutOfRangeError;\n}(Error));\nexports.ArgumentOutOfRangeError = ArgumentOutOfRangeError;\n//# sourceMappingURL=ArgumentOutOfRangeError.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * An error thrown when an Observable or a sequence was queried but has no\n * elements.\n *\n * @see {@link first}\n * @see {@link last}\n * @see {@link single}\n *\n * @class EmptyError\n */\nvar EmptyError = /** @class */ (function (_super) {\n    __extends(EmptyError, _super);\n    function EmptyError() {\n        var _this = _super.call(this, 'no elements in sequence') || this;\n        _this.name = 'EmptyError';\n        Object.setPrototypeOf(_this, EmptyError.prototype);\n        return _this;\n    }\n    return EmptyError;\n}(Error));\nexports.EmptyError = EmptyError;\n//# sourceMappingURL=EmptyError.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * An error thrown when duetime elapses.\n *\n * @see {@link timeout}\n *\n * @class TimeoutError\n */\nvar TimeoutError = /** @class */ (function (_super) {\n    __extends(TimeoutError, _super);\n    function TimeoutError() {\n        var _this = _super.call(this, 'Timeout has occurred') || this;\n        Object.setPrototypeOf(_this, TimeoutError.prototype);\n        return _this;\n    }\n    return TimeoutError;\n}(Error));\nexports.TimeoutError = TimeoutError;\n//# sourceMappingURL=TimeoutError.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Observable_1 = require(\"../Observable\");\nvar AsyncSubject_1 = require(\"../AsyncSubject\");\n// tslint:enable:max-line-length\n/**\n * Converts a callback API to a function that returns an Observable.\n *\n * <span class=\"informal\">Give it a function `f` of type `f(x, callback)` and\n * it will return a function `g` that when called as `g(x)` will output an\n * Observable.</span>\n *\n * `bindCallback` is not an operator because its input and output are not\n * Observables. The input is a function `func` with some parameters, the\n * last parameter must be a callback function that `func` calls when it is\n * done.\n *\n * The output of `bindCallback` is a function that takes the same parameters\n * as `func`, except the last one (the callback). When the output function\n * is called with arguments it will return an Observable. If function `func`\n * calls its callback with one argument the Observable will emit that value.\n * If on the other hand the callback is called with multiple values the resulting\n * Observable will emit an array with said values as arguments.\n *\n * It is very important to remember that input function `func` is not called\n * when the output function is, but rather when the Observable returned by the output\n * function is subscribed. This means if `func` makes an AJAX request, that request\n * will be made every time someone subscribes to the resulting Observable, but not before.\n *\n * The last optional parameter - {@link Scheduler} - can be used to control when the call\n * to `func` happens after someone subscribes to Observable, as well as when results\n * passed to callback will be emitted. By default, the subscription to  an Observable calls `func`\n * synchronously, but using `Scheduler.async` as the last parameter will defer the call to `func`,\n * just like wrapping the call in `setTimeout` with a timeout of `0` would. If you use the async Scheduler\n * and call `subscribe` on the output Observable all function calls that are currently executing\n * will end before `func` is invoked.\n *\n * By default results passed to the callback are emitted immediately after `func` invokes the callback.\n * In particular, if the callback is called synchronously the subscription of the resulting Observable\n * will call the `next` function synchronously as well.  If you want to defer that call,\n * you may use `Scheduler.async` just as before.  This means that by using `Scheduler.async` you can\n * ensure that `func` always calls its callback asynchronously, thus avoiding terrifying Zalgo.\n *\n * Note that the Observable created by the output function will always emit a single value\n * and then complete immediately. If `func` calls the callback multiple times, values from subsequent\n * calls will not appear in the stream. If you need to listen for multiple calls,\n *  you probably want to use {@link fromEvent} or {@link fromEventPattern} instead.\n *\n * If `func` depends on some context (`this` property) and is not already bound the context of `func`\n * will be the context that the output function has at call time. In particular, if `func`\n * is called as a method of some objec and if `func` is not already bound, in order to preserve the context\n * it is recommended that the context of the output function is set to that object as well.\n *\n * If the input function calls its callback in the \"node style\" (i.e. first argument to callback is\n * optional error parameter signaling whether the call failed or not), {@link bindNodeCallback}\n * provides convenient error handling and probably is a better choice.\n * `bindCallback` will treat such functions the same as any other and error parameters\n * (whether passed or not) will always be interpreted as regular callback argument.\n *\n *\n * @example <caption>Convert jQuery's getJSON to an Observable API</caption>\n * // Suppose we have jQuery.getJSON('/my/url', callback)\n * var getJSONAsObservable = bindCallback(jQuery.getJSON);\n * var result = getJSONAsObservable('/my/url');\n * result.subscribe(x => console.log(x), e => console.error(e));\n *\n *\n * @example <caption>Receive an array of arguments passed to a callback</caption>\n * someFunction((a, b, c) => {\n *   console.log(a); // 5\n *   console.log(b); // 'some string'\n *   console.log(c); // {someProperty: 'someValue'}\n * });\n *\n * const boundSomeFunction = bindCallback(someFunction);\n * boundSomeFunction().subscribe(values => {\n *   console.log(values) // [5, 'some string', {someProperty: 'someValue'}]\n * });\n *\n *\n * @example <caption>Compare behaviour with and without async Scheduler</caption>\n * function iCallMyCallbackSynchronously(cb) {\n *   cb();\n * }\n *\n * const boundSyncFn = bindCallback(iCallMyCallbackSynchronously);\n * const boundAsyncFn = bindCallback(iCallMyCallbackSynchronously, null, Rx.Scheduler.async);\n *\n * boundSyncFn().subscribe(() => console.log('I was sync!'));\n * boundAsyncFn().subscribe(() => console.log('I was async!'));\n * console.log('This happened...');\n *\n * // Logs:\n * // I was sync!\n * // This happened...\n * // I was async!\n *\n *\n * @example <caption>Use bindCallback on an object method</caption>\n * const boundMethod = bindCallback(someObject.methodWithCallback);\n * boundMethod.call(someObject) // make sure methodWithCallback has access to someObject\n * .subscribe(subscriber);\n *\n *\n * @see {@link bindNodeCallback}\n * @see {@link from}\n * @see {@link fromPromise}\n *\n * @param {function} func A function with a callback as the last parameter.\n * @param {Scheduler} [scheduler] The scheduler on which to schedule the\n * callbacks.\n * @return {function(...params: *): Observable} A function which returns the\n * Observable that delivers the same values the callback would deliver.\n * @name bindCallback\n */\nfunction bindCallback(callbackFunc, scheduler) {\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var context = this;\n        var subject;\n        var params = {\n            context: context,\n            subject: subject,\n            callbackFunc: callbackFunc,\n            scheduler: scheduler,\n        };\n        return new Observable_1.Observable(function (subscriber) {\n            if (!scheduler) {\n                if (!subject) {\n                    subject = new AsyncSubject_1.AsyncSubject();\n                    var handler = function () {\n                        var innerArgs = [];\n                        for (var _i = 0; _i < arguments.length; _i++) {\n                            innerArgs[_i] = arguments[_i];\n                        }\n                        subject.next(innerArgs.length <= 1 ? innerArgs[0] : innerArgs);\n                        subject.complete();\n                    };\n                    try {\n                        callbackFunc.apply(context, args.concat([handler]));\n                    }\n                    catch (err) {\n                        subject.error(err);\n                    }\n                }\n                return subject.subscribe(subscriber);\n            }\n            else {\n                var state = {\n                    args: args, subscriber: subscriber, params: params,\n                };\n                return scheduler.schedule(dispatch, 0, state);\n            }\n        });\n    };\n}\nexports.bindCallback = bindCallback;\nfunction dispatch(state) {\n    var _this = this;\n    var self = this;\n    var args = state.args, subscriber = state.subscriber, params = state.params;\n    var callbackFunc = params.callbackFunc, context = params.context, scheduler = params.scheduler;\n    var subject = params.subject;\n    if (!subject) {\n        subject = params.subject = new AsyncSubject_1.AsyncSubject();\n        var handler = function () {\n            var innerArgs = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                innerArgs[_i] = arguments[_i];\n            }\n            var value = innerArgs.length <= 1 ? innerArgs[0] : innerArgs;\n            _this.add(scheduler.schedule(dispatchNext, 0, { value: value, subject: subject }));\n        };\n        try {\n            callbackFunc.apply(context, args.concat([handler]));\n        }\n        catch (err) {\n            subject.error(err);\n        }\n    }\n    this.add(subject.subscribe(subscriber));\n}\nfunction dispatchNext(state) {\n    var value = state.value, subject = state.subject;\n    subject.next(value);\n    subject.complete();\n}\nfunction dispatchError(state) {\n    var err = state.err, subject = state.subject;\n    subject.error(err);\n}\n//# sourceMappingURL=bindCallback.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Observable_1 = require(\"../Observable\");\nvar AsyncSubject_1 = require(\"../AsyncSubject\");\n/* tslint:enable:max-line-length */\n/**\n * Converts a Node.js-style callback API to a function that returns an\n * Observable.\n *\n * <span class=\"informal\">It's just like {@link bindCallback}, but the\n * callback is expected to be of type `callback(error, result)`.</span>\n *\n * `bindNodeCallback` is not an operator because its input and output are not\n * Observables. The input is a function `func` with some parameters, but the\n * last parameter must be a callback function that `func` calls when it is\n * done. The callback function is expected to follow Node.js conventions,\n * where the first argument to the callback is an error object, signaling\n * whether call was successful. If that object is passed to callback, it means\n * something went wrong.\n *\n * The output of `bindNodeCallback` is a function that takes the same\n * parameters as `func`, except the last one (the callback). When the output\n * function is called with arguments, it will return an Observable.\n * If `func` calls its callback with error parameter present, Observable will\n * error with that value as well. If error parameter is not passed, Observable will emit\n * second parameter. If there are more parameters (third and so on),\n * Observable will emit an array with all arguments, except first error argument.\n *\n * Note that `func` will not be called at the same time output function is,\n * but rather whenever resulting Observable is subscribed. By default call to\n * `func` will happen synchronously after subscription, but that can be changed\n * with proper {@link Scheduler} provided as optional third parameter. Scheduler\n * can also control when values from callback will be emitted by Observable.\n * To find out more, check out documentation for {@link bindCallback}, where\n * Scheduler works exactly the same.\n *\n * As in {@link bindCallback}, context (`this` property) of input function will be set to context\n * of returned function, when it is called.\n *\n * After Observable emits value, it will complete immediately. This means\n * even if `func` calls callback again, values from second and consecutive\n * calls will never appear on the stream. If you need to handle functions\n * that call callbacks multiple times, check out {@link fromEvent} or\n * {@link fromEventPattern} instead.\n *\n * Note that `bindNodeCallback` can be used in non-Node.js environments as well.\n * \"Node.js-style\" callbacks are just a convention, so if you write for\n * browsers or any other environment and API you use implements that callback style,\n * `bindNodeCallback` can be safely used on that API functions as well.\n *\n * Remember that Error object passed to callback does not have to be an instance\n * of JavaScript built-in `Error` object. In fact, it does not even have to an object.\n * Error parameter of callback function is interpreted as \"present\", when value\n * of that parameter is truthy. It could be, for example, non-zero number, non-empty\n * string or boolean `true`. In all of these cases resulting Observable would error\n * with that value. This means usually regular style callbacks will fail very often when\n * `bindNodeCallback` is used. If your Observable errors much more often then you\n * would expect, check if callback really is called in Node.js-style and, if not,\n * switch to {@link bindCallback} instead.\n *\n * Note that even if error parameter is technically present in callback, but its value\n * is falsy, it still won't appear in array emitted by Observable.\n *\n *\n * @example <caption>Read a file from the filesystem and get the data as an Observable</caption>\n * import * as fs from 'fs';\n * var readFileAsObservable = bindNodeCallback(fs.readFile);\n * var result = readFileAsObservable('./roadNames.txt', 'utf8');\n * result.subscribe(x => console.log(x), e => console.error(e));\n *\n *\n * @example <caption>Use on function calling callback with multiple arguments</caption>\n * someFunction((err, a, b) => {\n *   console.log(err); // null\n *   console.log(a); // 5\n *   console.log(b); // \"some string\"\n * });\n * var boundSomeFunction = bindNodeCallback(someFunction);\n * boundSomeFunction()\n * .subscribe(value => {\n *   console.log(value); // [5, \"some string\"]\n * });\n *\n * @example <caption>Use on function calling callback in regular style</caption>\n * someFunction(a => {\n *   console.log(a); // 5\n * });\n * var boundSomeFunction = bindNodeCallback(someFunction);\n * boundSomeFunction()\n * .subscribe(\n *   value => {}             // never gets called\n *   err => console.log(err) // 5\n * );\n *\n *\n * @see {@link bindCallback}\n * @see {@link from}\n * @see {@link fromPromise}\n *\n * @param {function} func Function with a Node.js-style callback as the last parameter.\n * @param {Scheduler} [scheduler] The scheduler on which to schedule the\n * callbacks.\n * @return {function(...params: *): Observable} A function which returns the\n * Observable that delivers the same values the Node.js callback would\n * deliver.\n * @name bindNodeCallback\n */\nfunction bindNodeCallback(callbackFunc, scheduler) {\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var params = {\n            subject: undefined,\n            args: args,\n            callbackFunc: callbackFunc,\n            scheduler: scheduler,\n            context: this,\n        };\n        return new Observable_1.Observable(function (subscriber) {\n            var context = params.context;\n            var subject = params.subject;\n            if (!scheduler) {\n                if (!subject) {\n                    subject = params.subject = new AsyncSubject_1.AsyncSubject();\n                    var handler = function handlerFn() {\n                        var innerArgs = [];\n                        for (var _i = 0; _i < arguments.length; _i++) {\n                            innerArgs[_i] = arguments[_i];\n                        }\n                        var err = innerArgs.shift();\n                        if (err) {\n                            subject.error(err);\n                            return;\n                        }\n                        subject.next(innerArgs.length <= 1 ? innerArgs[0] : innerArgs);\n                        subject.complete();\n                    };\n                    try {\n                        callbackFunc.apply(context, args.concat([handler]));\n                    }\n                    catch (err) {\n                        subject.error(err);\n                    }\n                }\n                return subject.subscribe(subscriber);\n            }\n            else {\n                return scheduler.schedule(dispatch, 0, { params: params, subscriber: subscriber, context: context });\n            }\n        });\n    };\n}\nexports.bindNodeCallback = bindNodeCallback;\nfunction dispatch(state) {\n    var _this = this;\n    var params = state.params, subscriber = state.subscriber, context = state.context;\n    var callbackFunc = params.callbackFunc, args = params.args, scheduler = params.scheduler;\n    var subject = params.subject;\n    if (!subject) {\n        subject = params.subject = new AsyncSubject_1.AsyncSubject();\n        var handler = function () {\n            var innerArgs = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                innerArgs[_i] = arguments[_i];\n            }\n            var err = innerArgs.shift();\n            if (err) {\n                _this.add(scheduler.schedule(dispatchError, 0, { err: err, subject: subject }));\n            }\n            else {\n                var value = innerArgs.length <= 1 ? innerArgs[0] : innerArgs;\n                _this.add(scheduler.schedule(dispatchNext, 0, { value: value, subject: subject }));\n            }\n        };\n        try {\n            callbackFunc.apply(context, args.concat([handler]));\n        }\n        catch (err) {\n            this.add(scheduler.schedule(dispatchError, 0, { err: err, subject: subject }));\n        }\n    }\n    this.add(subject.subscribe(subscriber));\n}\nfunction dispatchNext(arg) {\n    var value = arg.value, subject = arg.subject;\n    subject.next(value);\n    subject.complete();\n}\nfunction dispatchError(arg) {\n    var err = arg.err, subject = arg.subject;\n    subject.error(err);\n}\n//# sourceMappingURL=bindNodeCallback.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Subscriber_1 = require(\"./Subscriber\");\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar OuterSubscriber = /** @class */ (function (_super) {\n    __extends(OuterSubscriber, _super);\n    function OuterSubscriber() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    OuterSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.destination.next(innerValue);\n    };\n    OuterSubscriber.prototype.notifyError = function (error, innerSub) {\n        this.destination.error(error);\n    };\n    OuterSubscriber.prototype.notifyComplete = function (innerSub) {\n        this.destination.complete();\n    };\n    return OuterSubscriber;\n}(Subscriber_1.Subscriber));\nexports.OuterSubscriber = OuterSubscriber;\n//# sourceMappingURL=OuterSubscriber.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Subscriber_1 = require(\"./Subscriber\");\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @internal\n * @ignore\n * @extends {Ignored}\n */\nvar InnerSubscriber = /** @class */ (function (_super) {\n    __extends(InnerSubscriber, _super);\n    function InnerSubscriber(parent, outerValue, outerIndex) {\n        var _this = _super.call(this) || this;\n        _this.parent = parent;\n        _this.outerValue = outerValue;\n        _this.outerIndex = outerIndex;\n        _this.index = 0;\n        return _this;\n    }\n    InnerSubscriber.prototype._next = function (value) {\n        this.parent.notifyNext(this.outerValue, value, this.outerIndex, this.index++, this);\n    };\n    InnerSubscriber.prototype._error = function (error) {\n        this.parent.notifyError(error, this);\n        this.unsubscribe();\n    };\n    InnerSubscriber.prototype._complete = function () {\n        this.parent.notifyComplete(this);\n        this.unsubscribe();\n    };\n    return InnerSubscriber;\n}(Subscriber_1.Subscriber));\nexports.InnerSubscriber = InnerSubscriber;\n//# sourceMappingURL=InnerSubscriber.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.subscribeToPromise = function (promise) { return function (subscriber) {\n    promise.then(function (value) {\n        if (!subscriber.closed) {\n            subscriber.next(value);\n            subscriber.complete();\n        }\n    }, function (err) { return subscriber.error(err); })\n        .then(null, function (err) {\n        // Escaping the Promise trap: globally throw unhandled errors\n        setTimeout(function () { throw err; });\n    });\n    return subscriber;\n}; };\n//# sourceMappingURL=subscribeToPromise.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction getSymbolIterator() {\n    if (typeof Symbol !== 'function' || !Symbol.iterator) {\n        return '@@iterator';\n    }\n    return Symbol.iterator;\n}\nexports.getSymbolIterator = getSymbolIterator;\nexports.iterator = getSymbolIterator();\n/**\n * @deprecated use {@link iterator} instead\n */\nexports.$$iterator = exports.iterator;\n//# sourceMappingURL=iterator.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar iterator_1 = require(\"../symbol/iterator\");\nexports.subscribeToIterable = function (iterable) { return function (subscriber) {\n    var iterator = iterable[iterator_1.iterator]();\n    do {\n        var item = iterator.next();\n        if (item.done) {\n            subscriber.complete();\n            break;\n        }\n        subscriber.next(item.value);\n        if (subscriber.closed) {\n            break;\n        }\n    } while (true);\n    // Finalize the iterator if it happens to be a Generator\n    if (typeof iterator.return === 'function') {\n        subscriber.add(function () {\n            if (iterator.return) {\n                iterator.return();\n            }\n        });\n    }\n    return subscriber;\n}; };\n//# sourceMappingURL=subscribeToIterable.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar observable_1 = require(\"../symbol/observable\");\n/**\n * Subscribes to an object that implements Symbol.observable with the given\n * Subscriber.\n * @param obj An object that implements Symbol.observable\n * @param subscriber The Subscriber to use to subscribe to the observable\n */\nexports.subscribeToObservable = function (obj) { return function (subscriber) {\n    var obs = obj[observable_1.observable]();\n    if (typeof obs.subscribe !== 'function') {\n        // Should be caught by observable subscribe function error handling.\n        throw new TypeError('Provided object does not correctly implement Symbol.observable');\n    }\n    else {\n        return obs.subscribe(subscriber);\n    }\n}; };\n//# sourceMappingURL=subscribeToObservable.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isArrayLike = (function (x) { return x && typeof x.length === 'number'; });\n//# sourceMappingURL=isArrayLike.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isPromise(value) {\n    return value && typeof value.subscribe !== 'function' && typeof value.then === 'function';\n}\nexports.isPromise = isPromise;\n//# sourceMappingURL=isPromise.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Observable_1 = require(\"../Observable\");\nvar subscribeToArray_1 = require(\"./subscribeToArray\");\nvar subscribeToPromise_1 = require(\"./subscribeToPromise\");\nvar subscribeToIterable_1 = require(\"./subscribeToIterable\");\nvar subscribeToObservable_1 = require(\"./subscribeToObservable\");\nvar isArrayLike_1 = require(\"./isArrayLike\");\nvar isPromise_1 = require(\"./isPromise\");\nvar isObject_1 = require(\"./isObject\");\nvar iterator_1 = require(\"../symbol/iterator\");\nvar observable_1 = require(\"../symbol/observable\");\nexports.subscribeTo = function (result) {\n    if (result instanceof Observable_1.Observable) {\n        return function (subscriber) {\n            if (result._isScalar) {\n                subscriber.next(result.value);\n                subscriber.complete();\n                return undefined;\n            }\n            else {\n                return result.subscribe(subscriber);\n            }\n        };\n    }\n    else if (isArrayLike_1.isArrayLike(result)) {\n        return subscribeToArray_1.subscribeToArray(result);\n    }\n    else if (isPromise_1.isPromise(result)) {\n        return subscribeToPromise_1.subscribeToPromise(result);\n    }\n    else if (result && typeof result[iterator_1.iterator] === 'function') {\n        return subscribeToIterable_1.subscribeToIterable(result);\n    }\n    else if (result && typeof result[observable_1.observable] === 'function') {\n        return subscribeToObservable_1.subscribeToObservable(result);\n    }\n    else {\n        var value = isObject_1.isObject(result) ? 'an invalid object' : \"'\" + result + \"'\";\n        var msg = \"You provided \" + value + \" where a stream was expected.\"\n            + ' You can provide an Observable, Promise, Array, or Iterable.';\n        throw new TypeError(msg);\n    }\n};\n//# sourceMappingURL=subscribeTo.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar InnerSubscriber_1 = require(\"../InnerSubscriber\");\nvar subscribeTo_1 = require(\"./subscribeTo\");\nfunction subscribeToResult(outerSubscriber, result, outerValue, outerIndex) {\n    var destination = new InnerSubscriber_1.InnerSubscriber(outerSubscriber, outerValue, outerIndex);\n    return subscribeTo_1.subscribeTo(result)(destination);\n}\nexports.subscribeToResult = subscribeToResult;\n//# sourceMappingURL=subscribeToResult.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isScheduler_1 = require(\"../util/isScheduler\");\nvar isArray_1 = require(\"../util/isArray\");\nvar OuterSubscriber_1 = require(\"../OuterSubscriber\");\nvar subscribeToResult_1 = require(\"../util/subscribeToResult\");\nvar fromArray_1 = require(\"./fromArray\");\nvar NONE = {};\n/* tslint:enable:max-line-length */\n/**\n * Combines multiple Observables to create an Observable whose values are\n * calculated from the latest values of each of its input Observables.\n *\n * <span class=\"informal\">Whenever any input Observable emits a value, it\n * computes a formula using the latest values from all the inputs, then emits\n * the output of that formula.</span>\n *\n * <img src=\"./img/combineLatest.png\" width=\"100%\">\n *\n * `combineLatest` combines the values from all the Observables passed as\n * arguments. This is done by subscribing to each Observable in order and,\n * whenever any Observable emits, collecting an array of the most recent\n * values from each Observable. So if you pass `n` Observables to operator,\n * returned Observable will always emit an array of `n` values, in order\n * corresponding to order of passed Observables (value from the first Observable\n * on the first place and so on).\n *\n * Static version of `combineLatest` accepts either an array of Observables\n * or each Observable can be put directly as an argument. Note that array of\n * Observables is good choice, if you don't know beforehand how many Observables\n * you will combine. Passing empty array will result in Observable that\n * completes immediately.\n *\n * To ensure output array has always the same length, `combineLatest` will\n * actually wait for all input Observables to emit at least once,\n * before it starts emitting results. This means if some Observable emits\n * values before other Observables started emitting, all that values but last\n * will be lost. On the other hand, is some Observable does not emit value but\n * completes, resulting Observable will complete at the same moment without\n * emitting anything, since it will be now impossible to include value from\n * completed Observable in resulting array. Also, if some input Observable does\n * not emit any value and never completes, `combineLatest` will also never emit\n * and never complete, since, again, it will wait for all streams to emit some\n * value.\n *\n * If at least one Observable was passed to `combineLatest` and all passed Observables\n * emitted something, resulting Observable will complete when all combined\n * streams complete. So even if some Observable completes, result of\n * `combineLatest` will still emit values when other Observables do. In case\n * of completed Observable, its value from now on will always be the last\n * emitted value. On the other hand, if any Observable errors, `combineLatest`\n * will error immediately as well, and all other Observables will be unsubscribed.\n *\n * `combineLatest` accepts as optional parameter `project` function, which takes\n * as arguments all values that would normally be emitted by resulting Observable.\n * `project` can return any kind of value, which will be then emitted by Observable\n * instead of default array. Note that `project` does not take as argument that array\n * of values, but values themselves. That means default `project` can be imagined\n * as function that takes all its arguments and puts them into an array.\n *\n *\n * @example <caption>Combine two timer Observables</caption>\n * const firstTimer = Rx.Observable.timer(0, 1000); // emit 0, 1, 2... after every second, starting from now\n * const secondTimer = Rx.Observable.timer(500, 1000); // emit 0, 1, 2... after every second, starting 0,5s from now\n * const combinedTimers = Rx.Observable.combineLatest(firstTimer, secondTimer);\n * combinedTimers.subscribe(value => console.log(value));\n * // Logs\n * // [0, 0] after 0.5s\n * // [1, 0] after 1s\n * // [1, 1] after 1.5s\n * // [2, 1] after 2s\n *\n *\n * @example <caption>Combine an array of Observables</caption>\n * const observables = [1, 5, 10].map(\n *   n => Rx.Observable.of(n).delay(n * 1000).startWith(0) // emit 0 and then emit n after n seconds\n * );\n * const combined = Rx.Observable.combineLatest(observables);\n * combined.subscribe(value => console.log(value));\n * // Logs\n * // [0, 0, 0] immediately\n * // [1, 0, 0] after 1s\n * // [1, 5, 0] after 5s\n * // [1, 5, 10] after 10s\n *\n *\n * @example <caption>Use project function to dynamically calculate the Body-Mass Index</caption>\n * var weight = Rx.Observable.of(70, 72, 76, 79, 75);\n * var height = Rx.Observable.of(1.76, 1.77, 1.78);\n * var bmi = Rx.Observable.combineLatest(weight, height, (w, h) => w / (h * h));\n * bmi.subscribe(x => console.log('BMI is ' + x));\n *\n * // With output to console:\n * // BMI is 24.212293388429753\n * // BMI is 23.93948099205209\n * // BMI is 23.671253629592222\n *\n *\n * @see {@link combineAll}\n * @see {@link merge}\n * @see {@link withLatestFrom}\n *\n * @param {ObservableInput} observable1 An input Observable to combine with other Observables.\n * @param {ObservableInput} observable2 An input Observable to combine with other Observables.\n * More than one input Observables may be given as arguments\n * or an array of Observables may be given as the first argument.\n * @param {function} [project] An optional function to project the values from\n * the combined latest values into a new value on the output Observable.\n * @param {Scheduler} [scheduler=null] The IScheduler to use for subscribing to\n * each input Observable.\n * @return {Observable} An Observable of projected values from the most recent\n * values from each input Observable, or an array of the most recent values from\n * each input Observable.\n * @static true\n * @name combineLatest\n * @owner Observable\n */\nfunction combineLatest() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i] = arguments[_i];\n    }\n    var project = null;\n    var scheduler = null;\n    if (isScheduler_1.isScheduler(observables[observables.length - 1])) {\n        scheduler = observables.pop();\n    }\n    if (typeof observables[observables.length - 1] === 'function') {\n        project = observables.pop();\n    }\n    // if the first and only other argument besides the resultSelector is an array\n    // assume it's been called with `combineLatest([obs1, obs2, obs3], project)`\n    if (observables.length === 1 && isArray_1.isArray(observables[0])) {\n        observables = observables[0];\n    }\n    return fromArray_1.fromArray(observables, scheduler).lift(new CombineLatestOperator(project));\n}\nexports.combineLatest = combineLatest;\nvar CombineLatestOperator = /** @class */ (function () {\n    function CombineLatestOperator(project) {\n        this.project = project;\n    }\n    CombineLatestOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new CombineLatestSubscriber(subscriber, this.project));\n    };\n    return CombineLatestOperator;\n}());\nexports.CombineLatestOperator = CombineLatestOperator;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar CombineLatestSubscriber = /** @class */ (function (_super) {\n    __extends(CombineLatestSubscriber, _super);\n    function CombineLatestSubscriber(destination, project) {\n        var _this = _super.call(this, destination) || this;\n        _this.project = project;\n        _this.active = 0;\n        _this.values = [];\n        _this.observables = [];\n        return _this;\n    }\n    CombineLatestSubscriber.prototype._next = function (observable) {\n        this.values.push(NONE);\n        this.observables.push(observable);\n    };\n    CombineLatestSubscriber.prototype._complete = function () {\n        var observables = this.observables;\n        var len = observables.length;\n        if (len === 0) {\n            this.destination.complete();\n        }\n        else {\n            this.active = len;\n            this.toRespond = len;\n            for (var i = 0; i < len; i++) {\n                var observable = observables[i];\n                this.add(subscribeToResult_1.subscribeToResult(this, observable, observable, i));\n            }\n        }\n    };\n    CombineLatestSubscriber.prototype.notifyComplete = function (unused) {\n        if ((this.active -= 1) === 0) {\n            this.destination.complete();\n        }\n    };\n    CombineLatestSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        var values = this.values;\n        var oldVal = values[outerIndex];\n        var toRespond = !this.toRespond\n            ? 0\n            : oldVal === NONE ? --this.toRespond : this.toRespond;\n        values[outerIndex] = innerValue;\n        if (toRespond === 0) {\n            if (this.project) {\n                this._tryProject(values);\n            }\n            else {\n                this.destination.next(values.slice());\n            }\n        }\n    };\n    CombineLatestSubscriber.prototype._tryProject = function (values) {\n        var result;\n        try {\n            result = this.project.apply(this, values);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    return CombineLatestSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\nexports.CombineLatestSubscriber = CombineLatestSubscriber;\n//# sourceMappingURL=combineLatest.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar observable_1 = require(\"../symbol/observable\");\n/** Identifies an input as being Observable (but not necessary an Rx Observable) */\nfunction isObservable(input) {\n    return input && typeof input[observable_1.observable] === 'function';\n}\nexports.isObservable = isObservable;\n//# sourceMappingURL=isObservable.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar iterator_1 = require(\"../symbol/iterator\");\n/** Identifies an input as being an Iterable */\nfunction isIterable(input) {\n    return input && typeof input[iterator_1.iterator] === 'function';\n}\nexports.isIterable = isIterable;\n//# sourceMappingURL=isIterable.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Observable_1 = require(\"../Observable\");\nvar Subscription_1 = require(\"../Subscription\");\nvar subscribeToPromise_1 = require(\"../util/subscribeToPromise\");\nfunction fromPromise(input, scheduler) {\n    if (!scheduler) {\n        return new Observable_1.Observable(subscribeToPromise_1.subscribeToPromise(input));\n    }\n    else {\n        return new Observable_1.Observable(function (subscriber) {\n            var sub = new Subscription_1.Subscription();\n            sub.add(scheduler.schedule(function () { return input.then(function (value) {\n                sub.add(scheduler.schedule(function () {\n                    subscriber.next(value);\n                    sub.add(scheduler.schedule(function () { return subscriber.complete(); }));\n                }));\n            }, function (err) {\n                sub.add(scheduler.schedule(function () { return subscriber.error(err); }));\n            }); }));\n            return sub;\n        });\n    }\n}\nexports.fromPromise = fromPromise;\n//# sourceMappingURL=fromPromise.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Observable_1 = require(\"../Observable\");\nvar Subscription_1 = require(\"../Subscription\");\nvar iterator_1 = require(\"../symbol/iterator\");\nvar subscribeToIterable_1 = require(\"../util/subscribeToIterable\");\nfunction fromIterable(input, scheduler) {\n    if (!input) {\n        throw new Error('Iterable cannot be null');\n    }\n    if (!scheduler) {\n        return new Observable_1.Observable(subscribeToIterable_1.subscribeToIterable(input));\n    }\n    else {\n        return new Observable_1.Observable(function (subscriber) {\n            var sub = new Subscription_1.Subscription();\n            var iterator;\n            sub.add(function () {\n                // Finalize generators\n                if (iterator && typeof iterator.return === 'function') {\n                    iterator.return();\n                }\n            });\n            sub.add(scheduler.schedule(function () {\n                iterator = input[iterator_1.iterator]();\n                sub.add(scheduler.schedule(function () {\n                    if (subscriber.closed) {\n                        return;\n                    }\n                    var value;\n                    var done;\n                    try {\n                        var result = iterator.next();\n                        value = result.value;\n                        done = result.done;\n                    }\n                    catch (err) {\n                        subscriber.error(err);\n                        return;\n                    }\n                    if (done) {\n                        subscriber.complete();\n                    }\n                    else {\n                        subscriber.next(value);\n                        this.schedule();\n                    }\n                }));\n            }));\n            return sub;\n        });\n    }\n}\nexports.fromIterable = fromIterable;\n//# sourceMappingURL=fromIterable.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Observable_1 = require(\"../Observable\");\nvar Subscription_1 = require(\"../Subscription\");\nvar observable_1 = require(\"../symbol/observable\");\nvar subscribeToObservable_1 = require(\"../util/subscribeToObservable\");\nfunction fromObservable(input, scheduler) {\n    if (!scheduler) {\n        return new Observable_1.Observable(subscribeToObservable_1.subscribeToObservable(input));\n    }\n    else {\n        return new Observable_1.Observable(function (subscriber) {\n            var sub = new Subscription_1.Subscription();\n            sub.add(scheduler.schedule(function () {\n                var observable = input[observable_1.observable]();\n                sub.add(observable.subscribe({\n                    next: function (value) { sub.add(scheduler.schedule(function () { return subscriber.next(value); })); },\n                    error: function (err) { sub.add(scheduler.schedule(function () { return subscriber.error(err); })); },\n                    complete: function () { sub.add(scheduler.schedule(function () { return subscriber.complete(); })); },\n                }));\n            }));\n            return sub;\n        });\n    }\n}\nexports.fromObservable = fromObservable;\n//# sourceMappingURL=fromObservable.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Observable_1 = require(\"../Observable\");\nvar isPromise_1 = require(\"../util/isPromise\");\nvar isArrayLike_1 = require(\"../util/isArrayLike\");\nvar isObservable_1 = require(\"../util/isObservable\");\nvar isIterable_1 = require(\"../util/isIterable\");\nvar fromArray_1 = require(\"./fromArray\");\nvar fromPromise_1 = require(\"./fromPromise\");\nvar fromIterable_1 = require(\"./fromIterable\");\nvar fromObservable_1 = require(\"./fromObservable\");\nvar subscribeTo_1 = require(\"../util/subscribeTo\");\nfunction from(input, scheduler) {\n    if (!scheduler) {\n        if (input instanceof Observable_1.Observable) {\n            return input;\n        }\n        return new Observable_1.Observable(subscribeTo_1.subscribeTo(input));\n    }\n    if (input != null) {\n        if (isObservable_1.isObservable(input)) {\n            return fromObservable_1.fromObservable(input, scheduler);\n        }\n        else if (isPromise_1.isPromise(input)) {\n            return fromPromise_1.fromPromise(input, scheduler);\n        }\n        else if (isArrayLike_1.isArrayLike(input)) {\n            return fromArray_1.fromArray(input, scheduler);\n        }\n        else if (isIterable_1.isIterable(input) || typeof input === 'string') {\n            return fromIterable_1.fromIterable(input, scheduler);\n        }\n    }\n    throw new TypeError((input !== null && typeof input || input) + ' is not observable');\n}\nexports.from = from;\n//# sourceMappingURL=from.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar subscribeToResult_1 = require(\"../util/subscribeToResult\");\nvar OuterSubscriber_1 = require(\"../OuterSubscriber\");\n/* tslint:enable:max-line-length */\n/**\n * Projects each source value to an Observable which is merged in the output\n * Observable.\n *\n * <span class=\"informal\">Maps each value to an Observable, then flattens all of\n * these inner Observables using {@link mergeAll}.</span>\n *\n * <img src=\"./img/mergeMap.png\" width=\"100%\">\n *\n * Returns an Observable that emits items based on applying a function that you\n * supply to each item emitted by the source Observable, where that function\n * returns an Observable, and then merging those resulting Observables and\n * emitting the results of this merger.\n *\n * @example <caption>Map and flatten each letter to an Observable ticking every 1 second</caption>\n * var letters = Rx.Observable.of('a', 'b', 'c');\n * var result = letters.mergeMap(x =>\n *   Rx.Observable.interval(1000).map(i => x+i)\n * );\n * result.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // a0\n * // b0\n * // c0\n * // a1\n * // b1\n * // c1\n * // continues to list a,b,c with respective ascending integers\n *\n * @see {@link concatMap}\n * @see {@link exhaustMap}\n * @see {@link merge}\n * @see {@link mergeAll}\n * @see {@link mergeMapTo}\n * @see {@link mergeScan}\n * @see {@link switchMap}\n *\n * @param {function(value: T, ?index: number): ObservableInput} project A function\n * that, when applied to an item emitted by the source Observable, returns an\n * Observable.\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input\n * Observables being subscribed to concurrently.\n * @return {Observable} An Observable that emits the result of applying the\n * projection function (and the optional `resultSelector`) to each item emitted\n * by the source Observable and merging the results of the Observables obtained\n * from this transformation.\n * @method mergeMap\n * @owner Observable\n */\nfunction mergeMap(project, concurrent) {\n    if (concurrent === void 0) { concurrent = Number.POSITIVE_INFINITY; }\n    return function mergeMapOperatorFunction(source) {\n        return source.lift(new MergeMapOperator(project, concurrent));\n    };\n}\nexports.mergeMap = mergeMap;\nvar MergeMapOperator = /** @class */ (function () {\n    function MergeMapOperator(project, concurrent) {\n        if (concurrent === void 0) { concurrent = Number.POSITIVE_INFINITY; }\n        this.project = project;\n        this.concurrent = concurrent;\n    }\n    MergeMapOperator.prototype.call = function (observer, source) {\n        return source.subscribe(new MergeMapSubscriber(observer, this.project, this.concurrent));\n    };\n    return MergeMapOperator;\n}());\nexports.MergeMapOperator = MergeMapOperator;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar MergeMapSubscriber = /** @class */ (function (_super) {\n    __extends(MergeMapSubscriber, _super);\n    function MergeMapSubscriber(destination, project, concurrent) {\n        if (concurrent === void 0) { concurrent = Number.POSITIVE_INFINITY; }\n        var _this = _super.call(this, destination) || this;\n        _this.project = project;\n        _this.concurrent = concurrent;\n        _this.hasCompleted = false;\n        _this.buffer = [];\n        _this.active = 0;\n        _this.index = 0;\n        return _this;\n    }\n    MergeMapSubscriber.prototype._next = function (value) {\n        if (this.active < this.concurrent) {\n            this._tryNext(value);\n        }\n        else {\n            this.buffer.push(value);\n        }\n    };\n    MergeMapSubscriber.prototype._tryNext = function (value) {\n        var result;\n        var index = this.index++;\n        try {\n            result = this.project(value, index);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.active++;\n        this._innerSub(result, value, index);\n    };\n    MergeMapSubscriber.prototype._innerSub = function (ish, value, index) {\n        this.add(subscribeToResult_1.subscribeToResult(this, ish, value, index));\n    };\n    MergeMapSubscriber.prototype._complete = function () {\n        this.hasCompleted = true;\n        if (this.active === 0 && this.buffer.length === 0) {\n            this.destination.complete();\n        }\n    };\n    MergeMapSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.destination.next(innerValue);\n    };\n    MergeMapSubscriber.prototype.notifyComplete = function (innerSub) {\n        var buffer = this.buffer;\n        this.remove(innerSub);\n        this.active--;\n        if (buffer.length > 0) {\n            this._next(buffer.shift());\n        }\n        else if (this.active === 0 && this.hasCompleted) {\n            this.destination.complete();\n        }\n    };\n    return MergeMapSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\nexports.MergeMapSubscriber = MergeMapSubscriber;\n//# sourceMappingURL=mergeMap.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar mergeMap_1 = require(\"./mergeMap\");\nvar identity_1 = require(\"../util/identity\");\n/**\n * Converts a higher-order Observable into a first-order Observable which\n * concurrently delivers all values that are emitted on the inner Observables.\n *\n * <span class=\"informal\">Flattens an Observable-of-Observables.</span>\n *\n * <img src=\"./img/mergeAll.png\" width=\"100%\">\n *\n * `mergeAll` subscribes to an Observable that emits Observables, also known as\n * a higher-order Observable. Each time it observes one of these emitted inner\n * Observables, it subscribes to that and delivers all the values from the\n * inner Observable on the output Observable. The output Observable only\n * completes once all inner Observables have completed. Any error delivered by\n * a inner Observable will be immediately emitted on the output Observable.\n *\n * @example <caption>Spawn a new interval Observable for each click event, and blend their outputs as one Observable</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var higherOrder = clicks.map((ev) => Rx.Observable.interval(1000));\n * var firstOrder = higherOrder.mergeAll();\n * firstOrder.subscribe(x => console.log(x));\n *\n * @example <caption>Count from 0 to 9 every second for each click, but only allow 2 concurrent timers</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var higherOrder = clicks.map((ev) => Rx.Observable.interval(1000).take(10));\n * var firstOrder = higherOrder.mergeAll(2);\n * firstOrder.subscribe(x => console.log(x));\n *\n * @see {@link combineAll}\n * @see {@link concatAll}\n * @see {@link exhaust}\n * @see {@link merge}\n * @see {@link mergeMap}\n * @see {@link mergeMapTo}\n * @see {@link mergeScan}\n * @see {@link switch}\n * @see {@link zipAll}\n *\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of inner\n * Observables being subscribed to concurrently.\n * @return {Observable} An Observable that emits values coming from all the\n * inner Observables emitted by the source Observable.\n * @method mergeAll\n * @owner Observable\n */\nfunction mergeAll(concurrent) {\n    if (concurrent === void 0) { concurrent = Number.POSITIVE_INFINITY; }\n    return mergeMap_1.mergeMap(identity_1.identity, concurrent);\n}\nexports.mergeAll = mergeAll;\n//# sourceMappingURL=mergeAll.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar mergeAll_1 = require(\"./mergeAll\");\n/**\n * Converts a higher-order Observable into a first-order Observable by\n * concatenating the inner Observables in order.\n *\n * <span class=\"informal\">Flattens an Observable-of-Observables by putting one\n * inner Observable after the other.</span>\n *\n * <img src=\"./img/concatAll.png\" width=\"100%\">\n *\n * Joins every Observable emitted by the source (a higher-order Observable), in\n * a serial fashion. It subscribes to each inner Observable only after the\n * previous inner Observable has completed, and merges all of their values into\n * the returned observable.\n *\n * __Warning:__ If the source Observable emits Observables quickly and\n * endlessly, and the inner Observables it emits generally complete slower than\n * the source emits, you can run into memory issues as the incoming Observables\n * collect in an unbounded buffer.\n *\n * Note: `concatAll` is equivalent to `mergeAll` with concurrency parameter set\n * to `1`.\n *\n * @example <caption>For each click event, tick every second from 0 to 3, with no concurrency</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var higherOrder = clicks.map(ev => Rx.Observable.interval(1000).take(4));\n * var firstOrder = higherOrder.concatAll();\n * firstOrder.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // (results are not concurrent)\n * // For every click on the \"document\" it will emit values 0 to 3 spaced\n * // on a 1000ms interval\n * // one click = 1000ms-> 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3\n *\n * @see {@link combineAll}\n * @see {@link concat}\n * @see {@link concatMap}\n * @see {@link concatMapTo}\n * @see {@link exhaust}\n * @see {@link mergeAll}\n * @see {@link switch}\n * @see {@link zipAll}\n *\n * @return {Observable} An Observable emitting values from all the inner\n * Observables concatenated.\n * @method concatAll\n * @owner Observable\n */\nfunction concatAll() {\n    return mergeAll_1.mergeAll(1);\n}\nexports.concatAll = concatAll;\n//# sourceMappingURL=concatAll.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isScheduler_1 = require(\"../util/isScheduler\");\nvar of_1 = require(\"./of\");\nvar from_1 = require(\"./from\");\nvar concatAll_1 = require(\"../../internal/operators/concatAll\");\n/* tslint:enable:max-line-length */\n/**\n * Creates an output Observable which sequentially emits all values from given\n * Observable and then moves on to the next.\n *\n * <span class=\"informal\">Concatenates multiple Observables together by\n * sequentially emitting their values, one Observable after the other.</span>\n *\n * <img src=\"./img/concat.png\" width=\"100%\">\n *\n * `concat` joins multiple Observables together, by subscribing to them one at a time and\n * merging their results into the output Observable. You can pass either an array of\n * Observables, or put them directly as arguments. Passing an empty array will result\n * in Observable that completes immediately.\n *\n * `concat` will subscribe to first input Observable and emit all its values, without\n * changing or affecting them in any way. When that Observable completes, it will\n * subscribe to then next Observable passed and, again, emit its values. This will be\n * repeated, until the operator runs out of Observables. When last input Observable completes,\n * `concat` will complete as well. At any given moment only one Observable passed to operator\n * emits values. If you would like to emit values from passed Observables concurrently, check out\n * {@link merge} instead, especially with optional `concurrent` parameter. As a matter of fact,\n * `concat` is an equivalent of `merge` operator with `concurrent` parameter set to `1`.\n *\n * Note that if some input Observable never completes, `concat` will also never complete\n * and Observables following the one that did not complete will never be subscribed. On the other\n * hand, if some Observable simply completes immediately after it is subscribed, it will be\n * invisible for `concat`, which will just move on to the next Observable.\n *\n * If any Observable in chain errors, instead of passing control to the next Observable,\n * `concat` will error immediately as well. Observables that would be subscribed after\n * the one that emitted error, never will.\n *\n * If you pass to `concat` the same Observable many times, its stream of values\n * will be \"replayed\" on every subscription, which means you can repeat given Observable\n * as many times as you like. If passing the same Observable to `concat` 1000 times becomes tedious,\n * you can always use {@link repeat}.\n *\n * @example <caption>Concatenate a timer counting from 0 to 3 with a synchronous sequence from 1 to 10</caption>\n * var timer = Rx.Observable.interval(1000).take(4);\n * var sequence = Rx.Observable.range(1, 10);\n * var result = Rx.Observable.concat(timer, sequence);\n * result.subscribe(x => console.log(x));\n *\n * // results in:\n * // 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3 -immediate-> 1 ... 10\n *\n *\n * @example <caption>Concatenate an array of 3 Observables</caption>\n * var timer1 = Rx.Observable.interval(1000).take(10);\n * var timer2 = Rx.Observable.interval(2000).take(6);\n * var timer3 = Rx.Observable.interval(500).take(10);\n * var result = Rx.Observable.concat([timer1, timer2, timer3]); // note that array is passed\n * result.subscribe(x => console.log(x));\n *\n * // results in the following:\n * // (Prints to console sequentially)\n * // -1000ms-> 0 -1000ms-> 1 -1000ms-> ... 9\n * // -2000ms-> 0 -2000ms-> 1 -2000ms-> ... 5\n * // -500ms-> 0 -500ms-> 1 -500ms-> ... 9\n *\n *\n * @example <caption>Concatenate the same Observable to repeat it</caption>\n * const timer = Rx.Observable.interval(1000).take(2);\n *\n * Rx.Observable.concat(timer, timer) // concating the same Observable!\n * .subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('...and it is done!')\n * );\n *\n * // Logs:\n * // 0 after 1s\n * // 1 after 2s\n * // 0 after 3s\n * // 1 after 4s\n * // \"...and it is done!\" also after 4s\n *\n * @see {@link concatAll}\n * @see {@link concatMap}\n * @see {@link concatMapTo}\n *\n * @param {ObservableInput} input1 An input Observable to concatenate with others.\n * @param {ObservableInput} input2 An input Observable to concatenate with others.\n * More than one input Observables may be given as argument.\n * @param {Scheduler} [scheduler=null] An optional IScheduler to schedule each\n * Observable subscription on.\n * @return {Observable} All values of each passed Observable merged into a\n * single Observable, in order, in serial fashion.\n * @static true\n * @name concat\n * @owner Observable\n */\nfunction concat() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i] = arguments[_i];\n    }\n    if (observables.length === 1 || (observables.length === 2 && isScheduler_1.isScheduler(observables[1]))) {\n        return from_1.from(observables[0]);\n    }\n    return concatAll_1.concatAll()(of_1.of.apply(void 0, observables));\n}\nexports.concat = concat;\n//# sourceMappingURL=concat.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Observable_1 = require(\"../Observable\");\nvar from_1 = require(\"./from\"); // lol\nvar empty_1 = require(\"./empty\");\n/**\n * Creates an Observable that, on subscribe, calls an Observable factory to\n * make an Observable for each new Observer.\n *\n * <span class=\"informal\">Creates the Observable lazily, that is, only when it\n * is subscribed.\n * </span>\n *\n * <img src=\"./img/defer.png\" width=\"100%\">\n *\n * `defer` allows you to create the Observable only when the Observer\n * subscribes, and create a fresh Observable for each Observer. It waits until\n * an Observer subscribes to it, and then it generates an Observable,\n * typically with an Observable factory function. It does this afresh for each\n * subscriber, so although each subscriber may think it is subscribing to the\n * same Observable, in fact each subscriber gets its own individual\n * Observable.\n *\n * @example <caption>Subscribe to either an Observable of clicks or an Observable of interval, at random</caption>\n * var clicksOrInterval = Rx.Observable.defer(function () {\n *   if (Math.random() > 0.5) {\n *     return Rx.Observable.fromEvent(document, 'click');\n *   } else {\n *     return Rx.Observable.interval(1000);\n *   }\n * });\n * clicksOrInterval.subscribe(x => console.log(x));\n *\n * // Results in the following behavior:\n * // If the result of Math.random() is greater than 0.5 it will listen\n * // for clicks anywhere on the \"document\"; when document is clicked it\n * // will log a MouseEvent object to the console. If the result is less\n * // than 0.5 it will emit ascending numbers, one every second(1000ms).\n *\n * @see {@link create}\n *\n * @param {function(): SubscribableOrPromise} observableFactory The Observable\n * factory function to invoke for each Observer that subscribes to the output\n * Observable. May also return a Promise, which will be converted on the fly\n * to an Observable.\n * @return {Observable} An Observable whose Observers' subscriptions trigger\n * an invocation of the given Observable factory function.\n * @static true\n * @name defer\n * @owner Observable\n */\nfunction defer(observableFactory) {\n    return new Observable_1.Observable(function (subscriber) {\n        var input;\n        try {\n            input = observableFactory();\n        }\n        catch (err) {\n            subscriber.error(err);\n            return undefined;\n        }\n        var source = input ? from_1.from(input) : empty_1.empty();\n        return source.subscribe(subscriber);\n    });\n}\nexports.defer = defer;\n//# sourceMappingURL=defer.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Observable_1 = require(\"../Observable\");\nvar isArray_1 = require(\"../util/isArray\");\nvar empty_1 = require(\"./empty\");\nvar subscribeToResult_1 = require(\"../util/subscribeToResult\");\nvar OuterSubscriber_1 = require(\"../OuterSubscriber\");\n/* tslint:enable:max-line-length */\n/**\n * Joins last values emitted by passed Observables.\n *\n * <span class=\"informal\">Wait for Observables to complete and then combine last values they emitted.</span>\n *\n * <img src=\"./img/forkJoin.png\" width=\"100%\">\n *\n * `forkJoin` is an operator that takes any number of Observables which can be passed either as an array\n * or directly as arguments. If no input Observables are provided, resulting stream will complete\n * immediately.\n *\n * `forkJoin` will wait for all passed Observables to complete and then it will emit an array with last\n * values from corresponding Observables. So if you pass `n` Observables to the operator, resulting\n * array will have `n` values, where first value is the last thing emitted by the first Observable,\n * second value is the last thing emitted by the second Observable and so on. That means `forkJoin` will\n * not emit more than once and it will complete after that. If you need to emit combined values not only\n * at the end of lifecycle of passed Observables, but also throughout it, try out {@link combineLatest}\n * or {@link zip} instead.\n *\n * In order for resulting array to have the same length as the number of input Observables, whenever any of\n * that Observables completes without emitting any value, `forkJoin` will complete at that moment as well\n * and it will not emit anything either, even if it already has some last values from other Observables.\n * Conversely, if there is an Observable that never completes, `forkJoin` will never complete as well,\n * unless at any point some other Observable completes without emitting value, which brings us back to\n * the previous case. Overall, in order for `forkJoin` to emit a value, all Observables passed as arguments\n * have to emit something at least once and complete.\n *\n * If any input Observable errors at some point, `forkJoin` will error as well and all other Observables\n * will be immediately unsubscribed.\n *\n * Optionally `forkJoin` accepts project function, that will be called with values which normally\n * would land in emitted array. Whatever is returned by project function, will appear in output\n * Observable instead. This means that default project can be thought of as a function that takes\n * all its arguments and puts them into an array. Note that project function will be called only\n * when output Observable is supposed to emit a result.\n *\n * @example <caption>Use forkJoin with operator emitting immediately</caption>\n * import { forkJoin, of } from 'rxjs/create';\n *\n * const observable = forkJoin(\n *   of(1, 2, 3, 4),\n *   of(5, 6, 7, 8)\n * );\n * observable.subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('This is how it ends!')\n * );\n *\n * // Logs:\n * // [4, 8]\n * // \"This is how it ends!\"\n *\n *\n * @example <caption>Use forkJoin with operator emitting after some time</caption>\n * import { forkJoin, interval } from 'rxjs/create';\n * import { take } from 'rxjs/operators';\n *\n * const observable = forkJoin(\n *   interval(1000).pipe(take(3)), // emit 0, 1, 2 every second and complete\n *   interval(500).pipe(take(4)) // emit 0, 1, 2, 3 every half a second and complete\n * );\n * observable.subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('This is how it ends!')\n * );\n *\n * // Logs:\n * // [2, 3] after 3 seconds\n * // \"This is how it ends!\" immediately after\n *\n *\n * @example <caption>Use forkJoin with project function</caption>\n * import { jorkJoin, interval } from 'rxjs/create';\n * import { take } from 'rxjs/operators';\n *\n * const observable = forkJoin(\n *   interval(1000).pipe(take(3)), // emit 0, 1, 2 every second and complete\n *   interval(500).pipe(take(4)), // emit 0, 1, 2, 3 every half a second and complete\n *   (n, m) => n + m\n * );\n * observable.subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('This is how it ends!')\n * );\n *\n * // Logs:\n * // 5 after 3 seconds\n * // \"This is how it ends!\" immediately after\n *\n * @see {@link combineLatest}\n * @see {@link zip}\n *\n * @param {...ObservableInput} sources Any number of Observables provided either as an array or as an arguments\n * passed directly to the operator.\n * @param {function} [project] Function that takes values emitted by input Observables and returns value\n * that will appear in resulting Observable instead of default array.\n * @return {Observable} Observable emitting either an array of last values emitted by passed Observables\n * or value from project function.\n * @static true\n * @name forkJoin\n * @owner Observable\n */\nfunction forkJoin() {\n    var sources = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        sources[_i] = arguments[_i];\n    }\n    // if the first and only other argument is an array\n    // assume it's been called with `forkJoin([obs1, obs2, obs3])`\n    if (sources.length === 1 && isArray_1.isArray(sources[0])) {\n        sources = sources[0];\n    }\n    if (sources.length === 0) {\n        return empty_1.EMPTY;\n    }\n    return new Observable_1.Observable(function (subscriber) {\n        return new ForkJoinSubscriber(subscriber, sources);\n    });\n}\nexports.forkJoin = forkJoin;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar ForkJoinSubscriber = /** @class */ (function (_super) {\n    __extends(ForkJoinSubscriber, _super);\n    function ForkJoinSubscriber(destination, sources) {\n        var _this = _super.call(this, destination) || this;\n        _this.sources = sources;\n        _this.completed = 0;\n        _this.haveValues = 0;\n        var len = sources.length;\n        _this.values = new Array(len);\n        for (var i = 0; i < len; i++) {\n            var source = sources[i];\n            var innerSubscription = subscribeToResult_1.subscribeToResult(_this, source, null, i);\n            if (innerSubscription) {\n                _this.add(innerSubscription);\n            }\n        }\n        return _this;\n    }\n    ForkJoinSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.values[outerIndex] = innerValue;\n        if (!innerSub._hasValue) {\n            innerSub._hasValue = true;\n            this.haveValues++;\n        }\n    };\n    ForkJoinSubscriber.prototype.notifyComplete = function (innerSub) {\n        var _a = this, destination = _a.destination, haveValues = _a.haveValues, values = _a.values;\n        var len = values.length;\n        if (!innerSub._hasValue) {\n            destination.complete();\n            return;\n        }\n        this.completed++;\n        if (this.completed !== len) {\n            return;\n        }\n        if (haveValues === len) {\n            destination.next(values);\n        }\n        destination.complete();\n    };\n    return ForkJoinSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\n//# sourceMappingURL=forkJoin.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Observable_1 = require(\"../Observable\");\nvar toString = Object.prototype.toString;\n/* tslint:enable:max-line-length */\n/**\n * Creates an Observable that emits events of a specific type coming from the\n * given event target.\n *\n * <span class=\"informal\">Creates an Observable from DOM events, or Node.js\n * EventEmitter events or others.</span>\n *\n * <img src=\"./img/fromEvent.png\" width=\"100%\">\n *\n * `fromEvent` accepts as a first argument event target, which is an object with methods\n * for registering event handler functions. As a second argument it takes string that indicates\n * type of event we want to listen for. `fromEvent` supports selected types of event targets,\n * which are described in detail below. If your event target does not match any of the ones listed,\n * you should use {@link fromEventPattern}, which can be used on arbitrary APIs.\n * When it comes to APIs supported by `fromEvent`, their methods for adding and removing event\n * handler functions have different names, but they all accept a string describing event type\n * and function itself, which will be called whenever said event happens.\n *\n * Every time resulting Observable is subscribed, event handler function will be registered\n * to event target on given event type. When that event fires, value\n * passed as a first argument to registered function will be emitted by output Observable.\n * When Observable is unsubscribed, function will be unregistered from event target.\n *\n * Note that if event target calls registered function with more than one argument, second\n * and following arguments will not appear in resulting stream. In order to get access to them,\n * you can pass to `fromEvent` optional project function, which will be called with all arguments\n * passed to event handler. Output Observable will then emit value returned by project function,\n * instead of the usual value.\n *\n * Remember that event targets listed below are checked via duck typing. It means that\n * no matter what kind of object you have and no matter what environment you work in,\n * you can safely use `fromEvent` on that object if it exposes described methods (provided\n * of course they behave as was described above). So for example if Node.js library exposes\n * event target which has the same method names as DOM EventTarget, `fromEvent` is still\n * a good choice.\n *\n * If the API you use is more callback then event handler oriented (subscribed\n * callback function fires only once and thus there is no need to manually\n * unregister it), you should use {@link bindCallback} or {@link bindNodeCallback}\n * instead.\n *\n * `fromEvent` supports following types of event targets:\n *\n * **DOM EventTarget**\n *\n * This is an object with `addEventListener` and `removeEventListener` methods.\n *\n * In the browser, `addEventListener` accepts - apart from event type string and event\n * handler function arguments - optional third parameter, which is either an object or boolean,\n * both used for additional configuration how and when passed function will be called. When\n * `fromEvent` is used with event target of that type, you can provide this values\n * as third parameter as well.\n *\n * **Node.js EventEmitter**\n *\n * An object with `addListener` and `removeListener` methods.\n *\n * **JQuery-style event target**\n *\n * An object with `on` and `off` methods\n *\n * **DOM NodeList**\n *\n * List of DOM Nodes, returned for example by `document.querySelectorAll` or `Node.childNodes`.\n *\n * Although this collection is not event target in itself, `fromEvent` will iterate over all Nodes\n * it contains and install event handler function in every of them. When returned Observable\n * is unsubscribed, function will be removed from all Nodes.\n *\n * **DOM HtmlCollection**\n *\n * Just as in case of NodeList it is a collection of DOM nodes. Here as well event handler function is\n * installed and removed in each of elements.\n *\n *\n * @example <caption>Emits clicks happening on the DOM document</caption>\n * var clicks = fromEvent(document, 'click');\n * clicks.subscribe(x => console.log(x));\n *\n * // Results in:\n * // MouseEvent object logged to console every time a click\n * // occurs on the document.\n *\n *\n * @example <caption>Use addEventListener with capture option</caption>\n * var clicksInDocument = fromEvent(document, 'click', true); // note optional configuration parameter\n *                                                                          // which will be passed to addEventListener\n * var clicksInDiv = fromEvent(someDivInDocument, 'click');\n *\n * clicksInDocument.subscribe(() => console.log('document'));\n * clicksInDiv.subscribe(() => console.log('div'));\n *\n * // By default events bubble UP in DOM tree, so normally\n * // when we would click on div in document\n * // \"div\" would be logged first and then \"document\".\n * // Since we specified optional `capture` option, document\n * // will catch event when it goes DOWN DOM tree, so console\n * // will log \"document\" and then \"div\".\n *\n * @see {@link bindCallback}\n * @see {@link bindNodeCallback}\n * @see {@link fromEventPattern}\n *\n * @param {EventTargetLike} target The DOM EventTarget, Node.js\n * EventEmitter, JQuery-like event target, NodeList or HTMLCollection to attach the event handler to.\n * @param {string} eventName The event name of interest, being emitted by the\n * `target`.\n * @param {EventListenerOptions} [options] Options to pass through to addEventListener\n * @return {Observable<T>}\n * @name fromEvent\n */\nfunction fromEvent(target, eventName, options) {\n    return new Observable_1.Observable(function (subscriber) {\n        function handler(e) {\n            if (arguments.length > 1) {\n                subscriber.next(Array.prototype.slice.call(arguments));\n            }\n            else {\n                subscriber.next(e);\n            }\n        }\n        setupSubscription(target, eventName, handler, subscriber, options);\n    });\n}\nexports.fromEvent = fromEvent;\nfunction setupSubscription(sourceObj, eventName, handler, subscriber, options) {\n    var unsubscribe;\n    if (isNodeList(sourceObj) || isHTMLCollection(sourceObj)) {\n        for (var i = 0, len = sourceObj.length; i < len; i++) {\n            setupSubscription(sourceObj[i], eventName, handler, subscriber, options);\n        }\n    }\n    else if (isEventTarget(sourceObj)) {\n        var source_1 = sourceObj;\n        sourceObj.addEventListener(eventName, handler, options);\n        unsubscribe = function () { return source_1.removeEventListener(eventName, handler, options); };\n    }\n    else if (isJQueryStyleEventEmitter(sourceObj)) {\n        var source_2 = sourceObj;\n        sourceObj.on(eventName, handler);\n        unsubscribe = function () { return source_2.off(eventName, handler); };\n    }\n    else if (isNodeStyleEventEmitter(sourceObj)) {\n        var source_3 = sourceObj;\n        sourceObj.addListener(eventName, handler);\n        unsubscribe = function () { return source_3.removeListener(eventName, handler); };\n    }\n    else {\n        throw new TypeError('Invalid event target');\n    }\n    subscriber.add(unsubscribe);\n}\nfunction isNodeStyleEventEmitter(sourceObj) {\n    return !!sourceObj && typeof sourceObj.addListener === 'function' && typeof sourceObj.removeListener === 'function';\n}\nfunction isJQueryStyleEventEmitter(sourceObj) {\n    return !!sourceObj && typeof sourceObj.on === 'function' && typeof sourceObj.off === 'function';\n}\nfunction isNodeList(sourceObj) {\n    return !!sourceObj && toString.call(sourceObj) === '[object NodeList]';\n}\nfunction isHTMLCollection(sourceObj) {\n    return !!sourceObj && toString.call(sourceObj) === '[object HTMLCollection]';\n}\nfunction isEventTarget(sourceObj) {\n    return !!sourceObj && typeof sourceObj.addEventListener === 'function' && typeof sourceObj.removeEventListener === 'function';\n}\n//# sourceMappingURL=fromEvent.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Observable_1 = require(\"../Observable\");\nvar isFunction_1 = require(\"../util/isFunction\");\n/**\n * Creates an Observable from an API based on addHandler/removeHandler\n * functions.\n *\n * <span class=\"informal\">Converts any addHandler/removeHandler API to an\n * Observable.</span>\n *\n * <img src=\"./img/fromEventPattern.png\" width=\"100%\">\n *\n * Creates an Observable by using the `addHandler` and `removeHandler`\n * functions to add and remove the handlers. The `addHandler` is\n * called when the output Observable is subscribed, and `removeHandler` is\n * called when the Subscription is unsubscribed.\n *\n * @example <caption>Emits clicks happening on the DOM document</caption>\n * function addClickHandler(handler) {\n *   document.addEventListener('click', handler);\n * }\n *\n * function removeClickHandler(handler) {\n *   document.removeEventListener('click', handler);\n * }\n *\n * var clicks = fromEventPattern(\n *   addClickHandler,\n *   removeClickHandler\n * );\n * clicks.subscribe(x => console.log(x));\n *\n * @see {@link from}\n * @see {@link fromEvent}\n *\n * @param {function(handler: Function): any} addHandler A function that takes\n * a `handler` function as argument and attaches it somehow to the actual\n * source of events.\n * @param {function(handler: Function, signal?: any): void} [removeHandler] An optional function that\n * takes a `handler` function as argument and removes it in case it was\n * previously attached using `addHandler`. if addHandler returns signal to teardown when remove,\n * removeHandler function will forward it.\n * @return {Observable<T>}\n * @name fromEventPattern\n */\nfunction fromEventPattern(addHandler, removeHandler) {\n    return new Observable_1.Observable(function (subscriber) {\n        var handler = function (e) { return subscriber.next(e); };\n        var retValue;\n        try {\n            retValue = addHandler(handler);\n        }\n        catch (err) {\n            subscriber.error(err);\n            return undefined;\n        }\n        if (!isFunction_1.isFunction(removeHandler)) {\n            return undefined;\n        }\n        return function () { return removeHandler(handler, retValue); };\n    });\n}\nexports.fromEventPattern = fromEventPattern;\n//# sourceMappingURL=fromEventPattern.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Observable_1 = require(\"../Observable\");\nvar identity_1 = require(\"../util/identity\");\nvar isScheduler_1 = require(\"../util/isScheduler\");\nfunction generate(initialStateOrOptions, condition, iterate, resultSelectorOrObservable, scheduler) {\n    var resultSelector;\n    var initialState;\n    if (arguments.length == 1) {\n        var options = initialStateOrOptions;\n        initialState = options.initialState;\n        condition = options.condition;\n        iterate = options.iterate;\n        resultSelector = options.resultSelector || identity_1.identity;\n        scheduler = options.scheduler;\n    }\n    else if (resultSelectorOrObservable === undefined || isScheduler_1.isScheduler(resultSelectorOrObservable)) {\n        initialState = initialStateOrOptions;\n        resultSelector = identity_1.identity;\n        scheduler = resultSelectorOrObservable;\n    }\n    else {\n        initialState = initialStateOrOptions;\n        resultSelector = resultSelectorOrObservable;\n    }\n    return new Observable_1.Observable(function (subscriber) {\n        var state = initialState;\n        if (scheduler) {\n            return scheduler.schedule(dispatch, 0, {\n                subscriber: subscriber,\n                iterate: iterate,\n                condition: condition,\n                resultSelector: resultSelector,\n                state: state\n            });\n        }\n        do {\n            if (condition) {\n                var conditionResult = void 0;\n                try {\n                    conditionResult = condition(state);\n                }\n                catch (err) {\n                    subscriber.error(err);\n                    return undefined;\n                }\n                if (!conditionResult) {\n                    subscriber.complete();\n                    break;\n                }\n            }\n            var value = void 0;\n            try {\n                value = resultSelector(state);\n            }\n            catch (err) {\n                subscriber.error(err);\n                return undefined;\n            }\n            subscriber.next(value);\n            if (subscriber.closed) {\n                break;\n            }\n            try {\n                state = iterate(state);\n            }\n            catch (err) {\n                subscriber.error(err);\n                return undefined;\n            }\n        } while (true);\n        return undefined;\n    });\n}\nexports.generate = generate;\nfunction dispatch(state) {\n    var subscriber = state.subscriber, condition = state.condition;\n    if (subscriber.closed) {\n        return undefined;\n    }\n    if (state.needIterate) {\n        try {\n            state.state = state.iterate(state.state);\n        }\n        catch (err) {\n            subscriber.error(err);\n            return undefined;\n        }\n    }\n    else {\n        state.needIterate = true;\n    }\n    if (condition) {\n        var conditionResult = void 0;\n        try {\n            conditionResult = condition(state.state);\n        }\n        catch (err) {\n            subscriber.error(err);\n            return undefined;\n        }\n        if (!conditionResult) {\n            subscriber.complete();\n            return undefined;\n        }\n        if (subscriber.closed) {\n            return undefined;\n        }\n    }\n    var value;\n    try {\n        value = state.resultSelector(state.state);\n    }\n    catch (err) {\n        subscriber.error(err);\n        return undefined;\n    }\n    if (subscriber.closed) {\n        return undefined;\n    }\n    subscriber.next(value);\n    if (subscriber.closed) {\n        return undefined;\n    }\n    return this.schedule(state);\n}\n//# sourceMappingURL=generate.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar defer_1 = require(\"./defer\");\nvar empty_1 = require(\"./empty\");\n/**\n * Decides at subscription time which Observable will actually be subscribed.\n *\n * <span class=\"informal\">`If` statement for Observables.</span>\n *\n * `if` accepts a condition function and two Observables. When\n * an Observable returned by the operator is subscribed, condition function will be called.\n * Based on what boolean it returns at that moment, consumer will subscribe either to\n * the first Observable (if condition was true) or to the second (if condition was false). Condition\n * function may also not return anything - in that case condition will be evaluated as false and\n * second Observable will be subscribed.\n *\n * Note that Observables for both cases (true and false) are optional. If condition points to an Observable that\n * was left undefined, resulting stream will simply complete immediately. That allows you to, rather\n * then controlling which Observable will be subscribed, decide at runtime if consumer should have access\n * to given Observable or not.\n *\n * If you have more complex logic that requires decision between more than two Observables, {@link defer}\n * will probably be a better choice. Actually `if` can be easily implemented with {@link defer}\n * and exists only for convenience and readability reasons.\n *\n *\n * @example <caption>Change at runtime which Observable will be subscribed</caption>\n * let subscribeToFirst;\n * const firstOrSecond = Rx.Observable.if(\n *   () => subscribeToFirst,\n *   Rx.Observable.of('first'),\n *   Rx.Observable.of('second')\n * );\n *\n * subscribeToFirst = true;\n * firstOrSecond.subscribe(value => console.log(value));\n *\n * // Logs:\n * // \"first\"\n *\n * subscribeToFirst = false;\n * firstOrSecond.subscribe(value => console.log(value));\n *\n * // Logs:\n * // \"second\"\n *\n *\n * @example <caption>Control an access to an Observable</caption>\n * let accessGranted;\n * const observableIfYouHaveAccess = Rx.Observable.if(\n *   () => accessGranted,\n *   Rx.Observable.of('It seems you have an access...') // Note that only one Observable is passed to the operator.\n * );\n *\n * accessGranted = true;\n * observableIfYouHaveAccess.subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('The end')\n * );\n *\n * // Logs:\n * // \"It seems you have an access...\"\n * // \"The end\"\n *\n * accessGranted = false;\n * observableIfYouHaveAccess.subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('The end')\n * );\n *\n * // Logs:\n * // \"The end\"\n *\n * @see {@link defer}\n *\n * @param {function(): boolean} condition Condition which Observable should be chosen.\n * @param {Observable} [trueObservable] An Observable that will be subscribed if condition is true.\n * @param {Observable} [falseObservable] An Observable that will be subscribed if condition is false.\n * @return {Observable} Either first or second Observable, depending on condition.\n * @static true\n * @name iif\n * @owner Observable\n */\nfunction iif(condition, trueResult, falseResult) {\n    if (trueResult === void 0) { trueResult = empty_1.EMPTY; }\n    if (falseResult === void 0) { falseResult = empty_1.EMPTY; }\n    return defer_1.defer(function () { return condition() ? trueResult : falseResult; });\n}\nexports.iif = iif;\n//# sourceMappingURL=iif.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isArray_1 = require(\"./isArray\");\nfunction isNumeric(val) {\n    // parseFloat NaNs numeric-cast false positives (null|true|false|\"\")\n    // ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n    // subtraction forces infinities to NaN\n    // adding 1 corrects loss of precision from parseFloat (#15100)\n    return !isArray_1.isArray(val) && (val - parseFloat(val) + 1) >= 0;\n}\nexports.isNumeric = isNumeric;\n//# sourceMappingURL=isNumeric.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Observable_1 = require(\"../Observable\");\nvar async_1 = require(\"../scheduler/async\");\nvar isNumeric_1 = require(\"../util/isNumeric\");\n/**\n * Creates an Observable that emits sequential numbers every specified\n * interval of time, on a specified IScheduler.\n *\n * <span class=\"informal\">Emits incremental numbers periodically in time.\n * </span>\n *\n * <img src=\"./img/interval.png\" width=\"100%\">\n *\n * `interval` returns an Observable that emits an infinite sequence of\n * ascending integers, with a constant interval of time of your choosing\n * between those emissions. The first emission is not sent immediately, but\n * only after the first period has passed. By default, this operator uses the\n * `async` IScheduler to provide a notion of time, but you may pass any\n * IScheduler to it.\n *\n * @example <caption>Emits ascending numbers, one every second (1000ms)</caption>\n * var numbers = Rx.Observable.interval(1000);\n * numbers.subscribe(x => console.log(x));\n *\n * @see {@link timer}\n * @see {@link delay}\n *\n * @param {number} [period=0] The interval size in milliseconds (by default)\n * or the time unit determined by the scheduler's clock.\n * @param {Scheduler} [scheduler=async] The IScheduler to use for scheduling\n * the emission of values, and providing a notion of \"time\".\n * @return {Observable} An Observable that emits a sequential number each time\n * interval.\n * @static true\n * @name interval\n * @owner Observable\n */\nfunction interval(period, scheduler) {\n    if (period === void 0) { period = 0; }\n    if (scheduler === void 0) { scheduler = async_1.async; }\n    if (!isNumeric_1.isNumeric(period) || period < 0) {\n        period = 0;\n    }\n    if (!scheduler || typeof scheduler.schedule !== 'function') {\n        scheduler = async_1.async;\n    }\n    return new Observable_1.Observable(function (subscriber) {\n        subscriber.add(scheduler.schedule(dispatch, period, { subscriber: subscriber, counter: 0, period: period }));\n        return subscriber;\n    });\n}\nexports.interval = interval;\nfunction dispatch(state) {\n    var subscriber = state.subscriber, counter = state.counter, period = state.period;\n    subscriber.next(counter);\n    this.schedule({ subscriber: subscriber, counter: counter + 1, period: period }, period);\n}\n//# sourceMappingURL=interval.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Observable_1 = require(\"../Observable\");\nvar isScheduler_1 = require(\"../util/isScheduler\");\nvar mergeAll_1 = require(\"../../internal/operators/mergeAll\");\nvar fromArray_1 = require(\"./fromArray\");\n/* tslint:enable:max-line-length */\n/**\n * Creates an output Observable which concurrently emits all values from every\n * given input Observable.\n *\n * <span class=\"informal\">Flattens multiple Observables together by blending\n * their values into one Observable.</span>\n *\n * <img src=\"./img/merge.png\" width=\"100%\">\n *\n * `merge` subscribes to each given input Observable (as arguments), and simply\n * forwards (without doing any transformation) all the values from all the input\n * Observables to the output Observable. The output Observable only completes\n * once all input Observables have completed. Any error delivered by an input\n * Observable will be immediately emitted on the output Observable.\n *\n * @example <caption>Merge together two Observables: 1s interval and clicks</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var timer = Rx.Observable.interval(1000);\n * var clicksOrTimer = Rx.Observable.merge(clicks, timer);\n * clicksOrTimer.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // timer will emit ascending values, one every second(1000ms) to console\n * // clicks logs MouseEvents to console everytime the \"document\" is clicked\n * // Since the two streams are merged you see these happening\n * // as they occur.\n *\n * @example <caption>Merge together 3 Observables, but only 2 run concurrently</caption>\n * var timer1 = Rx.Observable.interval(1000).take(10);\n * var timer2 = Rx.Observable.interval(2000).take(6);\n * var timer3 = Rx.Observable.interval(500).take(10);\n * var concurrent = 2; // the argument\n * var merged = Rx.Observable.merge(timer1, timer2, timer3, concurrent);\n * merged.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // - First timer1 and timer2 will run concurrently\n * // - timer1 will emit a value every 1000ms for 10 iterations\n * // - timer2 will emit a value every 2000ms for 6 iterations\n * // - after timer1 hits it's max iteration, timer2 will\n * //   continue, and timer3 will start to run concurrently with timer2\n * // - when timer2 hits it's max iteration it terminates, and\n * //   timer3 will continue to emit a value every 500ms until it is complete\n *\n * @see {@link mergeAll}\n * @see {@link mergeMap}\n * @see {@link mergeMapTo}\n * @see {@link mergeScan}\n *\n * @param {...ObservableInput} observables Input Observables to merge together.\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input\n * Observables being subscribed to concurrently.\n * @param {Scheduler} [scheduler=null] The IScheduler to use for managing\n * concurrency of input Observables.\n * @return {Observable} an Observable that emits items that are the result of\n * every input Observable.\n * @static true\n * @name merge\n * @owner Observable\n */\nfunction merge() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i] = arguments[_i];\n    }\n    var concurrent = Number.POSITIVE_INFINITY;\n    var scheduler = null;\n    var last = observables[observables.length - 1];\n    if (isScheduler_1.isScheduler(last)) {\n        scheduler = observables.pop();\n        if (observables.length > 1 && typeof observables[observables.length - 1] === 'number') {\n            concurrent = observables.pop();\n        }\n    }\n    else if (typeof last === 'number') {\n        concurrent = observables.pop();\n    }\n    if (scheduler === null && observables.length === 1 && observables[0] instanceof Observable_1.Observable) {\n        return observables[0];\n    }\n    return mergeAll_1.mergeAll(concurrent)(fromArray_1.fromArray(observables, scheduler));\n}\nexports.merge = merge;\n//# sourceMappingURL=merge.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Observable_1 = require(\"../Observable\");\nvar from_1 = require(\"./from\");\nvar isArray_1 = require(\"../util/isArray\");\nvar empty_1 = require(\"./empty\");\n/* tslint:enable:max-line-length */\n/**\n * When any of the provided Observable emits an complete or error notification, it immediately subscribes to the next one\n * that was passed.\n *\n * <span class=\"informal\">Execute series of Observables no matter what, even if it means swallowing errors.</span>\n *\n * <img src=\"./img/onErrorResumeNext.png\" width=\"100%\">\n *\n * `onErrorResumeNext` Will subscribe to each observable source it is provided, in order.\n * If the source it's subscribed to emits an error or completes, it will move to the next source\n * without error.\n *\n * If `onErrorResumeNext` is provided no arguments, or a single, empty array, it will return {@link EMPTY}.\n *\n * `onErrorResumeNext` is basically {@link concat}, only it will continue, even if one of its\n * sources emits an error.\n *\n * Note that there is no way to handle any errors thrown by sources via the resuult of\n * `onErrorResumeNext`. If you want to handle errors thrown in any given source, you can\n * always use the {@link catchError} operator on them before passing them into `onErrorResumeNext`.\n *\n * @example <caption>Subscribe to the next Observable after map fails</caption>\n * import { onErrorResumeNext, of } from 'rxjs/create';\n * import { map } from 'rxjs/operators';\n *\n * onErrorResumeNext(\n *  of(1, 2, 3, 0).pipe(\n *    map(x => {\n *      if (x === 0) throw Error();\n *      return 10 / x;\n *    })\n *  ),\n *  of(1, 2, 3),\n * )\n * .subscribe(\n *   val => console.log(val),\n *   err => console.log(err),          // Will never be called.\n *   () => console.log('done')\n * );\n *\n * // Logs:\n * // 10\n * // 5\n * // 3.3333333333333335\n * // 1\n * // 2\n * // 3\n * // \"done\"\n *\n * @see {@link concat}\n * @see {@link catch}\n *\n * @param {...ObservableInput} sources Observables (or anything that *is* observable) passed either directly or as an array.\n * @return {Observable} An Observable that concatenates all sources, one after the other,\n * ignoring all errors, such that any error causes it to move on to the next source.\n */\nfunction onErrorResumeNext() {\n    var sources = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        sources[_i] = arguments[_i];\n    }\n    if (sources.length === 0) {\n        return empty_1.EMPTY;\n    }\n    var first = sources[0], remainder = sources.slice(1);\n    if (sources.length === 1 && isArray_1.isArray(first)) {\n        return onErrorResumeNext.apply(void 0, first);\n    }\n    return new Observable_1.Observable(function (subscriber) {\n        var subNext = function () { return subscriber.add(onErrorResumeNext.apply(void 0, remainder).subscribe(subscriber)); };\n        return from_1.from(first).subscribe({\n            next: function (value) { subscriber.next(value); },\n            error: subNext,\n            complete: subNext,\n        });\n    });\n}\nexports.onErrorResumeNext = onErrorResumeNext;\n//# sourceMappingURL=onErrorResumeNext.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Observable_1 = require(\"../Observable\");\nvar Subscription_1 = require(\"../Subscription\");\n/**\n * Convert an object into an observable sequence of [key, value] pairs\n * using an optional IScheduler to enumerate the object.\n *\n * @example <caption>Converts a javascript object to an Observable</caption>\n * var obj = {\n *   foo: 42,\n *   bar: 56,\n *   baz: 78\n * };\n *\n * var source = Rx.Observable.pairs(obj);\n *\n * var subscription = source.subscribe(\n *   function (x) {\n *     console.log('Next: %s', x);\n *   },\n *   function (err) {\n *     console.log('Error: %s', err);\n *   },\n *   function () {\n *     console.log('Completed');\n *   });\n *\n * @param {Object} obj The object to inspect and turn into an\n * Observable sequence.\n * @param {Scheduler} [scheduler] An optional IScheduler to run the\n * enumeration of the input sequence on.\n * @returns {(Observable<[string, T]>)} An observable sequence of\n * [key, value] pairs from the object.\n */\nfunction pairs(obj, scheduler) {\n    if (!scheduler) {\n        return new Observable_1.Observable(function (subscriber) {\n            var keys = Object.keys(obj);\n            for (var i = 0; i < keys.length && !subscriber.closed; i++) {\n                var key = keys[i];\n                if (obj.hasOwnProperty(key)) {\n                    subscriber.next([key, obj[key]]);\n                }\n            }\n            subscriber.complete();\n        });\n    }\n    else {\n        return new Observable_1.Observable(function (subscriber) {\n            var keys = Object.keys(obj);\n            var subscription = new Subscription_1.Subscription();\n            subscription.add(scheduler.schedule(dispatch, 0, { keys: keys, index: 0, subscriber: subscriber, subscription: subscription, obj: obj }));\n            return subscription;\n        });\n    }\n}\nexports.pairs = pairs;\n/** @internal */\nfunction dispatch(state) {\n    var keys = state.keys, index = state.index, subscriber = state.subscriber, subscription = state.subscription, obj = state.obj;\n    if (!subscriber.closed) {\n        if (index < keys.length) {\n            var key = keys[index];\n            subscriber.next([key, obj[key]]);\n            subscription.add(this.schedule({ keys: keys, index: index + 1, subscriber: subscriber, subscription: subscription, obj: obj }));\n        }\n        else {\n            subscriber.complete();\n        }\n    }\n}\nexports.dispatch = dispatch;\n//# sourceMappingURL=pairs.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isArray_1 = require(\"../util/isArray\");\nvar fromArray_1 = require(\"./fromArray\");\nvar OuterSubscriber_1 = require(\"../OuterSubscriber\");\nvar subscribeToResult_1 = require(\"../util/subscribeToResult\");\nfunction race() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i] = arguments[_i];\n    }\n    // if the only argument is an array, it was most likely called with\n    // `race([obs1, obs2, ...])`\n    if (observables.length === 1) {\n        if (isArray_1.isArray(observables[0])) {\n            observables = observables[0];\n        }\n        else {\n            return observables[0];\n        }\n    }\n    return fromArray_1.fromArray(observables, undefined).lift(new RaceOperator());\n}\nexports.race = race;\nvar RaceOperator = /** @class */ (function () {\n    function RaceOperator() {\n    }\n    RaceOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new RaceSubscriber(subscriber));\n    };\n    return RaceOperator;\n}());\nexports.RaceOperator = RaceOperator;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar RaceSubscriber = /** @class */ (function (_super) {\n    __extends(RaceSubscriber, _super);\n    function RaceSubscriber(destination) {\n        var _this = _super.call(this, destination) || this;\n        _this.hasFirst = false;\n        _this.observables = [];\n        _this.subscriptions = [];\n        return _this;\n    }\n    RaceSubscriber.prototype._next = function (observable) {\n        this.observables.push(observable);\n    };\n    RaceSubscriber.prototype._complete = function () {\n        var observables = this.observables;\n        var len = observables.length;\n        if (len === 0) {\n            this.destination.complete();\n        }\n        else {\n            for (var i = 0; i < len && !this.hasFirst; i++) {\n                var observable = observables[i];\n                var subscription = subscribeToResult_1.subscribeToResult(this, observable, observable, i);\n                if (this.subscriptions) {\n                    this.subscriptions.push(subscription);\n                }\n                this.add(subscription);\n            }\n            this.observables = null;\n        }\n    };\n    RaceSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        if (!this.hasFirst) {\n            this.hasFirst = true;\n            for (var i = 0; i < this.subscriptions.length; i++) {\n                if (i !== outerIndex) {\n                    var subscription = this.subscriptions[i];\n                    subscription.unsubscribe();\n                    this.remove(subscription);\n                }\n            }\n            this.subscriptions = null;\n        }\n        this.destination.next(innerValue);\n    };\n    return RaceSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\nexports.RaceSubscriber = RaceSubscriber;\n//# sourceMappingURL=race.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Observable_1 = require(\"../Observable\");\n/**\n * Creates an Observable that emits a sequence of numbers within a specified\n * range.\n *\n * <span class=\"informal\">Emits a sequence of numbers in a range.</span>\n *\n * <img src=\"./img/range.png\" width=\"100%\">\n *\n * `range` operator emits a range of sequential integers, in order, where you\n * select the `start` of the range and its `length`. By default, uses no\n * IScheduler and just delivers the notifications synchronously, but may use\n * an optional IScheduler to regulate those deliveries.\n *\n * @example <caption>Emits the numbers 1 to 10</caption>\n * var numbers = Rx.Observable.range(1, 10);\n * numbers.subscribe(x => console.log(x));\n *\n * @see {@link timer}\n * @see {@link interval}\n *\n * @param {number} [start=0] The value of the first integer in the sequence.\n * @param {number} [count=0] The number of sequential integers to generate.\n * @param {Scheduler} [scheduler] A {@link IScheduler} to use for scheduling\n * the emissions of the notifications.\n * @return {Observable} An Observable of numbers that emits a finite range of\n * sequential integers.\n * @static true\n * @name range\n * @owner Observable\n */\nfunction range(start, count, scheduler) {\n    if (start === void 0) { start = 0; }\n    if (count === void 0) { count = 0; }\n    return new Observable_1.Observable(function (subscriber) {\n        var index = 0;\n        if (scheduler) {\n            return scheduler.schedule(dispatch, 0, {\n                index: index, count: count, start: start, subscriber: subscriber\n            });\n        }\n        else {\n            do {\n                if (index++ >= count) {\n                    subscriber.complete();\n                    break;\n                }\n                subscriber.next(start++);\n                if (subscriber.closed) {\n                    break;\n                }\n            } while (true);\n        }\n        return undefined;\n    });\n}\nexports.range = range;\n/** @internal */\nfunction dispatch(state) {\n    var start = state.start, index = state.index, count = state.count, subscriber = state.subscriber;\n    if (index >= count) {\n        subscriber.complete();\n        return;\n    }\n    subscriber.next(start);\n    if (subscriber.closed) {\n        return;\n    }\n    state.index = index + 1;\n    state.start = start + 1;\n    this.schedule(state);\n}\nexports.dispatch = dispatch;\n//# sourceMappingURL=range.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Observable_1 = require(\"../Observable\");\nvar async_1 = require(\"../scheduler/async\");\nvar isNumeric_1 = require(\"../util/isNumeric\");\nvar isScheduler_1 = require(\"../util/isScheduler\");\n/**\n * Creates an Observable that starts emitting after an `initialDelay` and\n * emits ever increasing numbers after each `period` of time thereafter.\n *\n * <span class=\"informal\">Its like {@link interval}, but you can specify when\n * should the emissions start.</span>\n *\n * <img src=\"./img/timer.png\" width=\"100%\">\n *\n * `timer` returns an Observable that emits an infinite sequence of ascending\n * integers, with a constant interval of time, `period` of your choosing\n * between those emissions. The first emission happens after the specified\n * `initialDelay`. The initial delay may be a {@link Date}. By default, this\n * operator uses the `async` IScheduler to provide a notion of time, but you\n * may pass any IScheduler to it. If `period` is not specified, the output\n * Observable emits only one value, `0`. Otherwise, it emits an infinite\n * sequence.\n *\n * @example <caption>Emits ascending numbers, one every second (1000ms), starting after 3 seconds</caption>\n * var numbers = Rx.Observable.timer(3000, 1000);\n * numbers.subscribe(x => console.log(x));\n *\n * @example <caption>Emits one number after five seconds</caption>\n * var numbers = Rx.Observable.timer(5000);\n * numbers.subscribe(x => console.log(x));\n *\n * @see {@link interval}\n * @see {@link delay}\n *\n * @param {number|Date} [dueTime] The initial delay time to wait before\n * emitting the first value of `0`.\n * @param {number|SchedulerLike} [periodOrScheduler] The period of time between emissions of the\n * subsequent numbers.\n * @param {SchedulerLike} [scheduler=async] The IScheduler to use for scheduling\n * the emission of values, and providing a notion of \"time\".\n * @return {Observable} An Observable that emits a `0` after the\n * `initialDelay` and ever increasing numbers after each `period` of time\n * thereafter.\n * @static true\n * @name timer\n * @owner Observable\n */\nfunction timer(dueTime, periodOrScheduler, scheduler) {\n    if (dueTime === void 0) { dueTime = 0; }\n    var period = -1;\n    if (isNumeric_1.isNumeric(periodOrScheduler)) {\n        period = Number(periodOrScheduler) < 1 && 1 || Number(periodOrScheduler);\n    }\n    else if (isScheduler_1.isScheduler(periodOrScheduler)) {\n        scheduler = periodOrScheduler;\n    }\n    if (!isScheduler_1.isScheduler(scheduler)) {\n        scheduler = async_1.async;\n    }\n    return new Observable_1.Observable(function (subscriber) {\n        var due = isNumeric_1.isNumeric(dueTime)\n            ? dueTime\n            : (+dueTime - scheduler.now());\n        return scheduler.schedule(dispatch, due, {\n            index: 0, period: period, subscriber: subscriber\n        });\n    });\n}\nexports.timer = timer;\nfunction dispatch(state) {\n    var index = state.index, period = state.period, subscriber = state.subscriber;\n    subscriber.next(index);\n    if (subscriber.closed) {\n        return;\n    }\n    else if (period === -1) {\n        return subscriber.complete();\n    }\n    state.index = index + 1;\n    this.schedule(state, period);\n}\n//# sourceMappingURL=timer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Observable_1 = require(\"../Observable\");\nvar from_1 = require(\"./from\"); // from from from! LAWL\nvar empty_1 = require(\"./empty\");\n/**\n * Creates an Observable that uses a resource which will be disposed at the same time as the Observable.\n *\n * <span class=\"informal\">Use it when you catch yourself cleaning up after an Observable.</span>\n *\n * `using` is a factory operator, which accepts two functions. First function returns a disposable resource.\n * It can be an arbitrary object that implements `unsubscribe` method. Second function will be injected with\n * that object and should return an Observable. That Observable can use resource object during its execution.\n * Both functions passed to `using` will be called every time someone subscribes - neither an Observable nor\n * resource object will be shared in any way between subscriptions.\n *\n * When Observable returned by `using` is subscribed, Observable returned from the second function will be subscribed\n * as well. All its notifications (nexted values, completion and error events) will be emitted unchanged by the output\n * Observable. If however someone unsubscribes from the Observable or source Observable completes or errors by itself,\n * the `unsubscribe` method on resource object will be called. This can be used to do any necessary clean up, which\n * otherwise would have to be handled by hand. Note that complete or error notifications are not emitted when someone\n * cancels subscription to an Observable via `unsubscribe`, so `using` can be used as a hook, allowing you to make\n * sure that all resources which need to exist during an Observable execution will be disposed at appropriate time.\n *\n * @see {@link defer}\n *\n * @param {function(): ISubscription} resourceFactory A function which creates any resource object\n * that implements `unsubscribe` method.\n * @param {function(resource: ISubscription): Observable<T>} observableFactory A function which\n * creates an Observable, that can use injected resource object.\n * @return {Observable<T>} An Observable that behaves the same as Observable returned by `observableFactory`, but\n * which - when completed, errored or unsubscribed - will also call `unsubscribe` on created resource object.\n */\nfunction using(resourceFactory, observableFactory) {\n    return new Observable_1.Observable(function (subscriber) {\n        var resource;\n        try {\n            resource = resourceFactory();\n        }\n        catch (err) {\n            subscriber.error(err);\n            return undefined;\n        }\n        var result;\n        try {\n            result = observableFactory(resource);\n        }\n        catch (err) {\n            subscriber.error(err);\n            return undefined;\n        }\n        var source = result ? from_1.from(result) : empty_1.EMPTY;\n        var subscription = source.subscribe(subscriber);\n        return function () {\n            subscription.unsubscribe();\n            if (resource) {\n                resource.unsubscribe();\n            }\n        };\n    });\n}\nexports.using = using;\n//# sourceMappingURL=using.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar fromArray_1 = require(\"./fromArray\");\nvar isArray_1 = require(\"../util/isArray\");\nvar Subscriber_1 = require(\"../Subscriber\");\nvar OuterSubscriber_1 = require(\"../OuterSubscriber\");\nvar subscribeToResult_1 = require(\"../util/subscribeToResult\");\nvar iterator_1 = require(\"../../internal/symbol/iterator\");\n/* tslint:enable:max-line-length */\n/**\n * Combines multiple Observables to create an Observable whose values are calculated from the values, in order, of each\n * of its input Observables.\n *\n * If the latest parameter is a function, this function is used to compute the created value from the input values.\n * Otherwise, an array of the input values is returned.\n *\n * @example <caption>Combine age and name from different sources</caption>\n *\n * let age$ = Observable.of<number>(27, 25, 29);\n * let name$ = Observable.of<string>('Foo', 'Bar', 'Beer');\n * let isDev$ = Observable.of<boolean>(true, true, false);\n *\n * Observable\n *     .zip(age$,\n *          name$,\n *          isDev$,\n *          (age: number, name: string, isDev: boolean) => ({ age, name, isDev }))\n *     .subscribe(x => console.log(x));\n *\n * // outputs\n * // { age: 27, name: 'Foo', isDev: true }\n * // { age: 25, name: 'Bar', isDev: true }\n * // { age: 29, name: 'Beer', isDev: false }\n *\n * @param observables\n * @return {Observable<R>}\n * @static true\n * @name zip\n * @owner Observable\n */\nfunction zip() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i] = arguments[_i];\n    }\n    var project = observables[observables.length - 1];\n    if (typeof project === 'function') {\n        observables.pop();\n    }\n    return fromArray_1.fromArray(observables, undefined).lift(new ZipOperator(project));\n}\nexports.zip = zip;\nvar ZipOperator = /** @class */ (function () {\n    function ZipOperator(project) {\n        this.project = project;\n    }\n    ZipOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ZipSubscriber(subscriber, this.project));\n    };\n    return ZipOperator;\n}());\nexports.ZipOperator = ZipOperator;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar ZipSubscriber = /** @class */ (function (_super) {\n    __extends(ZipSubscriber, _super);\n    function ZipSubscriber(destination, project, values) {\n        if (values === void 0) { values = Object.create(null); }\n        var _this = _super.call(this, destination) || this;\n        _this.iterators = [];\n        _this.active = 0;\n        _this.project = (typeof project === 'function') ? project : null;\n        _this.values = values;\n        return _this;\n    }\n    ZipSubscriber.prototype._next = function (value) {\n        var iterators = this.iterators;\n        if (isArray_1.isArray(value)) {\n            iterators.push(new StaticArrayIterator(value));\n        }\n        else if (typeof value[iterator_1.iterator] === 'function') {\n            iterators.push(new StaticIterator(value[iterator_1.iterator]()));\n        }\n        else {\n            iterators.push(new ZipBufferIterator(this.destination, this, value));\n        }\n    };\n    ZipSubscriber.prototype._complete = function () {\n        var iterators = this.iterators;\n        var len = iterators.length;\n        if (len === 0) {\n            this.destination.complete();\n            return;\n        }\n        this.active = len;\n        for (var i = 0; i < len; i++) {\n            var iterator = iterators[i];\n            if (iterator.stillUnsubscribed) {\n                this.add(iterator.subscribe(iterator, i));\n            }\n            else {\n                this.active--; // not an observable\n            }\n        }\n    };\n    ZipSubscriber.prototype.notifyInactive = function () {\n        this.active--;\n        if (this.active === 0) {\n            this.destination.complete();\n        }\n    };\n    ZipSubscriber.prototype.checkIterators = function () {\n        var iterators = this.iterators;\n        var len = iterators.length;\n        var destination = this.destination;\n        // abort if not all of them have values\n        for (var i = 0; i < len; i++) {\n            var iterator = iterators[i];\n            if (typeof iterator.hasValue === 'function' && !iterator.hasValue()) {\n                return;\n            }\n        }\n        var shouldComplete = false;\n        var args = [];\n        for (var i = 0; i < len; i++) {\n            var iterator = iterators[i];\n            var result = iterator.next();\n            // check to see if it's completed now that you've gotten\n            // the next value.\n            if (iterator.hasCompleted()) {\n                shouldComplete = true;\n            }\n            if (result.done) {\n                destination.complete();\n                return;\n            }\n            args.push(result.value);\n        }\n        if (this.project) {\n            this._tryProject(args);\n        }\n        else {\n            destination.next(args);\n        }\n        if (shouldComplete) {\n            destination.complete();\n        }\n    };\n    ZipSubscriber.prototype._tryProject = function (args) {\n        var result;\n        try {\n            result = this.project.apply(this, args);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    return ZipSubscriber;\n}(Subscriber_1.Subscriber));\nexports.ZipSubscriber = ZipSubscriber;\nvar StaticIterator = /** @class */ (function () {\n    function StaticIterator(iterator) {\n        this.iterator = iterator;\n        this.nextResult = iterator.next();\n    }\n    StaticIterator.prototype.hasValue = function () {\n        return true;\n    };\n    StaticIterator.prototype.next = function () {\n        var result = this.nextResult;\n        this.nextResult = this.iterator.next();\n        return result;\n    };\n    StaticIterator.prototype.hasCompleted = function () {\n        var nextResult = this.nextResult;\n        return nextResult && nextResult.done;\n    };\n    return StaticIterator;\n}());\nvar StaticArrayIterator = /** @class */ (function () {\n    function StaticArrayIterator(array) {\n        this.array = array;\n        this.index = 0;\n        this.length = 0;\n        this.length = array.length;\n    }\n    StaticArrayIterator.prototype[iterator_1.iterator] = function () {\n        return this;\n    };\n    StaticArrayIterator.prototype.next = function (value) {\n        var i = this.index++;\n        var array = this.array;\n        return i < this.length ? { value: array[i], done: false } : { value: null, done: true };\n    };\n    StaticArrayIterator.prototype.hasValue = function () {\n        return this.array.length > this.index;\n    };\n    StaticArrayIterator.prototype.hasCompleted = function () {\n        return this.array.length === this.index;\n    };\n    return StaticArrayIterator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar ZipBufferIterator = /** @class */ (function (_super) {\n    __extends(ZipBufferIterator, _super);\n    function ZipBufferIterator(destination, parent, observable) {\n        var _this = _super.call(this, destination) || this;\n        _this.parent = parent;\n        _this.observable = observable;\n        _this.stillUnsubscribed = true;\n        _this.buffer = [];\n        _this.isComplete = false;\n        return _this;\n    }\n    ZipBufferIterator.prototype[iterator_1.iterator] = function () {\n        return this;\n    };\n    // NOTE: there is actually a name collision here with Subscriber.next and Iterator.next\n    //    this is legit because `next()` will never be called by a subscription in this case.\n    ZipBufferIterator.prototype.next = function () {\n        var buffer = this.buffer;\n        if (buffer.length === 0 && this.isComplete) {\n            return { value: null, done: true };\n        }\n        else {\n            return { value: buffer.shift(), done: false };\n        }\n    };\n    ZipBufferIterator.prototype.hasValue = function () {\n        return this.buffer.length > 0;\n    };\n    ZipBufferIterator.prototype.hasCompleted = function () {\n        return this.buffer.length === 0 && this.isComplete;\n    };\n    ZipBufferIterator.prototype.notifyComplete = function () {\n        if (this.buffer.length > 0) {\n            this.isComplete = true;\n            this.parent.notifyInactive();\n        }\n        else {\n            this.destination.complete();\n        }\n    };\n    ZipBufferIterator.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.buffer.push(innerValue);\n        this.parent.checkIterators();\n    };\n    ZipBufferIterator.prototype.subscribe = function (value, index) {\n        return subscribeToResult_1.subscribeToResult(this, this.observable, this, index);\n    };\n    return ZipBufferIterator;\n}(OuterSubscriber_1.OuterSubscriber));\n//# sourceMappingURL=zip.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Observable_1 = require(\"../Observable\");\nvar noop_1 = require(\"../util/noop\");\n/**\n * An Observable that emits no items to the Observer and never completes.\n *\n * <img src=\"./img/never.png\" width=\"100%\">\n *\n * A simple Observable that emits neither values nor errors nor the completion\n * notification. It can be used for testing purposes or for composing with other\n * Observables. Please note that by never emitting a complete notification, this\n * Observable keeps the subscription from being disposed automatically.\n * Subscriptions need to be manually disposed.\n *\n * @example <caption>Emit the number 7, then never emit anything else (not even complete).</caption>\n * function info() {\n *   console.log('Will not be called');\n * }\n * var result = NEVER.startWith(7);\n * result.subscribe(x => console.log(x), info, info);\n *\n * @see {@link create}\n * @see {@link EMPTY}\n * @see {@link of}\n * @see {@link throwError}\n */\nexports.NEVER = new Observable_1.Observable(noop_1.noop);\n//# sourceMappingURL=never.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* Observable */\nvar Observable_1 = require(\"./internal/Observable\");\nexports.Observable = Observable_1.Observable;\nvar ConnectableObservable_1 = require(\"./internal/observable/ConnectableObservable\");\nexports.ConnectableObservable = ConnectableObservable_1.ConnectableObservable;\nvar observable_1 = require(\"./internal/symbol/observable\");\nexports.observable = observable_1.observable;\n/* Subjects */\nvar Subject_1 = require(\"./internal/Subject\");\nexports.Subject = Subject_1.Subject;\nvar BehaviorSubject_1 = require(\"./internal/BehaviorSubject\");\nexports.BehaviorSubject = BehaviorSubject_1.BehaviorSubject;\nvar ReplaySubject_1 = require(\"./internal/ReplaySubject\");\nexports.ReplaySubject = ReplaySubject_1.ReplaySubject;\nvar AsyncSubject_1 = require(\"./internal/AsyncSubject\");\nexports.AsyncSubject = AsyncSubject_1.AsyncSubject;\n/* Schedulers */\nvar asap_1 = require(\"./internal/scheduler/asap\");\nexports.asapScheduler = asap_1.asap;\nvar async_1 = require(\"./internal/scheduler/async\");\nexports.asyncScheduler = async_1.async;\nvar queue_1 = require(\"./internal/scheduler/queue\");\nexports.queueScheduler = queue_1.queue;\nvar animationFrame_1 = require(\"./internal/scheduler/animationFrame\");\nexports.animationFrameScheduler = animationFrame_1.animationFrame;\nvar VirtualTimeScheduler_1 = require(\"./internal/scheduler/VirtualTimeScheduler\");\nexports.VirtualTimeScheduler = VirtualTimeScheduler_1.VirtualTimeScheduler;\nexports.VirtualAction = VirtualTimeScheduler_1.VirtualAction;\n/* Subscription */\nvar Subscription_1 = require(\"./internal/Subscription\");\nexports.Subscription = Subscription_1.Subscription;\nvar Subscriber_1 = require(\"./internal/Subscriber\");\nexports.Subscriber = Subscriber_1.Subscriber;\n/* Notification */\nvar Notification_1 = require(\"./internal/Notification\");\nexports.Notification = Notification_1.Notification;\n/* Utils */\nvar pipe_1 = require(\"./internal/util/pipe\");\nexports.pipe = pipe_1.pipe;\nvar noop_1 = require(\"./internal/util/noop\");\nexports.noop = noop_1.noop;\nvar identity_1 = require(\"./internal/util/identity\");\nexports.identity = identity_1.identity;\n/* Error types */\nvar ArgumentOutOfRangeError_1 = require(\"./internal/util/ArgumentOutOfRangeError\");\nexports.ArgumentOutOfRangeError = ArgumentOutOfRangeError_1.ArgumentOutOfRangeError;\nvar EmptyError_1 = require(\"./internal/util/EmptyError\");\nexports.EmptyError = EmptyError_1.EmptyError;\nvar ObjectUnsubscribedError_1 = require(\"./internal/util/ObjectUnsubscribedError\");\nexports.ObjectUnsubscribedError = ObjectUnsubscribedError_1.ObjectUnsubscribedError;\nvar UnsubscriptionError_1 = require(\"./internal/util/UnsubscriptionError\");\nexports.UnsubscriptionError = UnsubscriptionError_1.UnsubscriptionError;\nvar TimeoutError_1 = require(\"./internal/util/TimeoutError\");\nexports.TimeoutError = TimeoutError_1.TimeoutError;\n/* Static observable creation exports */\nvar bindCallback_1 = require(\"./internal/observable/bindCallback\");\nexports.bindCallback = bindCallback_1.bindCallback;\nvar bindNodeCallback_1 = require(\"./internal/observable/bindNodeCallback\");\nexports.bindNodeCallback = bindNodeCallback_1.bindNodeCallback;\nvar combineLatest_1 = require(\"./internal/observable/combineLatest\");\nexports.combineLatest = combineLatest_1.combineLatest;\nvar concat_1 = require(\"./internal/observable/concat\");\nexports.concat = concat_1.concat;\nvar defer_1 = require(\"./internal/observable/defer\");\nexports.defer = defer_1.defer;\nvar empty_1 = require(\"./internal/observable/empty\");\nexports.empty = empty_1.empty;\nvar forkJoin_1 = require(\"./internal/observable/forkJoin\");\nexports.forkJoin = forkJoin_1.forkJoin;\nvar from_1 = require(\"./internal/observable/from\");\nexports.from = from_1.from;\nvar fromEvent_1 = require(\"./internal/observable/fromEvent\");\nexports.fromEvent = fromEvent_1.fromEvent;\nvar fromEventPattern_1 = require(\"./internal/observable/fromEventPattern\");\nexports.fromEventPattern = fromEventPattern_1.fromEventPattern;\nvar generate_1 = require(\"./internal/observable/generate\");\nexports.generate = generate_1.generate;\nvar iif_1 = require(\"./internal/observable/iif\");\nexports.iif = iif_1.iif;\nvar interval_1 = require(\"./internal/observable/interval\");\nexports.interval = interval_1.interval;\nvar merge_1 = require(\"./internal/observable/merge\");\nexports.merge = merge_1.merge;\nvar of_1 = require(\"./internal/observable/of\");\nexports.of = of_1.of;\nvar onErrorResumeNext_1 = require(\"./internal/observable/onErrorResumeNext\");\nexports.onErrorResumeNext = onErrorResumeNext_1.onErrorResumeNext;\nvar pairs_1 = require(\"./internal/observable/pairs\");\nexports.pairs = pairs_1.pairs;\nvar race_1 = require(\"./internal/observable/race\");\nexports.race = race_1.race;\nvar range_1 = require(\"./internal/observable/range\");\nexports.range = range_1.range;\nvar throwError_1 = require(\"./internal/observable/throwError\");\nexports.throwError = throwError_1.throwError;\nvar timer_1 = require(\"./internal/observable/timer\");\nexports.timer = timer_1.timer;\nvar using_1 = require(\"./internal/observable/using\");\nexports.using = using_1.using;\nvar zip_1 = require(\"./internal/observable/zip\");\nexports.zip = zip_1.zip;\n/* Constants */\nvar empty_2 = require(\"./internal/observable/empty\");\nexports.EMPTY = empty_2.EMPTY;\nvar never_1 = require(\"./internal/observable/never\");\nexports.NEVER = never_1.NEVER;\n//# sourceMappingURL=index.js.map","'use strict';\nvar aFunction = require('./_a-function');\nvar isObject = require('./_is-object');\nvar invoke = require('./_invoke');\nvar arraySlice = [].slice;\nvar factories = {};\n\nvar construct = function (F, len, args) {\n  if (!(len in factories)) {\n    for (var n = [], i = 0; i < len; i++) n[i] = 'a[' + i + ']';\n    // eslint-disable-next-line no-new-func\n    factories[len] = Function('F,a', 'return new F(' + n.join(',') + ')');\n  } return factories[len](F, args);\n};\n\nmodule.exports = Function.bind || function bind(that /* , ...args */) {\n  var fn = aFunction(this);\n  var partArgs = arraySlice.call(arguments, 1);\n  var bound = function (/* args... */) {\n    var args = partArgs.concat(arraySlice.call(arguments));\n    return this instanceof bound ? construct(fn, args.length, args) : invoke(fn, args, that);\n  };\n  if (isObject(fn.prototype)) bound.prototype = fn.prototype;\n  return bound;\n};\n","// 26.1.2 Reflect.construct(target, argumentsList [, newTarget])\nvar $export = require('./_export');\nvar create = require('./_object-create');\nvar aFunction = require('./_a-function');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar bind = require('./_bind');\nvar rConstruct = (require('./_global').Reflect || {}).construct;\n\n// MS Edge supports only 2 arguments and argumentsList argument is optional\n// FF Nightly sets third argument as `new.target`, but does not create `this` from it\nvar NEW_TARGET_BUG = fails(function () {\n  function F() { /* empty */ }\n  return !(rConstruct(function () { /* empty */ }, [], F) instanceof F);\n});\nvar ARGS_BUG = !fails(function () {\n  rConstruct(function () { /* empty */ });\n});\n\n$export($export.S + $export.F * (NEW_TARGET_BUG || ARGS_BUG), 'Reflect', {\n  construct: function construct(Target, args /* , newTarget */) {\n    aFunction(Target);\n    anObject(args);\n    var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]);\n    if (ARGS_BUG && !NEW_TARGET_BUG) return rConstruct(Target, args, newTarget);\n    if (Target == newTarget) {\n      // w/o altered newTarget, optimization for 0-4 arguments\n      switch (args.length) {\n        case 0: return new Target();\n        case 1: return new Target(args[0]);\n        case 2: return new Target(args[0], args[1]);\n        case 3: return new Target(args[0], args[1], args[2]);\n        case 4: return new Target(args[0], args[1], args[2], args[3]);\n      }\n      // w/o altered newTarget, lot of arguments case\n      var $args = [null];\n      $args.push.apply($args, args);\n      return new (bind.apply(Target, $args))();\n    }\n    // with altered newTarget, not support built-in constructors\n    var proto = newTarget.prototype;\n    var instance = create(isObject(proto) ? proto : Object.prototype);\n    var result = Function.apply.call(Target, instance, args);\n    return isObject(result) ? result : instance;\n  }\n});\n","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","'use strict';\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar wks = require('./_wks');\n\nmodule.exports = function (KEY, length, exec) {\n  var SYMBOL = wks(KEY);\n  var fns = exec(defined, SYMBOL, ''[KEY]);\n  var strfn = fns[0];\n  var rxfn = fns[1];\n  if (fails(function () {\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  })) {\n    redefine(String.prototype, KEY, strfn);\n    hide(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return rxfn.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return rxfn.call(string, this); }\n    );\n  }\n};\n","// 7.2.8 IsRegExp(argument)\nvar isObject = require('./_is-object');\nvar cof = require('./_cof');\nvar MATCH = require('./_wks')('match');\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');\n};\n","// @@split logic\nrequire('./_fix-re-wks')('split', 2, function (defined, SPLIT, $split) {\n  'use strict';\n  var isRegExp = require('./_is-regexp');\n  var _split = $split;\n  var $push = [].push;\n  var $SPLIT = 'split';\n  var LENGTH = 'length';\n  var LAST_INDEX = 'lastIndex';\n  if (\n    'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||\n    'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||\n    'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||\n    '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||\n    '.'[$SPLIT](/()()/)[LENGTH] > 1 ||\n    ''[$SPLIT](/.?/)[LENGTH]\n  ) {\n    var NPCG = /()??/.exec('')[1] === undefined; // nonparticipating capturing group\n    // based on es5-shim implementation, need to rework it\n    $split = function (separator, limit) {\n      var string = String(this);\n      if (separator === undefined && limit === 0) return [];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) return _split.call(string, separator, limit);\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      var splitLimit = limit === undefined ? 4294967295 : limit >>> 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var separator2, match, lastIndex, lastLength, i;\n      // Doesn't need flags gy, but they don't hurt\n      if (!NPCG) separator2 = new RegExp('^' + separatorCopy.source + '$(?!\\\\s)', flags);\n      while (match = separatorCopy.exec(string)) {\n        // `separatorCopy.lastIndex` is not reliable cross-browser\n        lastIndex = match.index + match[0][LENGTH];\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          // Fix browsers whose `exec` methods don't consistently return `undefined` for NPCG\n          // eslint-disable-next-line no-loop-func\n          if (!NPCG && match[LENGTH] > 1) match[0].replace(separator2, function () {\n            for (i = 1; i < arguments[LENGTH] - 2; i++) if (arguments[i] === undefined) match[i] = undefined;\n          });\n          if (match[LENGTH] > 1 && match.index < string[LENGTH]) $push.apply(output, match.slice(1));\n          lastLength = match[0][LENGTH];\n          lastLastIndex = lastIndex;\n          if (output[LENGTH] >= splitLimit) break;\n        }\n        if (separatorCopy[LAST_INDEX] === match.index) separatorCopy[LAST_INDEX]++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string[LENGTH]) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;\n    };\n  // Chakra, V8\n  } else if ('0'[$SPLIT](undefined, 0)[LENGTH]) {\n    $split = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : _split.call(this, separator, limit);\n    };\n  }\n  // 21.1.3.17 String.prototype.split(separator, limit)\n  return [function split(separator, limit) {\n    var O = defined(this);\n    var fn = separator == undefined ? undefined : separator[SPLIT];\n    return fn !== undefined ? fn.call(separator, O, limit) : $split.call(String(O), separator, limit);\n  }, $split];\n});\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n// The first argument to JS template tags retain identity across multiple\n// calls to a tag for the same literal, so we can cache work done per literal\n// in a Map.\nexport const templateCaches = new Map();\n/**\n * Interprets a template literal as an HTML template that can efficiently\n * render to and update a container.\n */\nexport const html = (strings, ...values) => new TemplateResult(strings, values, 'html');\n/**\n * Interprets a template literal as an SVG template that can efficiently\n * render to and update a container.\n */\nexport const svg = (strings, ...values) => new SVGTemplateResult(strings, values, 'svg');\n/**\n * The return type of `html`, which holds a Template and the values from\n * interpolated expressions.\n */\nexport class TemplateResult {\n    constructor(strings, values, type, partCallback = defaultPartCallback) {\n        this.strings = strings;\n        this.values = values;\n        this.type = type;\n        this.partCallback = partCallback;\n    }\n    /**\n     * Returns a string of HTML used to create a <template> element.\n     */\n    getHTML() {\n        const l = this.strings.length - 1;\n        let html = '';\n        let isTextBinding = true;\n        for (let i = 0; i < l; i++) {\n            const s = this.strings[i];\n            html += s;\n            // We're in a text position if the previous string closed its tags.\n            // If it doesn't have any tags, then we use the previous text position\n            // state.\n            const closing = findTagClose(s);\n            isTextBinding = closing > -1 ? closing < s.length : isTextBinding;\n            html += isTextBinding ? nodeMarker : marker;\n        }\n        html += this.strings[l];\n        return html;\n    }\n    getTemplateElement() {\n        const template = document.createElement('template');\n        template.innerHTML = this.getHTML();\n        return template;\n    }\n}\n/**\n * A TemplateResult for SVG fragments.\n *\n * This class wraps HTMl in an <svg> tag in order to parse its contents in the\n * SVG namespace, then modifies the template to remove the <svg> tag so that\n * clones only container the original fragment.\n */\nexport class SVGTemplateResult extends TemplateResult {\n    getHTML() {\n        return `<svg>${super.getHTML()}</svg>`;\n    }\n    getTemplateElement() {\n        const template = super.getTemplateElement();\n        const content = template.content;\n        const svgElement = content.firstChild;\n        content.removeChild(svgElement);\n        reparentNodes(content, svgElement.firstChild);\n        return template;\n    }\n}\n/**\n * The default TemplateFactory which caches Templates keyed on\n * result.type and result.strings.\n */\nexport function defaultTemplateFactory(result) {\n    let templateCache = templateCaches.get(result.type);\n    if (templateCache === undefined) {\n        templateCache = new Map();\n        templateCaches.set(result.type, templateCache);\n    }\n    let template = templateCache.get(result.strings);\n    if (template === undefined) {\n        template = new Template(result, result.getTemplateElement());\n        templateCache.set(result.strings, template);\n    }\n    return template;\n}\n/**\n * Renders a template to a container.\n *\n * To update a container with new values, reevaluate the template literal and\n * call `render` with the new result.\n *\n * @param result a TemplateResult created by evaluating a template tag like\n *     `html` or `svg`.\n * @param container A DOM parent to render to. The entire contents are either\n *     replaced, or efficiently updated if the same result type was previous\n *     rendered there.\n * @param templateFactory a function to create a Template or retreive one from\n *     cache.\n */\nexport function render(result, container, templateFactory = defaultTemplateFactory) {\n    const template = templateFactory(result);\n    let instance = container.__templateInstance;\n    // Repeat render, just call update()\n    if (instance !== undefined && instance.template === template &&\n        instance._partCallback === result.partCallback) {\n        instance.update(result.values);\n        return;\n    }\n    // First render, create a new TemplateInstance and append it\n    instance =\n        new TemplateInstance(template, result.partCallback, templateFactory);\n    container.__templateInstance = instance;\n    const fragment = instance._clone();\n    instance.update(result.values);\n    removeNodes(container, container.firstChild);\n    container.appendChild(fragment);\n}\n/**\n * An expression marker with embedded unique key to avoid collision with\n * possible text in templates.\n */\nconst marker = `{{lit-${String(Math.random()).slice(2)}}}`;\n/**\n * An expression marker used text-posisitions, not attribute positions,\n * in template.\n */\nconst nodeMarker = `<!--${marker}-->`;\nconst markerRegex = new RegExp(`${marker}|${nodeMarker}`);\n/**\n * This regex extracts the attribute name preceding an attribute-position\n * expression. It does this by matching the syntax allowed for attributes\n * against the string literal directly preceding the expression, assuming that\n * the expression is in an attribute-value position.\n *\n * See attributes in the HTML spec:\n * https://www.w3.org/TR/html5/syntax.html#attributes-0\n *\n * \"\\0-\\x1F\\x7F-\\x9F\" are Unicode control characters\n *\n * \" \\x09\\x0a\\x0c\\x0d\" are HTML space characters:\n * https://www.w3.org/TR/html5/infrastructure.html#space-character\n *\n * So an attribute is:\n *  * The name: any character except a control character, space character, ('),\n *    (\"), \">\", \"=\", or \"/\"\n *  * Followed by zero or more space characters\n *  * Followed by \"=\"\n *  * Followed by zero or more space characters\n *  * Followed by:\n *    * Any character except space, ('), (\"), \"<\", \">\", \"=\", (`), or\n *    * (\") then any non-(\"), or\n *    * (') then any non-(')\n */\nconst lastAttributeNameRegex = /[ \\x09\\x0a\\x0c\\x0d]([^\\0-\\x1F\\x7F-\\x9F \\x09\\x0a\\x0c\\x0d\"'>=/]+)[ \\x09\\x0a\\x0c\\x0d]*=[ \\x09\\x0a\\x0c\\x0d]*(?:[^ \\x09\\x0a\\x0c\\x0d\"'`<>=]*|\"[^\"]*|'[^']*)$/;\n/**\n * Finds the closing index of the last closed HTML tag.\n * This has 3 possible return values:\n *   - `-1`, meaning there is no tag in str.\n *   - `string.length`, meaning the last opened tag is unclosed.\n *   - Some positive number < str.length, meaning the index of the closing '>'.\n */\nfunction findTagClose(str) {\n    const close = str.lastIndexOf('>');\n    const open = str.indexOf('<', close + 1);\n    return open > -1 ? str.length : close;\n}\n/**\n * A placeholder for a dynamic expression in an HTML template.\n *\n * There are two built-in part types: AttributePart and NodePart. NodeParts\n * always represent a single dynamic expression, while AttributeParts may\n * represent as many expressions are contained in the attribute.\n *\n * A Template's parts are mutable, so parts can be replaced or modified\n * (possibly to implement different template semantics). The contract is that\n * parts can only be replaced, not removed, added or reordered, and parts must\n * always consume the correct number of values in their `update()` method.\n *\n * TODO(justinfagnani): That requirement is a little fragile. A\n * TemplateInstance could instead be more careful about which values it gives\n * to Part.update().\n */\nexport class TemplatePart {\n    constructor(type, index, name, rawName, strings) {\n        this.type = type;\n        this.index = index;\n        this.name = name;\n        this.rawName = rawName;\n        this.strings = strings;\n    }\n}\n/**\n * An updateable Template that tracks the location of dynamic parts.\n */\nexport class Template {\n    constructor(result, element) {\n        this.parts = [];\n        this.element = element;\n        const content = this.element.content;\n        // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n        const walker = document.createTreeWalker(content, 133 /* NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT |\n               NodeFilter.SHOW_TEXT */, null, false);\n        let index = -1;\n        let partIndex = 0;\n        const nodesToRemove = [];\n        // The actual previous node, accounting for removals: if a node is removed\n        // it will never be the previousNode.\n        let previousNode;\n        // Used to set previousNode at the top of the loop.\n        let currentNode;\n        while (walker.nextNode()) {\n            index++;\n            previousNode = currentNode;\n            const node = currentNode = walker.currentNode;\n            if (node.nodeType === 1 /* Node.ELEMENT_NODE */) {\n                if (!node.hasAttributes()) {\n                    continue;\n                }\n                const attributes = node.attributes;\n                // Per https://developer.mozilla.org/en-US/docs/Web/API/NamedNodeMap,\n                // attributes are not guaranteed to be returned in document order. In\n                // particular, Edge/IE can return them out of order, so we cannot assume\n                // a correspondance between part index and attribute index.\n                let count = 0;\n                for (let i = 0; i < attributes.length; i++) {\n                    if (attributes[i].value.indexOf(marker) >= 0) {\n                        count++;\n                    }\n                }\n                while (count-- > 0) {\n                    // Get the template literal section leading up to the first\n                    // expression in this attribute attribute\n                    const stringForPart = result.strings[partIndex];\n                    // Find the attribute name\n                    const attributeNameInPart = lastAttributeNameRegex.exec(stringForPart)[1];\n                    // Find the corresponding attribute\n                    // TODO(justinfagnani): remove non-null assertion\n                    const attribute = attributes.getNamedItem(attributeNameInPart);\n                    const stringsForAttributeValue = attribute.value.split(markerRegex);\n                    this.parts.push(new TemplatePart('attribute', index, attribute.name, attributeNameInPart, stringsForAttributeValue));\n                    node.removeAttribute(attribute.name);\n                    partIndex += stringsForAttributeValue.length - 1;\n                }\n            }\n            else if (node.nodeType === 3 /* Node.TEXT_NODE */) {\n                const nodeValue = node.nodeValue;\n                if (nodeValue.indexOf(marker) < 0) {\n                    continue;\n                }\n                const parent = node.parentNode;\n                const strings = nodeValue.split(markerRegex);\n                const lastIndex = strings.length - 1;\n                // We have a part for each match found\n                partIndex += lastIndex;\n                // Generate a new text node for each literal section\n                // These nodes are also used as the markers for node parts\n                for (let i = 0; i < lastIndex; i++) {\n                    parent.insertBefore((strings[i] === '')\n                        ? document.createComment('')\n                        : document.createTextNode(strings[i]), node);\n                    this.parts.push(new TemplatePart('node', index++));\n                }\n                parent.insertBefore(strings[lastIndex] === '' ?\n                    document.createComment('') :\n                    document.createTextNode(strings[lastIndex]), node);\n                nodesToRemove.push(node);\n            }\n            else if (node.nodeType === 8 /* Node.COMMENT_NODE */ &&\n                node.nodeValue === marker) {\n                const parent = node.parentNode;\n                // Add a new marker node to be the startNode of the Part if any of the\n                // following are true:\n                //  * We don't have a previousSibling\n                //  * previousSibling is being removed (thus it's not the\n                //    `previousNode`)\n                //  * previousSibling is not a Text node\n                //\n                // TODO(justinfagnani): We should be able to use the previousNode here\n                // as the marker node and reduce the number of extra nodes we add to a\n                // template. See https://github.com/PolymerLabs/lit-html/issues/147\n                const previousSibling = node.previousSibling;\n                if (previousSibling === null || previousSibling !== previousNode ||\n                    previousSibling.nodeType !== Node.TEXT_NODE) {\n                    parent.insertBefore(document.createComment(''), node);\n                }\n                else {\n                    index--;\n                }\n                this.parts.push(new TemplatePart('node', index++));\n                nodesToRemove.push(node);\n                // If we don't have a nextSibling add a marker node.\n                // We don't have to check if the next node is going to be removed,\n                // because that node will induce a new marker if so.\n                if (node.nextSibling === null) {\n                    parent.insertBefore(document.createComment(''), node);\n                }\n                else {\n                    index--;\n                }\n                currentNode = previousNode;\n                partIndex++;\n            }\n        }\n        // Remove text binding nodes after the walk to not disturb the TreeWalker\n        for (const n of nodesToRemove) {\n            n.parentNode.removeChild(n);\n        }\n    }\n}\n/**\n * Returns a value ready to be inserted into a Part from a user-provided value.\n *\n * If the user value is a directive, this invokes the directive with the given\n * part. If the value is null, it's converted to undefined to work better\n * with certain DOM APIs, like textContent.\n */\nexport const getValue = (part, value) => {\n    // `null` as the value of a Text node will render the string 'null'\n    // so we convert it to undefined\n    if (isDirective(value)) {\n        value = value(part);\n        return directiveValue;\n    }\n    return value === null ? undefined : value;\n};\nexport const directive = (f) => {\n    f.__litDirective = true;\n    return f;\n};\nconst isDirective = (o) => typeof o === 'function' && o.__litDirective === true;\n/**\n * A sentinel value that signals that a value was handled by a directive and\n * should not be written to the DOM.\n */\nexport const directiveValue = {};\nconst isPrimitiveValue = (value) => value === null ||\n    !(typeof value === 'object' || typeof value === 'function');\nexport class AttributePart {\n    constructor(instance, element, name, strings) {\n        this.instance = instance;\n        this.element = element;\n        this.name = name;\n        this.strings = strings;\n        this.size = strings.length - 1;\n        this._previousValues = [];\n    }\n    _interpolate(values, startIndex) {\n        const strings = this.strings;\n        const l = strings.length - 1;\n        let text = '';\n        for (let i = 0; i < l; i++) {\n            text += strings[i];\n            const v = getValue(this, values[startIndex + i]);\n            if (v && v !== directiveValue &&\n                (Array.isArray(v) || typeof v !== 'string' && v[Symbol.iterator])) {\n                for (const t of v) {\n                    // TODO: we need to recursively call getValue into iterables...\n                    text += t;\n                }\n            }\n            else {\n                text += v;\n            }\n        }\n        return text + strings[l];\n    }\n    _equalToPreviousValues(values, startIndex) {\n        for (let i = startIndex; i < startIndex + this.size; i++) {\n            if (this._previousValues[i] !== values[i] ||\n                !isPrimitiveValue(values[i])) {\n                return false;\n            }\n        }\n        return true;\n    }\n    setValue(values, startIndex) {\n        if (this._equalToPreviousValues(values, startIndex)) {\n            return;\n        }\n        const s = this.strings;\n        let value;\n        if (s.length === 2 && s[0] === '' && s[1] === '') {\n            // An expression that occupies the whole attribute value will leave\n            // leading and trailing empty strings.\n            value = getValue(this, values[startIndex]);\n            if (Array.isArray(value)) {\n                value = value.join('');\n            }\n        }\n        else {\n            value = this._interpolate(values, startIndex);\n        }\n        if (value !== directiveValue) {\n            this.element.setAttribute(this.name, value);\n        }\n        this._previousValues = values;\n    }\n}\nexport class NodePart {\n    constructor(instance, startNode, endNode) {\n        this.instance = instance;\n        this.startNode = startNode;\n        this.endNode = endNode;\n        this._previousValue = undefined;\n    }\n    setValue(value) {\n        value = getValue(this, value);\n        if (value === directiveValue) {\n            return;\n        }\n        if (isPrimitiveValue(value)) {\n            // Handle primitive values\n            // If the value didn't change, do nothing\n            if (value === this._previousValue) {\n                return;\n            }\n            this._setText(value);\n        }\n        else if (value instanceof TemplateResult) {\n            this._setTemplateResult(value);\n        }\n        else if (Array.isArray(value) || value[Symbol.iterator]) {\n            this._setIterable(value);\n        }\n        else if (value instanceof Node) {\n            this._setNode(value);\n        }\n        else if (value.then !== undefined) {\n            this._setPromise(value);\n        }\n        else {\n            // Fallback, will render the string representation\n            this._setText(value);\n        }\n    }\n    _insert(node) {\n        this.endNode.parentNode.insertBefore(node, this.endNode);\n    }\n    _setNode(value) {\n        if (this._previousValue === value) {\n            return;\n        }\n        this.clear();\n        this._insert(value);\n        this._previousValue = value;\n    }\n    _setText(value) {\n        const node = this.startNode.nextSibling;\n        value = value === undefined ? '' : value;\n        if (node === this.endNode.previousSibling &&\n            node.nodeType === Node.TEXT_NODE) {\n            // If we only have a single text node between the markers, we can just\n            // set its value, rather than replacing it.\n            // TODO(justinfagnani): Can we just check if _previousValue is\n            // primitive?\n            node.textContent = value;\n        }\n        else {\n            this._setNode(document.createTextNode(value));\n        }\n        this._previousValue = value;\n    }\n    _setTemplateResult(value) {\n        const template = this.instance._getTemplate(value);\n        let instance;\n        if (this._previousValue && this._previousValue.template === template) {\n            instance = this._previousValue;\n        }\n        else {\n            instance = new TemplateInstance(template, this.instance._partCallback, this.instance._getTemplate);\n            this._setNode(instance._clone());\n            this._previousValue = instance;\n        }\n        instance.update(value.values);\n    }\n    _setIterable(value) {\n        // For an Iterable, we create a new InstancePart per item, then set its\n        // value to the item. This is a little bit of overhead for every item in\n        // an Iterable, but it lets us recurse easily and efficiently update Arrays\n        // of TemplateResults that will be commonly returned from expressions like:\n        // array.map((i) => html`${i}`), by reusing existing TemplateInstances.\n        // If _previousValue is an array, then the previous render was of an\n        // iterable and _previousValue will contain the NodeParts from the previous\n        // render. If _previousValue is not an array, clear this part and make a new\n        // array for NodeParts.\n        if (!Array.isArray(this._previousValue)) {\n            this.clear();\n            this._previousValue = [];\n        }\n        // Lets us keep track of how many items we stamped so we can clear leftover\n        // items from a previous render\n        const itemParts = this._previousValue;\n        let partIndex = 0;\n        for (const item of value) {\n            // Try to reuse an existing part\n            let itemPart = itemParts[partIndex];\n            // If no existing part, create a new one\n            if (itemPart === undefined) {\n                // If we're creating the first item part, it's startNode should be the\n                // container's startNode\n                let itemStart = this.startNode;\n                // If we're not creating the first part, create a new separator marker\n                // node, and fix up the previous part's endNode to point to it\n                if (partIndex > 0) {\n                    const previousPart = itemParts[partIndex - 1];\n                    itemStart = previousPart.endNode = document.createTextNode('');\n                    this._insert(itemStart);\n                }\n                itemPart = new NodePart(this.instance, itemStart, this.endNode);\n                itemParts.push(itemPart);\n            }\n            itemPart.setValue(item);\n            partIndex++;\n        }\n        if (partIndex === 0) {\n            this.clear();\n            this._previousValue = undefined;\n        }\n        else if (partIndex < itemParts.length) {\n            const lastPart = itemParts[partIndex - 1];\n            // Truncate the parts array so _previousValue reflects the current state\n            itemParts.length = partIndex;\n            this.clear(lastPart.endNode.previousSibling);\n            lastPart.endNode = this.endNode;\n        }\n    }\n    _setPromise(value) {\n        this._previousValue = value;\n        value.then((v) => {\n            if (this._previousValue === value) {\n                this.setValue(v);\n            }\n        });\n    }\n    clear(startNode = this.startNode) {\n        removeNodes(this.startNode.parentNode, startNode.nextSibling, this.endNode);\n    }\n}\nexport const defaultPartCallback = (instance, templatePart, node) => {\n    if (templatePart.type === 'attribute') {\n        return new AttributePart(instance, node, templatePart.name, templatePart.strings);\n    }\n    else if (templatePart.type === 'node') {\n        return new NodePart(instance, node, node.nextSibling);\n    }\n    throw new Error(`Unknown part type ${templatePart.type}`);\n};\n/**\n * An instance of a `Template` that can be attached to the DOM and updated\n * with new values.\n */\nexport class TemplateInstance {\n    constructor(template, partCallback, getTemplate) {\n        this._parts = [];\n        this.template = template;\n        this._partCallback = partCallback;\n        this._getTemplate = getTemplate;\n    }\n    update(values) {\n        let valueIndex = 0;\n        for (const part of this._parts) {\n            if (part.size === undefined) {\n                part.setValue(values[valueIndex]);\n                valueIndex++;\n            }\n            else {\n                part.setValue(values, valueIndex);\n                valueIndex += part.size;\n            }\n        }\n    }\n    _clone() {\n        const fragment = document.importNode(this.template.element.content, true);\n        const parts = this.template.parts;\n        if (parts.length > 0) {\n            // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be\n            // null\n            const walker = document.createTreeWalker(fragment, 133 /* NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT |\n                   NodeFilter.SHOW_TEXT */, null, false);\n            let index = -1;\n            for (let i = 0; i < parts.length; i++) {\n                const part = parts[i];\n                while (index < part.index) {\n                    index++;\n                    walker.nextNode();\n                }\n                this._parts.push(this._partCallback(this, part, walker.currentNode));\n            }\n        }\n        return fragment;\n    }\n}\n/**\n * Reparents nodes, starting from `startNode` (inclusive) to `endNode`\n * (exclusive), into another container (could be the same container), before\n * `beforeNode`. If `beforeNode` is null, it appends the nodes to the\n * container.\n */\nexport const reparentNodes = (container, start, end = null, before = null) => {\n    let node = start;\n    while (node !== end) {\n        const n = node.nextSibling;\n        container.insertBefore(node, before);\n        node = n;\n    }\n};\n/**\n * Removes nodes, starting from `startNode` (inclusive) to `endNode`\n * (exclusive), from `container`.\n */\nexport const removeNodes = (container, startNode, endNode = null) => {\n    let node = startNode;\n    while (node !== endNode) {\n        const n = node.nextSibling;\n        container.removeChild(node);\n        node = n;\n    }\n};\n//# sourceMappingURL=lit-html.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { render as baseRender, Template, templateCaches } from '../lit-html.js';\nexport { html, svg, TemplateResult } from '../lit-html.js';\nconst shadyTemplateFactory = (scopeName) => (result) => {\n    const cacheKey = `${result.type}--${scopeName}`;\n    let templateCache = templateCaches.get(cacheKey);\n    if (templateCache === undefined) {\n        templateCache = new Map();\n        templateCaches.set(cacheKey, templateCache);\n    }\n    let template = templateCache.get(result.strings);\n    if (template === undefined) {\n        const element = result.getTemplateElement();\n        if (typeof window.ShadyCSS === 'object') {\n            window.ShadyCSS.prepareTemplate(element, scopeName);\n        }\n        template = new Template(result, element);\n        templateCache.set(result.strings, template);\n    }\n    return template;\n};\nexport function render(result, container, scopeName) {\n    return baseRender(result, container, shadyTemplateFactory(scopeName));\n}\n//# sourceMappingURL=shady-render.js.map","import { html, render } from 'lit-html/lib/shady-render';\n\nfunction template() {\n  return html`\n<style>\n:host {\n  display: block;\n  position: absolute;\n  z-index: 1;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  \n  background-repeat: no-repeat !important;\n  background-size: cover !important;\n  background-position: center center !important;\n}\n</style>\n`;\n}\n\nexport enum TalkieBackfaceAttributes {\n  IMAGE = 'image',\n  FILTER = 'filter',\n}\n\nexport class TalkieBackface extends HTMLElement {\n  static get ns() {\n    return 'tk-backface';\n  }\n  static get observedAttributes() {\n    return [TalkieBackfaceAttributes.IMAGE, TalkieBackfaceAttributes.FILTER];\n  }\n\n  public connectedCallback(): void {\n    this.attachShadow({ mode: 'open' });\n    this.render();\n  }\n\n  public attributeChangedCallback() {\n    const imageUrl: string | null = this.getAttribute(TalkieBackfaceAttributes.IMAGE) || '';\n    const filterDecl: string | null = this.getAttribute(TalkieBackfaceAttributes.FILTER) || '';\n\n    if (imageUrl) {\n      const style: string = `background-image: url(${imageUrl});background-color: transparent;filter: ${\n        filterDecl ? filterDecl : 'none'\n      };`;\n      this.setAttribute('style', style);\n    } else {\n      this.removeAttribute('style');\n    }\n  }\n\n  private render() {\n    if (this.shadowRoot == null) {\n      throw new Error('shadowRoot not initialized yet');\n    }\n\n    render(template(), this.shadowRoot, TalkieBackface.ns);\n  }\n}\n","import { html, render } from 'lit-html/lib/shady-render';\n\nfunction template({ current, total }: { current: string; total: string }) {\n  return html`\n<style>\n:host {\n  position: fixed;\n  z-index: 3;\n  bottom: 0;\n  right: 0;\n  padding: 20px;\n  color: hotpink;\n  font-family: Consolas, Monaco, 'Andale Mono', monospace;\n}\n\n.next, .prev {\n  background: none;\n  border: none;\n  cursor: pointer;\n  width: 0;\n  height: 0;\n  border: 10px solid transparent;\n  padding: 0;\n  vertical-align: middle;\n}\n\n.next {\n  border-left-width: 20px;\n  border-left-color: hotpink;\n}\n\n.prev {\n  border-right-width: 20px;\n  border-right-color: hotpink;\n}\n</style>\n\n<nav>\n  <p>\n    <button class=\"prev\" aria-label=\"Prev Slide\"></button>\n    Page ${current} of ${total}\n    <button class=\"next\" aria-label=\"Next Slide\"></button>\n  </p>\n</nav>\n`;\n}\n\nexport enum TalkiePagerAttributes {\n  TOTAL = 'total',\n  CURRENT = 'current',\n}\n\nexport class TalkiePager extends HTMLElement {\n  static get ns() {\n    return 'tk-pager';\n  }\n\n  static get observedAttributes() {\n    return [TalkiePagerAttributes.TOTAL, TalkiePagerAttributes.CURRENT];\n  }\n\n  constructor() {\n    super();\n  }\n\n  public connectedCallback(): void {\n    this.attachShadow({ mode: 'open' });\n    this.render();\n  }\n\n  public attributeChangedCallback(): void {\n    this.render();\n  }\n\n  private render(): void {\n    if (this.shadowRoot == null) {\n      throw new Error('shadowRoot not initialized yet');\n    }\n\n    const current: string = this.getAttribute(TalkiePagerAttributes.CURRENT) || '0';\n    const total: string = this.getAttribute(TalkiePagerAttributes.TOTAL) || '0';\n\n    render(template({ current, total }), this.shadowRoot, TalkiePager.ns);\n  }\n}\n","import { html, render } from 'lit-html/lib/shady-render';\n\nfunction template() {\n  return html`\n<style>\n:host {\n  display: block;\n  position: fixed;\n  z-index: 4;\n  bottom: 0;\n  left: 0;\n  width: 0%;\n  height: 0.2em;\n  background-color: darkgray;\n}\n</style>\n`;\n}\n\nexport enum TalkieProgressAttributes {\n  PROGRESS = 'progress',\n}\n\nexport class TalkieProgress extends HTMLElement {\n  static get ns() {\n    return 'tk-progress';\n  }\n\n  static get observedAttributes() {\n    return [TalkieProgressAttributes.PROGRESS];\n  }\n\n  public connectedCallback(): void {\n    this.attachShadow({ mode: 'open' });\n    this.render();\n  }\n\n  public attributeChangedCallback(): void {\n    const progress: string = this.getAttribute(TalkieProgressAttributes.PROGRESS) || '0';\n    this.setAttribute('style', `width: ${progress}%;`);\n  }\n\n  private render() {\n    if (this.shadowRoot == null) {\n      throw new Error('shadowRoot not initialized yet');\n    }\n\n    render(template(), this.shadowRoot, TalkieProgress.ns);\n  }\n}\n","'use strict';\n// https://github.com/tc39/Array.prototype.includes\nvar $export = require('./_export');\nvar $includes = require('./_array-includes')(true);\n\n$export($export.P, 'Array', {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\nrequire('./_add-to-unscopables')('includes');\n","// @@replace logic\nrequire('./_fix-re-wks')('replace', 2, function (defined, REPLACE, $replace) {\n  // 21.1.3.14 String.prototype.replace(searchValue, replaceValue)\n  return [function replace(searchValue, replaceValue) {\n    'use strict';\n    var O = defined(this);\n    var fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n    return fn !== undefined\n      ? fn.call(searchValue, O, replaceValue)\n      : $replace.call(String(O), searchValue, replaceValue);\n  }, $replace];\n});\n","// HTML5 entities map: { name -> utf16string }\n//\n'use strict';\n\n/*eslint quotes:0*/\nmodule.exports = require('entities/maps/entities.json');\n","module.exports=/[!-#%-\\*,-/:;\\?@\\[-\\]_\\{\\}\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u09FD\\u0AF0\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E49\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]|\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC9\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDC4B-\\uDC4F\\uDC5B\\uDC5D\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDE60-\\uDE6C\\uDF3C-\\uDF3E]|\\uD806[\\uDE3F-\\uDE46\\uDE9A-\\uDE9C\\uDE9E-\\uDEA2]|\\uD807[\\uDC41-\\uDC45\\uDC70\\uDC71]|\\uD809[\\uDC70-\\uDC74]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B]|\\uD83A[\\uDD5E\\uDD5F]/","\n'use strict';\n\n\nvar encodeCache = {};\n\n\n// Create a lookup array where anything but characters in `chars` string\n// and alphanumeric chars is percent-encoded.\n//\nfunction getEncodeCache(exclude) {\n  var i, ch, cache = encodeCache[exclude];\n  if (cache) { return cache; }\n\n  cache = encodeCache[exclude] = [];\n\n  for (i = 0; i < 128; i++) {\n    ch = String.fromCharCode(i);\n\n    if (/^[0-9a-z]$/i.test(ch)) {\n      // always allow unencoded alphanumeric characters\n      cache.push(ch);\n    } else {\n      cache.push('%' + ('0' + i.toString(16).toUpperCase()).slice(-2));\n    }\n  }\n\n  for (i = 0; i < exclude.length; i++) {\n    cache[exclude.charCodeAt(i)] = exclude[i];\n  }\n\n  return cache;\n}\n\n\n// Encode unsafe characters with percent-encoding, skipping already\n// encoded sequences.\n//\n//  - string       - string to encode\n//  - exclude      - list of characters to ignore (in addition to a-zA-Z0-9)\n//  - keepEscaped  - don't encode '%' in a correct escape sequence (default: true)\n//\nfunction encode(string, exclude, keepEscaped) {\n  var i, l, code, nextCode, cache,\n      result = '';\n\n  if (typeof exclude !== 'string') {\n    // encode(string, keepEscaped)\n    keepEscaped  = exclude;\n    exclude = encode.defaultChars;\n  }\n\n  if (typeof keepEscaped === 'undefined') {\n    keepEscaped = true;\n  }\n\n  cache = getEncodeCache(exclude);\n\n  for (i = 0, l = string.length; i < l; i++) {\n    code = string.charCodeAt(i);\n\n    if (keepEscaped && code === 0x25 /* % */ && i + 2 < l) {\n      if (/^[0-9a-f]{2}$/i.test(string.slice(i + 1, i + 3))) {\n        result += string.slice(i, i + 3);\n        i += 2;\n        continue;\n      }\n    }\n\n    if (code < 128) {\n      result += cache[code];\n      continue;\n    }\n\n    if (code >= 0xD800 && code <= 0xDFFF) {\n      if (code >= 0xD800 && code <= 0xDBFF && i + 1 < l) {\n        nextCode = string.charCodeAt(i + 1);\n        if (nextCode >= 0xDC00 && nextCode <= 0xDFFF) {\n          result += encodeURIComponent(string[i] + string[i + 1]);\n          i++;\n          continue;\n        }\n      }\n      result += '%EF%BF%BD';\n      continue;\n    }\n\n    result += encodeURIComponent(string[i]);\n  }\n\n  return result;\n}\n\nencode.defaultChars   = \";/?:@&=+$,-_.!~*'()#\";\nencode.componentChars = \"-_.!~*'()\";\n\n\nmodule.exports = encode;\n","\n'use strict';\n\n\n/* eslint-disable no-bitwise */\n\nvar decodeCache = {};\n\nfunction getDecodeCache(exclude) {\n  var i, ch, cache = decodeCache[exclude];\n  if (cache) { return cache; }\n\n  cache = decodeCache[exclude] = [];\n\n  for (i = 0; i < 128; i++) {\n    ch = String.fromCharCode(i);\n    cache.push(ch);\n  }\n\n  for (i = 0; i < exclude.length; i++) {\n    ch = exclude.charCodeAt(i);\n    cache[ch] = '%' + ('0' + ch.toString(16).toUpperCase()).slice(-2);\n  }\n\n  return cache;\n}\n\n\n// Decode percent-encoded string.\n//\nfunction decode(string, exclude) {\n  var cache;\n\n  if (typeof exclude !== 'string') {\n    exclude = decode.defaultChars;\n  }\n\n  cache = getDecodeCache(exclude);\n\n  return string.replace(/(%[a-f0-9]{2})+/gi, function(seq) {\n    var i, l, b1, b2, b3, b4, chr,\n        result = '';\n\n    for (i = 0, l = seq.length; i < l; i += 3) {\n      b1 = parseInt(seq.slice(i + 1, i + 3), 16);\n\n      if (b1 < 0x80) {\n        result += cache[b1];\n        continue;\n      }\n\n      if ((b1 & 0xE0) === 0xC0 && (i + 3 < l)) {\n        // 110xxxxx 10xxxxxx\n        b2 = parseInt(seq.slice(i + 4, i + 6), 16);\n\n        if ((b2 & 0xC0) === 0x80) {\n          chr = ((b1 << 6) & 0x7C0) | (b2 & 0x3F);\n\n          if (chr < 0x80) {\n            result += '\\ufffd\\ufffd';\n          } else {\n            result += String.fromCharCode(chr);\n          }\n\n          i += 3;\n          continue;\n        }\n      }\n\n      if ((b1 & 0xF0) === 0xE0 && (i + 6 < l)) {\n        // 1110xxxx 10xxxxxx 10xxxxxx\n        b2 = parseInt(seq.slice(i + 4, i + 6), 16);\n        b3 = parseInt(seq.slice(i + 7, i + 9), 16);\n\n        if ((b2 & 0xC0) === 0x80 && (b3 & 0xC0) === 0x80) {\n          chr = ((b1 << 12) & 0xF000) | ((b2 << 6) & 0xFC0) | (b3 & 0x3F);\n\n          if (chr < 0x800 || (chr >= 0xD800 && chr <= 0xDFFF)) {\n            result += '\\ufffd\\ufffd\\ufffd';\n          } else {\n            result += String.fromCharCode(chr);\n          }\n\n          i += 6;\n          continue;\n        }\n      }\n\n      if ((b1 & 0xF8) === 0xF0 && (i + 9 < l)) {\n        // 111110xx 10xxxxxx 10xxxxxx 10xxxxxx\n        b2 = parseInt(seq.slice(i + 4, i + 6), 16);\n        b3 = parseInt(seq.slice(i + 7, i + 9), 16);\n        b4 = parseInt(seq.slice(i + 10, i + 12), 16);\n\n        if ((b2 & 0xC0) === 0x80 && (b3 & 0xC0) === 0x80 && (b4 & 0xC0) === 0x80) {\n          chr = ((b1 << 18) & 0x1C0000) | ((b2 << 12) & 0x3F000) | ((b3 << 6) & 0xFC0) | (b4 & 0x3F);\n\n          if (chr < 0x10000 || chr > 0x10FFFF) {\n            result += '\\ufffd\\ufffd\\ufffd\\ufffd';\n          } else {\n            chr -= 0x10000;\n            result += String.fromCharCode(0xD800 + (chr >> 10), 0xDC00 + (chr & 0x3FF));\n          }\n\n          i += 9;\n          continue;\n        }\n      }\n\n      result += '\\ufffd';\n    }\n\n    return result;\n  });\n}\n\n\ndecode.defaultChars   = ';/?:@&=+$,#';\ndecode.componentChars = '';\n\n\nmodule.exports = decode;\n","// @@search logic\nrequire('./_fix-re-wks')('search', 1, function (defined, SEARCH, $search) {\n  // 21.1.3.15 String.prototype.search(regexp)\n  return [function search(regexp) {\n    'use strict';\n    var O = defined(this);\n    var fn = regexp == undefined ? undefined : regexp[SEARCH];\n    return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));\n  }, $search];\n});\n","\n'use strict';\n\n\nmodule.exports = function format(url) {\n  var result = '';\n\n  result += url.protocol || '';\n  result += url.slashes ? '//' : '';\n  result += url.auth ? url.auth + '@' : '';\n\n  if (url.hostname && url.hostname.indexOf(':') !== -1) {\n    // ipv6 address\n    result += '[' + url.hostname + ']';\n  } else {\n    result += url.hostname || '';\n  }\n\n  result += url.port ? ':' + url.port : '';\n  result += url.pathname || '';\n  result += url.search || '';\n  result += url.hash || '';\n\n  return result;\n};\n","// @@match logic\nrequire('./_fix-re-wks')('match', 1, function (defined, MATCH, $match) {\n  // 21.1.3.11 String.prototype.match(regexp)\n  return [function match(regexp) {\n    'use strict';\n    var O = defined(this);\n    var fn = regexp == undefined ? undefined : regexp[MATCH];\n    return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n  }, $match];\n});\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n//\n// Changes from joyent/node:\n//\n// 1. No leading slash in paths,\n//    e.g. in `url.parse('http://foo?bar')` pathname is ``, not `/`\n//\n// 2. Backslashes are not replaced with slashes,\n//    so `http:\\\\example.org\\` is treated like a relative path\n//\n// 3. Trailing colon is treated like a part of the path,\n//    i.e. in `http://example.org:foo` pathname is `:foo`\n//\n// 4. Nothing is URL-encoded in the resulting object,\n//    (in joyent/node some chars in auth and paths are encoded)\n//\n// 5. `url.parse()` does not have `parseQueryString` argument\n//\n// 6. Removed extraneous result properties: `host`, `path`, `query`, etc.,\n//    which can be constructed using other parts of the url.\n//\n\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.pathname = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = [ '<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t' ],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = [ '{', '}', '|', '\\\\', '^', '`' ].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = [ '\\'' ].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = [ '%', '/', '?', ';', '#' ].concat(autoEscape),\n    hostEndingChars = [ '/', '?', '#' ],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    /* eslint-disable no-script-url */\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    };\n    /* eslint-enable no-script-url */\n\nfunction urlParse(url, slashesDenoteHost) {\n  if (url && url instanceof Url) { return url; }\n\n  var u = new Url();\n  u.parse(url, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, slashesDenoteHost) {\n  var i, l, lowerProto, hec, slashes,\n      rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    lowerProto = proto.toLowerCase();\n    this.protocol = proto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (i = 0; i < hostEndingChars.length; i++) {\n      hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd)) {\n        hostEnd = hec;\n      }\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = auth;\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (i = 0; i < nonHostChars.length; i++) {\n      hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd)) {\n        hostEnd = hec;\n      }\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1) {\n      hostEnd = rest.length;\n    }\n\n    if (rest[hostEnd - 1] === ':') { hostEnd--; }\n    var host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost(host);\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) { continue; }\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    }\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n    }\n  }\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    rest = rest.slice(0, qm);\n  }\n  if (rest) { this.pathname = rest; }\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '';\n  }\n\n  return this;\n};\n\nUrl.prototype.parseHost = function(host) {\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) { this.hostname = host; }\n};\n\nmodule.exports = urlParse;\n","'use strict';\n\n\nmodule.exports.encode = require('./encode');\nmodule.exports.decode = require('./decode');\nmodule.exports.format = require('./format');\nmodule.exports.parse  = require('./parse');\n","module.exports=/[\\0-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/","module.exports=/[\\0-\\x1F\\x7F-\\x9F]/","module.exports=/[\\xAD\\u0600-\\u0605\\u061C\\u06DD\\u070F\\u08E2\\u180E\\u200B-\\u200F\\u202A-\\u202E\\u2060-\\u2064\\u2066-\\u206F\\uFEFF\\uFFF9-\\uFFFB]|\\uD804\\uDCBD|\\uD82F[\\uDCA0-\\uDCA3]|\\uD834[\\uDD73-\\uDD7A]|\\uDB40[\\uDC01\\uDC20-\\uDC7F]/","module.exports=/[ \\xA0\\u1680\\u2000-\\u200A\\u202F\\u205F\\u3000]/","'use strict';\n\nexports.Any = require('./properties/Any/regex');\nexports.Cc  = require('./categories/Cc/regex');\nexports.Cf  = require('./categories/Cf/regex');\nexports.P   = require('./categories/P/regex');\nexports.Z   = require('./categories/Z/regex');\n","// Utilities\n//\n'use strict';\n\n\nfunction _class(obj) { return Object.prototype.toString.call(obj); }\n\nfunction isString(obj) { return _class(obj) === '[object String]'; }\n\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction has(object, key) {\n  return _hasOwnProperty.call(object, key);\n}\n\n// Merge objects\n//\nfunction assign(obj /*from1, from2, from3, ...*/) {\n  var sources = Array.prototype.slice.call(arguments, 1);\n\n  sources.forEach(function (source) {\n    if (!source) { return; }\n\n    if (typeof source !== 'object') {\n      throw new TypeError(source + 'must be object');\n    }\n\n    Object.keys(source).forEach(function (key) {\n      obj[key] = source[key];\n    });\n  });\n\n  return obj;\n}\n\n// Remove element from array and put another array at those position.\n// Useful for some operations with tokens\nfunction arrayReplaceAt(src, pos, newElements) {\n  return [].concat(src.slice(0, pos), newElements, src.slice(pos + 1));\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nfunction isValidEntityCode(c) {\n  /*eslint no-bitwise:0*/\n  // broken sequence\n  if (c >= 0xD800 && c <= 0xDFFF) { return false; }\n  // never used\n  if (c >= 0xFDD0 && c <= 0xFDEF) { return false; }\n  if ((c & 0xFFFF) === 0xFFFF || (c & 0xFFFF) === 0xFFFE) { return false; }\n  // control codes\n  if (c >= 0x00 && c <= 0x08) { return false; }\n  if (c === 0x0B) { return false; }\n  if (c >= 0x0E && c <= 0x1F) { return false; }\n  if (c >= 0x7F && c <= 0x9F) { return false; }\n  // out of range\n  if (c > 0x10FFFF) { return false; }\n  return true;\n}\n\nfunction fromCodePoint(c) {\n  /*eslint no-bitwise:0*/\n  if (c > 0xffff) {\n    c -= 0x10000;\n    var surrogate1 = 0xd800 + (c >> 10),\n        surrogate2 = 0xdc00 + (c & 0x3ff);\n\n    return String.fromCharCode(surrogate1, surrogate2);\n  }\n  return String.fromCharCode(c);\n}\n\n\nvar UNESCAPE_MD_RE  = /\\\\([!\"#$%&'()*+,\\-.\\/:;<=>?@[\\\\\\]^_`{|}~])/g;\nvar ENTITY_RE       = /&([a-z#][a-z0-9]{1,31});/gi;\nvar UNESCAPE_ALL_RE = new RegExp(UNESCAPE_MD_RE.source + '|' + ENTITY_RE.source, 'gi');\n\nvar DIGITAL_ENTITY_TEST_RE = /^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i;\n\nvar entities = require('./entities');\n\nfunction replaceEntityPattern(match, name) {\n  var code = 0;\n\n  if (has(entities, name)) {\n    return entities[name];\n  }\n\n  if (name.charCodeAt(0) === 0x23/* # */ && DIGITAL_ENTITY_TEST_RE.test(name)) {\n    code = name[1].toLowerCase() === 'x' ?\n      parseInt(name.slice(2), 16)\n    :\n      parseInt(name.slice(1), 10);\n    if (isValidEntityCode(code)) {\n      return fromCodePoint(code);\n    }\n  }\n\n  return match;\n}\n\n/*function replaceEntities(str) {\n  if (str.indexOf('&') < 0) { return str; }\n\n  return str.replace(ENTITY_RE, replaceEntityPattern);\n}*/\n\nfunction unescapeMd(str) {\n  if (str.indexOf('\\\\') < 0) { return str; }\n  return str.replace(UNESCAPE_MD_RE, '$1');\n}\n\nfunction unescapeAll(str) {\n  if (str.indexOf('\\\\') < 0 && str.indexOf('&') < 0) { return str; }\n\n  return str.replace(UNESCAPE_ALL_RE, function (match, escaped, entity) {\n    if (escaped) { return escaped; }\n    return replaceEntityPattern(match, entity);\n  });\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar HTML_ESCAPE_TEST_RE = /[&<>\"]/;\nvar HTML_ESCAPE_REPLACE_RE = /[&<>\"]/g;\nvar HTML_REPLACEMENTS = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;'\n};\n\nfunction replaceUnsafeChar(ch) {\n  return HTML_REPLACEMENTS[ch];\n}\n\nfunction escapeHtml(str) {\n  if (HTML_ESCAPE_TEST_RE.test(str)) {\n    return str.replace(HTML_ESCAPE_REPLACE_RE, replaceUnsafeChar);\n  }\n  return str;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar REGEXP_ESCAPE_RE = /[.?*+^$[\\]\\\\(){}|-]/g;\n\nfunction escapeRE(str) {\n  return str.replace(REGEXP_ESCAPE_RE, '\\\\$&');\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nfunction isSpace(code) {\n  switch (code) {\n    case 0x09:\n    case 0x20:\n      return true;\n  }\n  return false;\n}\n\n// Zs (unicode class) || [\\t\\f\\v\\r\\n]\nfunction isWhiteSpace(code) {\n  if (code >= 0x2000 && code <= 0x200A) { return true; }\n  switch (code) {\n    case 0x09: // \\t\n    case 0x0A: // \\n\n    case 0x0B: // \\v\n    case 0x0C: // \\f\n    case 0x0D: // \\r\n    case 0x20:\n    case 0xA0:\n    case 0x1680:\n    case 0x202F:\n    case 0x205F:\n    case 0x3000:\n      return true;\n  }\n  return false;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\n/*eslint-disable max-len*/\nvar UNICODE_PUNCT_RE = require('uc.micro/categories/P/regex');\n\n// Currently without astral characters support.\nfunction isPunctChar(ch) {\n  return UNICODE_PUNCT_RE.test(ch);\n}\n\n\n// Markdown ASCII punctuation characters.\n//\n// !, \", #, $, %, &, ', (, ), *, +, ,, -, ., /, :, ;, <, =, >, ?, @, [, \\, ], ^, _, `, {, |, }, or ~\n// http://spec.commonmark.org/0.15/#ascii-punctuation-character\n//\n// Don't confuse with unicode punctuation !!! It lacks some chars in ascii range.\n//\nfunction isMdAsciiPunct(ch) {\n  switch (ch) {\n    case 0x21/* ! */:\n    case 0x22/* \" */:\n    case 0x23/* # */:\n    case 0x24/* $ */:\n    case 0x25/* % */:\n    case 0x26/* & */:\n    case 0x27/* ' */:\n    case 0x28/* ( */:\n    case 0x29/* ) */:\n    case 0x2A/* * */:\n    case 0x2B/* + */:\n    case 0x2C/* , */:\n    case 0x2D/* - */:\n    case 0x2E/* . */:\n    case 0x2F/* / */:\n    case 0x3A/* : */:\n    case 0x3B/* ; */:\n    case 0x3C/* < */:\n    case 0x3D/* = */:\n    case 0x3E/* > */:\n    case 0x3F/* ? */:\n    case 0x40/* @ */:\n    case 0x5B/* [ */:\n    case 0x5C/* \\ */:\n    case 0x5D/* ] */:\n    case 0x5E/* ^ */:\n    case 0x5F/* _ */:\n    case 0x60/* ` */:\n    case 0x7B/* { */:\n    case 0x7C/* | */:\n    case 0x7D/* } */:\n    case 0x7E/* ~ */:\n      return true;\n    default:\n      return false;\n  }\n}\n\n// Hepler to unify [reference labels].\n//\nfunction normalizeReference(str) {\n  // use .toUpperCase() instead of .toLowerCase()\n  // here to avoid a conflict with Object.prototype\n  // members (most notably, `__proto__`)\n  return str.trim().replace(/\\s+/g, ' ').toUpperCase();\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\n// Re-export libraries commonly used in both markdown-it and its plugins,\n// so plugins won't have to depend on them explicitly, which reduces their\n// bundled size (e.g. a browser build).\n//\nexports.lib                 = {};\nexports.lib.mdurl           = require('mdurl');\nexports.lib.ucmicro         = require('uc.micro');\n\nexports.assign              = assign;\nexports.isString            = isString;\nexports.has                 = has;\nexports.unescapeMd          = unescapeMd;\nexports.unescapeAll         = unescapeAll;\nexports.isValidEntityCode   = isValidEntityCode;\nexports.fromCodePoint       = fromCodePoint;\n// exports.replaceEntities     = replaceEntities;\nexports.escapeHtml          = escapeHtml;\nexports.arrayReplaceAt      = arrayReplaceAt;\nexports.isSpace             = isSpace;\nexports.isWhiteSpace        = isWhiteSpace;\nexports.isMdAsciiPunct      = isMdAsciiPunct;\nexports.isPunctChar         = isPunctChar;\nexports.escapeRE            = escapeRE;\nexports.normalizeReference  = normalizeReference;\n","// Parse link label\n//\n// this function assumes that first character (\"[\") already matches;\n// returns the end of the label\n//\n'use strict';\n\nmodule.exports = function parseLinkLabel(state, start, disableNested) {\n  var level, found, marker, prevPos,\n      labelEnd = -1,\n      max = state.posMax,\n      oldPos = state.pos;\n\n  state.pos = start + 1;\n  level = 1;\n\n  while (state.pos < max) {\n    marker = state.src.charCodeAt(state.pos);\n    if (marker === 0x5D /* ] */) {\n      level--;\n      if (level === 0) {\n        found = true;\n        break;\n      }\n    }\n\n    prevPos = state.pos;\n    state.md.inline.skipToken(state);\n    if (marker === 0x5B /* [ */) {\n      if (prevPos === state.pos - 1) {\n        // increase level if we find text `[`, which is not a part of any token\n        level++;\n      } else if (disableNested) {\n        state.pos = oldPos;\n        return -1;\n      }\n    }\n  }\n\n  if (found) {\n    labelEnd = state.pos;\n  }\n\n  // restore old state\n  state.pos = oldPos;\n\n  return labelEnd;\n};\n","// Parse link destination\n//\n'use strict';\n\n\nvar isSpace     = require('../common/utils').isSpace;\nvar unescapeAll = require('../common/utils').unescapeAll;\n\n\nmodule.exports = function parseLinkDestination(str, pos, max) {\n  var code, level,\n      lines = 0,\n      start = pos,\n      result = {\n        ok: false,\n        pos: 0,\n        lines: 0,\n        str: ''\n      };\n\n  if (str.charCodeAt(pos) === 0x3C /* < */) {\n    pos++;\n    while (pos < max) {\n      code = str.charCodeAt(pos);\n      if (code === 0x0A /* \\n */ || isSpace(code)) { return result; }\n      if (code === 0x3E /* > */) {\n        result.pos = pos + 1;\n        result.str = unescapeAll(str.slice(start + 1, pos));\n        result.ok = true;\n        return result;\n      }\n      if (code === 0x5C /* \\ */ && pos + 1 < max) {\n        pos += 2;\n        continue;\n      }\n\n      pos++;\n    }\n\n    // no closing '>'\n    return result;\n  }\n\n  // this should be ... } else { ... branch\n\n  level = 0;\n  while (pos < max) {\n    code = str.charCodeAt(pos);\n\n    if (code === 0x20) { break; }\n\n    // ascii control characters\n    if (code < 0x20 || code === 0x7F) { break; }\n\n    if (code === 0x5C /* \\ */ && pos + 1 < max) {\n      pos += 2;\n      continue;\n    }\n\n    if (code === 0x28 /* ( */) {\n      level++;\n    }\n\n    if (code === 0x29 /* ) */) {\n      if (level === 0) { break; }\n      level--;\n    }\n\n    pos++;\n  }\n\n  if (start === pos) { return result; }\n  if (level !== 0) { return result; }\n\n  result.str = unescapeAll(str.slice(start, pos));\n  result.lines = lines;\n  result.pos = pos;\n  result.ok = true;\n  return result;\n};\n","// Parse link title\n//\n'use strict';\n\n\nvar unescapeAll = require('../common/utils').unescapeAll;\n\n\nmodule.exports = function parseLinkTitle(str, pos, max) {\n  var code,\n      marker,\n      lines = 0,\n      start = pos,\n      result = {\n        ok: false,\n        pos: 0,\n        lines: 0,\n        str: ''\n      };\n\n  if (pos >= max) { return result; }\n\n  marker = str.charCodeAt(pos);\n\n  if (marker !== 0x22 /* \" */ && marker !== 0x27 /* ' */ && marker !== 0x28 /* ( */) { return result; }\n\n  pos++;\n\n  // if opening marker is \"(\", switch it to closing marker \")\"\n  if (marker === 0x28) { marker = 0x29; }\n\n  while (pos < max) {\n    code = str.charCodeAt(pos);\n    if (code === marker) {\n      result.pos = pos + 1;\n      result.lines = lines;\n      result.str = unescapeAll(str.slice(start + 1, pos));\n      result.ok = true;\n      return result;\n    } else if (code === 0x0A) {\n      lines++;\n    } else if (code === 0x5C /* \\ */ && pos + 1 < max) {\n      pos++;\n      if (str.charCodeAt(pos) === 0x0A) {\n        lines++;\n      }\n    }\n\n    pos++;\n  }\n\n  return result;\n};\n","// Just a shortcut for bulk export\n'use strict';\n\n\nexports.parseLinkLabel       = require('./parse_link_label');\nexports.parseLinkDestination = require('./parse_link_destination');\nexports.parseLinkTitle       = require('./parse_link_title');\n","/**\n * class Renderer\n *\n * Generates HTML from parsed token stream. Each instance has independent\n * copy of rules. Those can be rewritten with ease. Also, you can add new\n * rules if you create plugin and adds new token types.\n **/\n'use strict';\n\n\nvar assign          = require('./common/utils').assign;\nvar unescapeAll     = require('./common/utils').unescapeAll;\nvar escapeHtml      = require('./common/utils').escapeHtml;\n\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar default_rules = {};\n\n\ndefault_rules.code_inline = function (tokens, idx, options, env, slf) {\n  var token = tokens[idx];\n\n  return  '<code' + slf.renderAttrs(token) + '>' +\n          escapeHtml(tokens[idx].content) +\n          '</code>';\n};\n\n\ndefault_rules.code_block = function (tokens, idx, options, env, slf) {\n  var token = tokens[idx];\n\n  return  '<pre' + slf.renderAttrs(token) + '><code>' +\n          escapeHtml(tokens[idx].content) +\n          '</code></pre>\\n';\n};\n\n\ndefault_rules.fence = function (tokens, idx, options, env, slf) {\n  var token = tokens[idx],\n      info = token.info ? unescapeAll(token.info).trim() : '',\n      langName = '',\n      highlighted, i, tmpAttrs, tmpToken;\n\n  if (info) {\n    langName = info.split(/\\s+/g)[0];\n  }\n\n  if (options.highlight) {\n    highlighted = options.highlight(token.content, langName) || escapeHtml(token.content);\n  } else {\n    highlighted = escapeHtml(token.content);\n  }\n\n  if (highlighted.indexOf('<pre') === 0) {\n    return highlighted + '\\n';\n  }\n\n  // If language exists, inject class gently, without modifying original token.\n  // May be, one day we will add .clone() for token and simplify this part, but\n  // now we prefer to keep things local.\n  if (info) {\n    i        = token.attrIndex('class');\n    tmpAttrs = token.attrs ? token.attrs.slice() : [];\n\n    if (i < 0) {\n      tmpAttrs.push([ 'class', options.langPrefix + langName ]);\n    } else {\n      tmpAttrs[i][1] += ' ' + options.langPrefix + langName;\n    }\n\n    // Fake token just to render attributes\n    tmpToken = {\n      attrs: tmpAttrs\n    };\n\n    return  '<pre><code' + slf.renderAttrs(tmpToken) + '>'\n          + highlighted\n          + '</code></pre>\\n';\n  }\n\n\n  return  '<pre><code' + slf.renderAttrs(token) + '>'\n        + highlighted\n        + '</code></pre>\\n';\n};\n\n\ndefault_rules.image = function (tokens, idx, options, env, slf) {\n  var token = tokens[idx];\n\n  // \"alt\" attr MUST be set, even if empty. Because it's mandatory and\n  // should be placed on proper position for tests.\n  //\n  // Replace content with actual value\n\n  token.attrs[token.attrIndex('alt')][1] =\n    slf.renderInlineAsText(token.children, options, env);\n\n  return slf.renderToken(tokens, idx, options);\n};\n\n\ndefault_rules.hardbreak = function (tokens, idx, options /*, env */) {\n  return options.xhtmlOut ? '<br />\\n' : '<br>\\n';\n};\ndefault_rules.softbreak = function (tokens, idx, options /*, env */) {\n  return options.breaks ? (options.xhtmlOut ? '<br />\\n' : '<br>\\n') : '\\n';\n};\n\n\ndefault_rules.text = function (tokens, idx /*, options, env */) {\n  return escapeHtml(tokens[idx].content);\n};\n\n\ndefault_rules.html_block = function (tokens, idx /*, options, env */) {\n  return tokens[idx].content;\n};\ndefault_rules.html_inline = function (tokens, idx /*, options, env */) {\n  return tokens[idx].content;\n};\n\n\n/**\n * new Renderer()\n *\n * Creates new [[Renderer]] instance and fill [[Renderer#rules]] with defaults.\n **/\nfunction Renderer() {\n\n  /**\n   * Renderer#rules -> Object\n   *\n   * Contains render rules for tokens. Can be updated and extended.\n   *\n   * ##### Example\n   *\n   * ```javascript\n   * var md = require('markdown-it')();\n   *\n   * md.renderer.rules.strong_open  = function () { return '<b>'; };\n   * md.renderer.rules.strong_close = function () { return '</b>'; };\n   *\n   * var result = md.renderInline(...);\n   * ```\n   *\n   * Each rule is called as independent static function with fixed signature:\n   *\n   * ```javascript\n   * function my_token_render(tokens, idx, options, env, renderer) {\n   *   // ...\n   *   return renderedHTML;\n   * }\n   * ```\n   *\n   * See [source code](https://github.com/markdown-it/markdown-it/blob/master/lib/renderer.js)\n   * for more details and examples.\n   **/\n  this.rules = assign({}, default_rules);\n}\n\n\n/**\n * Renderer.renderAttrs(token) -> String\n *\n * Render token attributes to string.\n **/\nRenderer.prototype.renderAttrs = function renderAttrs(token) {\n  var i, l, result;\n\n  if (!token.attrs) { return ''; }\n\n  result = '';\n\n  for (i = 0, l = token.attrs.length; i < l; i++) {\n    result += ' ' + escapeHtml(token.attrs[i][0]) + '=\"' + escapeHtml(token.attrs[i][1]) + '\"';\n  }\n\n  return result;\n};\n\n\n/**\n * Renderer.renderToken(tokens, idx, options) -> String\n * - tokens (Array): list of tokens\n * - idx (Numbed): token index to render\n * - options (Object): params of parser instance\n *\n * Default token renderer. Can be overriden by custom function\n * in [[Renderer#rules]].\n **/\nRenderer.prototype.renderToken = function renderToken(tokens, idx, options) {\n  var nextToken,\n      result = '',\n      needLf = false,\n      token = tokens[idx];\n\n  // Tight list paragraphs\n  if (token.hidden) {\n    return '';\n  }\n\n  // Insert a newline between hidden paragraph and subsequent opening\n  // block-level tag.\n  //\n  // For example, here we should insert a newline before blockquote:\n  //  - a\n  //    >\n  //\n  if (token.block && token.nesting !== -1 && idx && tokens[idx - 1].hidden) {\n    result += '\\n';\n  }\n\n  // Add token name, e.g. `<img`\n  result += (token.nesting === -1 ? '</' : '<') + token.tag;\n\n  // Encode attributes, e.g. `<img src=\"foo\"`\n  result += this.renderAttrs(token);\n\n  // Add a slash for self-closing tags, e.g. `<img src=\"foo\" /`\n  if (token.nesting === 0 && options.xhtmlOut) {\n    result += ' /';\n  }\n\n  // Check if we need to add a newline after this tag\n  if (token.block) {\n    needLf = true;\n\n    if (token.nesting === 1) {\n      if (idx + 1 < tokens.length) {\n        nextToken = tokens[idx + 1];\n\n        if (nextToken.type === 'inline' || nextToken.hidden) {\n          // Block-level tag containing an inline tag.\n          //\n          needLf = false;\n\n        } else if (nextToken.nesting === -1 && nextToken.tag === token.tag) {\n          // Opening tag + closing tag of the same type. E.g. `<li></li>`.\n          //\n          needLf = false;\n        }\n      }\n    }\n  }\n\n  result += needLf ? '>\\n' : '>';\n\n  return result;\n};\n\n\n/**\n * Renderer.renderInline(tokens, options, env) -> String\n * - tokens (Array): list on block tokens to renter\n * - options (Object): params of parser instance\n * - env (Object): additional data from parsed input (references, for example)\n *\n * The same as [[Renderer.render]], but for single token of `inline` type.\n **/\nRenderer.prototype.renderInline = function (tokens, options, env) {\n  var type,\n      result = '',\n      rules = this.rules;\n\n  for (var i = 0, len = tokens.length; i < len; i++) {\n    type = tokens[i].type;\n\n    if (typeof rules[type] !== 'undefined') {\n      result += rules[type](tokens, i, options, env, this);\n    } else {\n      result += this.renderToken(tokens, i, options);\n    }\n  }\n\n  return result;\n};\n\n\n/** internal\n * Renderer.renderInlineAsText(tokens, options, env) -> String\n * - tokens (Array): list on block tokens to renter\n * - options (Object): params of parser instance\n * - env (Object): additional data from parsed input (references, for example)\n *\n * Special kludge for image `alt` attributes to conform CommonMark spec.\n * Don't try to use it! Spec requires to show `alt` content with stripped markup,\n * instead of simple escaping.\n **/\nRenderer.prototype.renderInlineAsText = function (tokens, options, env) {\n  var result = '';\n\n  for (var i = 0, len = tokens.length; i < len; i++) {\n    if (tokens[i].type === 'text') {\n      result += tokens[i].content;\n    } else if (tokens[i].type === 'image') {\n      result += this.renderInlineAsText(tokens[i].children, options, env);\n    }\n  }\n\n  return result;\n};\n\n\n/**\n * Renderer.render(tokens, options, env) -> String\n * - tokens (Array): list on block tokens to renter\n * - options (Object): params of parser instance\n * - env (Object): additional data from parsed input (references, for example)\n *\n * Takes token stream and generates HTML. Probably, you will never need to call\n * this method directly.\n **/\nRenderer.prototype.render = function (tokens, options, env) {\n  var i, len, type,\n      result = '',\n      rules = this.rules;\n\n  for (i = 0, len = tokens.length; i < len; i++) {\n    type = tokens[i].type;\n\n    if (type === 'inline') {\n      result += this.renderInline(tokens[i].children, options, env);\n    } else if (typeof rules[type] !== 'undefined') {\n      result += rules[tokens[i].type](tokens, i, options, env, this);\n    } else {\n      result += this.renderToken(tokens, i, options, env);\n    }\n  }\n\n  return result;\n};\n\nmodule.exports = Renderer;\n","/**\n * class Ruler\n *\n * Helper class, used by [[MarkdownIt#core]], [[MarkdownIt#block]] and\n * [[MarkdownIt#inline]] to manage sequences of functions (rules):\n *\n * - keep rules in defined order\n * - assign the name to each rule\n * - enable/disable rules\n * - add/replace rules\n * - allow assign rules to additional named chains (in the same)\n * - cacheing lists of active rules\n *\n * You will not need use this class directly until write plugins. For simple\n * rules control use [[MarkdownIt.disable]], [[MarkdownIt.enable]] and\n * [[MarkdownIt.use]].\n **/\n'use strict';\n\n\n/**\n * new Ruler()\n **/\nfunction Ruler() {\n  // List of added rules. Each element is:\n  //\n  // {\n  //   name: XXX,\n  //   enabled: Boolean,\n  //   fn: Function(),\n  //   alt: [ name2, name3 ]\n  // }\n  //\n  this.__rules__ = [];\n\n  // Cached rule chains.\n  //\n  // First level - chain name, '' for default.\n  // Second level - diginal anchor for fast filtering by charcodes.\n  //\n  this.__cache__ = null;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Helper methods, should not be used directly\n\n\n// Find rule index by name\n//\nRuler.prototype.__find__ = function (name) {\n  for (var i = 0; i < this.__rules__.length; i++) {\n    if (this.__rules__[i].name === name) {\n      return i;\n    }\n  }\n  return -1;\n};\n\n\n// Build rules lookup cache\n//\nRuler.prototype.__compile__ = function () {\n  var self = this;\n  var chains = [ '' ];\n\n  // collect unique names\n  self.__rules__.forEach(function (rule) {\n    if (!rule.enabled) { return; }\n\n    rule.alt.forEach(function (altName) {\n      if (chains.indexOf(altName) < 0) {\n        chains.push(altName);\n      }\n    });\n  });\n\n  self.__cache__ = {};\n\n  chains.forEach(function (chain) {\n    self.__cache__[chain] = [];\n    self.__rules__.forEach(function (rule) {\n      if (!rule.enabled) { return; }\n\n      if (chain && rule.alt.indexOf(chain) < 0) { return; }\n\n      self.__cache__[chain].push(rule.fn);\n    });\n  });\n};\n\n\n/**\n * Ruler.at(name, fn [, options])\n * - name (String): rule name to replace.\n * - fn (Function): new rule function.\n * - options (Object): new rule options (not mandatory).\n *\n * Replace rule by name with new function & options. Throws error if name not\n * found.\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * Replace existing typorgapher replacement rule with new one:\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.core.ruler.at('replacements', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.at = function (name, fn, options) {\n  var index = this.__find__(name);\n  var opt = options || {};\n\n  if (index === -1) { throw new Error('Parser rule not found: ' + name); }\n\n  this.__rules__[index].fn = fn;\n  this.__rules__[index].alt = opt.alt || [];\n  this.__cache__ = null;\n};\n\n\n/**\n * Ruler.before(beforeName, ruleName, fn [, options])\n * - beforeName (String): new rule will be added before this one.\n * - ruleName (String): name of added rule.\n * - fn (Function): rule function.\n * - options (Object): rule options (not mandatory).\n *\n * Add new rule to chain before one with given name. See also\n * [[Ruler.after]], [[Ruler.push]].\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.block.ruler.before('paragraph', 'my_rule', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.before = function (beforeName, ruleName, fn, options) {\n  var index = this.__find__(beforeName);\n  var opt = options || {};\n\n  if (index === -1) { throw new Error('Parser rule not found: ' + beforeName); }\n\n  this.__rules__.splice(index, 0, {\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n\n/**\n * Ruler.after(afterName, ruleName, fn [, options])\n * - afterName (String): new rule will be added after this one.\n * - ruleName (String): name of added rule.\n * - fn (Function): rule function.\n * - options (Object): rule options (not mandatory).\n *\n * Add new rule to chain after one with given name. See also\n * [[Ruler.before]], [[Ruler.push]].\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.inline.ruler.after('text', 'my_rule', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.after = function (afterName, ruleName, fn, options) {\n  var index = this.__find__(afterName);\n  var opt = options || {};\n\n  if (index === -1) { throw new Error('Parser rule not found: ' + afterName); }\n\n  this.__rules__.splice(index + 1, 0, {\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n/**\n * Ruler.push(ruleName, fn [, options])\n * - ruleName (String): name of added rule.\n * - fn (Function): rule function.\n * - options (Object): rule options (not mandatory).\n *\n * Push new rule to the end of chain. See also\n * [[Ruler.before]], [[Ruler.after]].\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.core.ruler.push('my_rule', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.push = function (ruleName, fn, options) {\n  var opt = options || {};\n\n  this.__rules__.push({\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n\n/**\n * Ruler.enable(list [, ignoreInvalid]) -> Array\n * - list (String|Array): list of rule names to enable.\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Enable rules with given names. If any rule name not found - throw Error.\n * Errors can be disabled by second param.\n *\n * Returns list of found rule names (if no exception happened).\n *\n * See also [[Ruler.disable]], [[Ruler.enableOnly]].\n **/\nRuler.prototype.enable = function (list, ignoreInvalid) {\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  var result = [];\n\n  // Search by name and enable\n  list.forEach(function (name) {\n    var idx = this.__find__(name);\n\n    if (idx < 0) {\n      if (ignoreInvalid) { return; }\n      throw new Error('Rules manager: invalid rule name ' + name);\n    }\n    this.__rules__[idx].enabled = true;\n    result.push(name);\n  }, this);\n\n  this.__cache__ = null;\n  return result;\n};\n\n\n/**\n * Ruler.enableOnly(list [, ignoreInvalid])\n * - list (String|Array): list of rule names to enable (whitelist).\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Enable rules with given names, and disable everything else. If any rule name\n * not found - throw Error. Errors can be disabled by second param.\n *\n * See also [[Ruler.disable]], [[Ruler.enable]].\n **/\nRuler.prototype.enableOnly = function (list, ignoreInvalid) {\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  this.__rules__.forEach(function (rule) { rule.enabled = false; });\n\n  this.enable(list, ignoreInvalid);\n};\n\n\n/**\n * Ruler.disable(list [, ignoreInvalid]) -> Array\n * - list (String|Array): list of rule names to disable.\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Disable rules with given names. If any rule name not found - throw Error.\n * Errors can be disabled by second param.\n *\n * Returns list of found rule names (if no exception happened).\n *\n * See also [[Ruler.enable]], [[Ruler.enableOnly]].\n **/\nRuler.prototype.disable = function (list, ignoreInvalid) {\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  var result = [];\n\n  // Search by name and disable\n  list.forEach(function (name) {\n    var idx = this.__find__(name);\n\n    if (idx < 0) {\n      if (ignoreInvalid) { return; }\n      throw new Error('Rules manager: invalid rule name ' + name);\n    }\n    this.__rules__[idx].enabled = false;\n    result.push(name);\n  }, this);\n\n  this.__cache__ = null;\n  return result;\n};\n\n\n/**\n * Ruler.getRules(chainName) -> Array\n *\n * Return array of active functions (rules) for given chain name. It analyzes\n * rules configuration, compiles caches if not exists and returns result.\n *\n * Default chain name is `''` (empty string). It can't be skipped. That's\n * done intentionally, to keep signature monomorphic for high speed.\n **/\nRuler.prototype.getRules = function (chainName) {\n  if (this.__cache__ === null) {\n    this.__compile__();\n  }\n\n  // Chain can be empty, if rules disabled. But we still have to return Array.\n  return this.__cache__[chainName] || [];\n};\n\nmodule.exports = Ruler;\n","// Normalize input string\n\n'use strict';\n\n\nvar NEWLINES_RE  = /\\r[\\n\\u0085]?|[\\u2424\\u2028\\u0085]/g;\nvar NULL_RE      = /\\u0000/g;\n\n\nmodule.exports = function inline(state) {\n  var str;\n\n  // Normalize newlines\n  str = state.src.replace(NEWLINES_RE, '\\n');\n\n  // Replace NULL characters\n  str = str.replace(NULL_RE, '\\uFFFD');\n\n  state.src = str;\n};\n","'use strict';\n\n\nmodule.exports = function block(state) {\n  var token;\n\n  if (state.inlineMode) {\n    token          = new state.Token('inline', '', 0);\n    token.content  = state.src;\n    token.map      = [ 0, 1 ];\n    token.children = [];\n    state.tokens.push(token);\n  } else {\n    state.md.block.parse(state.src, state.md, state.env, state.tokens);\n  }\n};\n","'use strict';\n\nmodule.exports = function inline(state) {\n  var tokens = state.tokens, tok, i, l;\n\n  // Parse inlines\n  for (i = 0, l = tokens.length; i < l; i++) {\n    tok = tokens[i];\n    if (tok.type === 'inline') {\n      state.md.inline.parse(tok.content, state.md, state.env, tok.children);\n    }\n  }\n};\n","// Replace link-like texts with link nodes.\n//\n// Currently restricted by `md.validateLink()` to http/https/ftp\n//\n'use strict';\n\n\nvar arrayReplaceAt = require('../common/utils').arrayReplaceAt;\n\n\nfunction isLinkOpen(str) {\n  return /^<a[>\\s]/i.test(str);\n}\nfunction isLinkClose(str) {\n  return /^<\\/a\\s*>/i.test(str);\n}\n\n\nmodule.exports = function linkify(state) {\n  var i, j, l, tokens, token, currentToken, nodes, ln, text, pos, lastPos,\n      level, htmlLinkLevel, url, fullUrl, urlText,\n      blockTokens = state.tokens,\n      links;\n\n  if (!state.md.options.linkify) { return; }\n\n  for (j = 0, l = blockTokens.length; j < l; j++) {\n    if (blockTokens[j].type !== 'inline' ||\n        !state.md.linkify.pretest(blockTokens[j].content)) {\n      continue;\n    }\n\n    tokens = blockTokens[j].children;\n\n    htmlLinkLevel = 0;\n\n    // We scan from the end, to keep position when new tags added.\n    // Use reversed logic in links start/end match\n    for (i = tokens.length - 1; i >= 0; i--) {\n      currentToken = tokens[i];\n\n      // Skip content of markdown links\n      if (currentToken.type === 'link_close') {\n        i--;\n        while (tokens[i].level !== currentToken.level && tokens[i].type !== 'link_open') {\n          i--;\n        }\n        continue;\n      }\n\n      // Skip content of html tag links\n      if (currentToken.type === 'html_inline') {\n        if (isLinkOpen(currentToken.content) && htmlLinkLevel > 0) {\n          htmlLinkLevel--;\n        }\n        if (isLinkClose(currentToken.content)) {\n          htmlLinkLevel++;\n        }\n      }\n      if (htmlLinkLevel > 0) { continue; }\n\n      if (currentToken.type === 'text' && state.md.linkify.test(currentToken.content)) {\n\n        text = currentToken.content;\n        links = state.md.linkify.match(text);\n\n        // Now split string to nodes\n        nodes = [];\n        level = currentToken.level;\n        lastPos = 0;\n\n        for (ln = 0; ln < links.length; ln++) {\n\n          url = links[ln].url;\n          fullUrl = state.md.normalizeLink(url);\n          if (!state.md.validateLink(fullUrl)) { continue; }\n\n          urlText = links[ln].text;\n\n          // Linkifier might send raw hostnames like \"example.com\", where url\n          // starts with domain name. So we prepend http:// in those cases,\n          // and remove it afterwards.\n          //\n          if (!links[ln].schema) {\n            urlText = state.md.normalizeLinkText('http://' + urlText).replace(/^http:\\/\\//, '');\n          } else if (links[ln].schema === 'mailto:' && !/^mailto:/i.test(urlText)) {\n            urlText = state.md.normalizeLinkText('mailto:' + urlText).replace(/^mailto:/, '');\n          } else {\n            urlText = state.md.normalizeLinkText(urlText);\n          }\n\n          pos = links[ln].index;\n\n          if (pos > lastPos) {\n            token         = new state.Token('text', '', 0);\n            token.content = text.slice(lastPos, pos);\n            token.level   = level;\n            nodes.push(token);\n          }\n\n          token         = new state.Token('link_open', 'a', 1);\n          token.attrs   = [ [ 'href', fullUrl ] ];\n          token.level   = level++;\n          token.markup  = 'linkify';\n          token.info    = 'auto';\n          nodes.push(token);\n\n          token         = new state.Token('text', '', 0);\n          token.content = urlText;\n          token.level   = level;\n          nodes.push(token);\n\n          token         = new state.Token('link_close', 'a', -1);\n          token.level   = --level;\n          token.markup  = 'linkify';\n          token.info    = 'auto';\n          nodes.push(token);\n\n          lastPos = links[ln].lastIndex;\n        }\n        if (lastPos < text.length) {\n          token         = new state.Token('text', '', 0);\n          token.content = text.slice(lastPos);\n          token.level   = level;\n          nodes.push(token);\n        }\n\n        // replace current node\n        blockTokens[j].children = tokens = arrayReplaceAt(tokens, i, nodes);\n      }\n    }\n  }\n};\n","// Simple typographyc replacements\n//\n// (c) (C)  \n// (tm) (TM)  \n// (r) (R)  \n// +-  \n// (p) (P) -> \n// ...   (also ?....  ?.., !....  !..)\n// ????????  ???, !!!!!  !!!, `,,`  `,`\n// --  &ndash;, ---  &mdash;\n//\n'use strict';\n\n// TODO:\n// - fractionals 1/2, 1/4, 3/4 -> , , \n// - miltiplication 2 x 4 -> 2  4\n\nvar RARE_RE = /\\+-|\\.\\.|\\?\\?\\?\\?|!!!!|,,|--/;\n\n// Workaround for phantomjs - need regex without /g flag,\n// or root check will fail every second time\nvar SCOPED_ABBR_TEST_RE = /\\((c|tm|r|p)\\)/i;\n\nvar SCOPED_ABBR_RE = /\\((c|tm|r|p)\\)/ig;\nvar SCOPED_ABBR = {\n  c: '',\n  r: '',\n  p: '',\n  tm: ''\n};\n\nfunction replaceFn(match, name) {\n  return SCOPED_ABBR[name.toLowerCase()];\n}\n\nfunction replace_scoped(inlineTokens) {\n  var i, token, inside_autolink = 0;\n\n  for (i = inlineTokens.length - 1; i >= 0; i--) {\n    token = inlineTokens[i];\n\n    if (token.type === 'text' && !inside_autolink) {\n      token.content = token.content.replace(SCOPED_ABBR_RE, replaceFn);\n    }\n\n    if (token.type === 'link_open' && token.info === 'auto') {\n      inside_autolink--;\n    }\n\n    if (token.type === 'link_close' && token.info === 'auto') {\n      inside_autolink++;\n    }\n  }\n}\n\nfunction replace_rare(inlineTokens) {\n  var i, token, inside_autolink = 0;\n\n  for (i = inlineTokens.length - 1; i >= 0; i--) {\n    token = inlineTokens[i];\n\n    if (token.type === 'text' && !inside_autolink) {\n      if (RARE_RE.test(token.content)) {\n        token.content = token.content\n                    .replace(/\\+-/g, '')\n                    // .., ..., ....... -> \n                    // but ?..... & !..... -> ?.. & !..\n                    .replace(/\\.{2,}/g, '').replace(/([?!])/g, '$1..')\n                    .replace(/([?!]){4,}/g, '$1$1$1').replace(/,{2,}/g, ',')\n                    // em-dash\n                    .replace(/(^|[^-])---([^-]|$)/mg, '$1\\u2014$2')\n                    // en-dash\n                    .replace(/(^|\\s)--(\\s|$)/mg, '$1\\u2013$2')\n                    .replace(/(^|[^-\\s])--([^-\\s]|$)/mg, '$1\\u2013$2');\n      }\n    }\n\n    if (token.type === 'link_open' && token.info === 'auto') {\n      inside_autolink--;\n    }\n\n    if (token.type === 'link_close' && token.info === 'auto') {\n      inside_autolink++;\n    }\n  }\n}\n\n\nmodule.exports = function replace(state) {\n  var blkIdx;\n\n  if (!state.md.options.typographer) { return; }\n\n  for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n\n    if (state.tokens[blkIdx].type !== 'inline') { continue; }\n\n    if (SCOPED_ABBR_TEST_RE.test(state.tokens[blkIdx].content)) {\n      replace_scoped(state.tokens[blkIdx].children);\n    }\n\n    if (RARE_RE.test(state.tokens[blkIdx].content)) {\n      replace_rare(state.tokens[blkIdx].children);\n    }\n\n  }\n};\n","// Convert straight quotation marks to typographic ones\n//\n'use strict';\n\n\nvar isWhiteSpace   = require('../common/utils').isWhiteSpace;\nvar isPunctChar    = require('../common/utils').isPunctChar;\nvar isMdAsciiPunct = require('../common/utils').isMdAsciiPunct;\n\nvar QUOTE_TEST_RE = /['\"]/;\nvar QUOTE_RE = /['\"]/g;\nvar APOSTROPHE = '\\u2019'; /*  */\n\n\nfunction replaceAt(str, index, ch) {\n  return str.substr(0, index) + ch + str.substr(index + 1);\n}\n\nfunction process_inlines(tokens, state) {\n  var i, token, text, t, pos, max, thisLevel, item, lastChar, nextChar,\n      isLastPunctChar, isNextPunctChar, isLastWhiteSpace, isNextWhiteSpace,\n      canOpen, canClose, j, isSingle, stack, openQuote, closeQuote;\n\n  stack = [];\n\n  for (i = 0; i < tokens.length; i++) {\n    token = tokens[i];\n\n    thisLevel = tokens[i].level;\n\n    for (j = stack.length - 1; j >= 0; j--) {\n      if (stack[j].level <= thisLevel) { break; }\n    }\n    stack.length = j + 1;\n\n    if (token.type !== 'text') { continue; }\n\n    text = token.content;\n    pos = 0;\n    max = text.length;\n\n    /*eslint no-labels:0,block-scoped-var:0*/\n    OUTER:\n    while (pos < max) {\n      QUOTE_RE.lastIndex = pos;\n      t = QUOTE_RE.exec(text);\n      if (!t) { break; }\n\n      canOpen = canClose = true;\n      pos = t.index + 1;\n      isSingle = (t[0] === \"'\");\n\n      // Find previous character,\n      // default to space if it's the beginning of the line\n      //\n      lastChar = 0x20;\n\n      if (t.index - 1 >= 0) {\n        lastChar = text.charCodeAt(t.index - 1);\n      } else {\n        for (j = i - 1; j >= 0; j--) {\n          if (tokens[j].type === 'softbreak' || tokens[j].type === 'hardbreak') break; // lastChar defaults to 0x20\n          if (tokens[j].type !== 'text') continue;\n\n          lastChar = tokens[j].content.charCodeAt(tokens[j].content.length - 1);\n          break;\n        }\n      }\n\n      // Find next character,\n      // default to space if it's the end of the line\n      //\n      nextChar = 0x20;\n\n      if (pos < max) {\n        nextChar = text.charCodeAt(pos);\n      } else {\n        for (j = i + 1; j < tokens.length; j++) {\n          if (tokens[j].type === 'softbreak' || tokens[j].type === 'hardbreak') break; // nextChar defaults to 0x20\n          if (tokens[j].type !== 'text') continue;\n\n          nextChar = tokens[j].content.charCodeAt(0);\n          break;\n        }\n      }\n\n      isLastPunctChar = isMdAsciiPunct(lastChar) || isPunctChar(String.fromCharCode(lastChar));\n      isNextPunctChar = isMdAsciiPunct(nextChar) || isPunctChar(String.fromCharCode(nextChar));\n\n      isLastWhiteSpace = isWhiteSpace(lastChar);\n      isNextWhiteSpace = isWhiteSpace(nextChar);\n\n      if (isNextWhiteSpace) {\n        canOpen = false;\n      } else if (isNextPunctChar) {\n        if (!(isLastWhiteSpace || isLastPunctChar)) {\n          canOpen = false;\n        }\n      }\n\n      if (isLastWhiteSpace) {\n        canClose = false;\n      } else if (isLastPunctChar) {\n        if (!(isNextWhiteSpace || isNextPunctChar)) {\n          canClose = false;\n        }\n      }\n\n      if (nextChar === 0x22 /* \" */ && t[0] === '\"') {\n        if (lastChar >= 0x30 /* 0 */ && lastChar <= 0x39 /* 9 */) {\n          // special case: 1\"\" - count first quote as an inch\n          canClose = canOpen = false;\n        }\n      }\n\n      if (canOpen && canClose) {\n        // treat this as the middle of the word\n        canOpen = false;\n        canClose = isNextPunctChar;\n      }\n\n      if (!canOpen && !canClose) {\n        // middle of word\n        if (isSingle) {\n          token.content = replaceAt(token.content, t.index, APOSTROPHE);\n        }\n        continue;\n      }\n\n      if (canClose) {\n        // this could be a closing quote, rewind the stack to get a match\n        for (j = stack.length - 1; j >= 0; j--) {\n          item = stack[j];\n          if (stack[j].level < thisLevel) { break; }\n          if (item.single === isSingle && stack[j].level === thisLevel) {\n            item = stack[j];\n\n            if (isSingle) {\n              openQuote = state.md.options.quotes[2];\n              closeQuote = state.md.options.quotes[3];\n            } else {\n              openQuote = state.md.options.quotes[0];\n              closeQuote = state.md.options.quotes[1];\n            }\n\n            // replace token.content *before* tokens[item.token].content,\n            // because, if they are pointing at the same token, replaceAt\n            // could mess up indices when quote length != 1\n            token.content = replaceAt(token.content, t.index, closeQuote);\n            tokens[item.token].content = replaceAt(\n              tokens[item.token].content, item.pos, openQuote);\n\n            pos += closeQuote.length - 1;\n            if (item.token === i) { pos += openQuote.length - 1; }\n\n            text = token.content;\n            max = text.length;\n\n            stack.length = j;\n            continue OUTER;\n          }\n        }\n      }\n\n      if (canOpen) {\n        stack.push({\n          token: i,\n          pos: t.index,\n          single: isSingle,\n          level: thisLevel\n        });\n      } else if (canClose && isSingle) {\n        token.content = replaceAt(token.content, t.index, APOSTROPHE);\n      }\n    }\n  }\n}\n\n\nmodule.exports = function smartquotes(state) {\n  /*eslint max-depth:0*/\n  var blkIdx;\n\n  if (!state.md.options.typographer) { return; }\n\n  for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n\n    if (state.tokens[blkIdx].type !== 'inline' ||\n        !QUOTE_TEST_RE.test(state.tokens[blkIdx].content)) {\n      continue;\n    }\n\n    process_inlines(state.tokens[blkIdx].children, state);\n  }\n};\n","// Token class\n\n'use strict';\n\n\n/**\n * class Token\n **/\n\n/**\n * new Token(type, tag, nesting)\n *\n * Create new token and fill passed properties.\n **/\nfunction Token(type, tag, nesting) {\n  /**\n   * Token#type -> String\n   *\n   * Type of the token (string, e.g. \"paragraph_open\")\n   **/\n  this.type     = type;\n\n  /**\n   * Token#tag -> String\n   *\n   * html tag name, e.g. \"p\"\n   **/\n  this.tag      = tag;\n\n  /**\n   * Token#attrs -> Array\n   *\n   * Html attributes. Format: `[ [ name1, value1 ], [ name2, value2 ] ]`\n   **/\n  this.attrs    = null;\n\n  /**\n   * Token#map -> Array\n   *\n   * Source map info. Format: `[ line_begin, line_end ]`\n   **/\n  this.map      = null;\n\n  /**\n   * Token#nesting -> Number\n   *\n   * Level change (number in {-1, 0, 1} set), where:\n   *\n   * -  `1` means the tag is opening\n   * -  `0` means the tag is self-closing\n   * - `-1` means the tag is closing\n   **/\n  this.nesting  = nesting;\n\n  /**\n   * Token#level -> Number\n   *\n   * nesting level, the same as `state.level`\n   **/\n  this.level    = 0;\n\n  /**\n   * Token#children -> Array\n   *\n   * An array of child nodes (inline and img tokens)\n   **/\n  this.children = null;\n\n  /**\n   * Token#content -> String\n   *\n   * In a case of self-closing tag (code, html, fence, etc.),\n   * it has contents of this tag.\n   **/\n  this.content  = '';\n\n  /**\n   * Token#markup -> String\n   *\n   * '*' or '_' for emphasis, fence string for fence, etc.\n   **/\n  this.markup   = '';\n\n  /**\n   * Token#info -> String\n   *\n   * fence infostring\n   **/\n  this.info     = '';\n\n  /**\n   * Token#meta -> Object\n   *\n   * A place for plugins to store an arbitrary data\n   **/\n  this.meta     = null;\n\n  /**\n   * Token#block -> Boolean\n   *\n   * True for block-level tokens, false for inline tokens.\n   * Used in renderer to calculate line breaks\n   **/\n  this.block    = false;\n\n  /**\n   * Token#hidden -> Boolean\n   *\n   * If it's true, ignore this element when rendering. Used for tight lists\n   * to hide paragraphs.\n   **/\n  this.hidden   = false;\n}\n\n\n/**\n * Token.attrIndex(name) -> Number\n *\n * Search attribute index by name.\n **/\nToken.prototype.attrIndex = function attrIndex(name) {\n  var attrs, i, len;\n\n  if (!this.attrs) { return -1; }\n\n  attrs = this.attrs;\n\n  for (i = 0, len = attrs.length; i < len; i++) {\n    if (attrs[i][0] === name) { return i; }\n  }\n  return -1;\n};\n\n\n/**\n * Token.attrPush(attrData)\n *\n * Add `[ name, value ]` attribute to list. Init attrs if necessary\n **/\nToken.prototype.attrPush = function attrPush(attrData) {\n  if (this.attrs) {\n    this.attrs.push(attrData);\n  } else {\n    this.attrs = [ attrData ];\n  }\n};\n\n\n/**\n * Token.attrSet(name, value)\n *\n * Set `name` attribute to `value`. Override old value if exists.\n **/\nToken.prototype.attrSet = function attrSet(name, value) {\n  var idx = this.attrIndex(name),\n      attrData = [ name, value ];\n\n  if (idx < 0) {\n    this.attrPush(attrData);\n  } else {\n    this.attrs[idx] = attrData;\n  }\n};\n\n\n/**\n * Token.attrGet(name)\n *\n * Get the value of attribute `name`, or null if it does not exist.\n **/\nToken.prototype.attrGet = function attrGet(name) {\n  var idx = this.attrIndex(name), value = null;\n  if (idx >= 0) {\n    value = this.attrs[idx][1];\n  }\n  return value;\n};\n\n\n/**\n * Token.attrJoin(name, value)\n *\n * Join value to existing attribute via space. Or create new attribute if not\n * exists. Useful to operate with token classes.\n **/\nToken.prototype.attrJoin = function attrJoin(name, value) {\n  var idx = this.attrIndex(name);\n\n  if (idx < 0) {\n    this.attrPush([ name, value ]);\n  } else {\n    this.attrs[idx][1] = this.attrs[idx][1] + ' ' + value;\n  }\n};\n\n\nmodule.exports = Token;\n","// Core state object\n//\n'use strict';\n\nvar Token = require('../token');\n\n\nfunction StateCore(src, md, env) {\n  this.src = src;\n  this.env = env;\n  this.tokens = [];\n  this.inlineMode = false;\n  this.md = md; // link to parser instance\n}\n\n// re-export Token class to use in core rules\nStateCore.prototype.Token = Token;\n\n\nmodule.exports = StateCore;\n","/** internal\n * class Core\n *\n * Top-level rules executor. Glues block/inline parsers and does intermediate\n * transformations.\n **/\n'use strict';\n\n\nvar Ruler  = require('./ruler');\n\n\nvar _rules = [\n  [ 'normalize',      require('./rules_core/normalize')      ],\n  [ 'block',          require('./rules_core/block')          ],\n  [ 'inline',         require('./rules_core/inline')         ],\n  [ 'linkify',        require('./rules_core/linkify')        ],\n  [ 'replacements',   require('./rules_core/replacements')   ],\n  [ 'smartquotes',    require('./rules_core/smartquotes')    ]\n];\n\n\n/**\n * new Core()\n **/\nfunction Core() {\n  /**\n   * Core#ruler -> Ruler\n   *\n   * [[Ruler]] instance. Keep configuration of core rules.\n   **/\n  this.ruler = new Ruler();\n\n  for (var i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1]);\n  }\n}\n\n\n/**\n * Core.process(state)\n *\n * Executes core chain rules.\n **/\nCore.prototype.process = function (state) {\n  var i, l, rules;\n\n  rules = this.ruler.getRules('');\n\n  for (i = 0, l = rules.length; i < l; i++) {\n    rules[i](state);\n  }\n};\n\nCore.prototype.State = require('./rules_core/state_core');\n\n\nmodule.exports = Core;\n","// GFM table, non-standard\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nfunction getLine(state, line) {\n  var pos = state.bMarks[line] + state.blkIndent,\n      max = state.eMarks[line];\n\n  return state.src.substr(pos, max - pos);\n}\n\nfunction escapedSplit(str) {\n  var result = [],\n      pos = 0,\n      max = str.length,\n      ch,\n      escapes = 0,\n      lastPos = 0,\n      backTicked = false,\n      lastBackTick = 0;\n\n  ch  = str.charCodeAt(pos);\n\n  while (pos < max) {\n    if (ch === 0x60/* ` */) {\n      if (backTicked) {\n        // make \\` close code sequence, but not open it;\n        // the reason is: `\\` is correct code block\n        backTicked = false;\n        lastBackTick = pos;\n      } else if (escapes % 2 === 0) {\n        backTicked = true;\n        lastBackTick = pos;\n      }\n    } else if (ch === 0x7c/* | */ && (escapes % 2 === 0) && !backTicked) {\n      result.push(str.substring(lastPos, pos));\n      lastPos = pos + 1;\n    }\n\n    if (ch === 0x5c/* \\ */) {\n      escapes++;\n    } else {\n      escapes = 0;\n    }\n\n    pos++;\n\n    // If there was an un-closed backtick, go back to just after\n    // the last backtick, but as if it was a normal character\n    if (pos === max && backTicked) {\n      backTicked = false;\n      pos = lastBackTick + 1;\n    }\n\n    ch = str.charCodeAt(pos);\n  }\n\n  result.push(str.substring(lastPos));\n\n  return result;\n}\n\n\nmodule.exports = function table(state, startLine, endLine, silent) {\n  var ch, lineText, pos, i, nextLine, columns, columnCount, token,\n      aligns, t, tableLines, tbodyLines;\n\n  // should have at least two lines\n  if (startLine + 2 > endLine) { return false; }\n\n  nextLine = startLine + 1;\n\n  if (state.sCount[nextLine] < state.blkIndent) { return false; }\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[nextLine] - state.blkIndent >= 4) { return false; }\n\n  // first character of the second line should be '|', '-', ':',\n  // and no other characters are allowed but spaces;\n  // basically, this is the equivalent of /^[-:|][-:|\\s]*$/ regexp\n\n  pos = state.bMarks[nextLine] + state.tShift[nextLine];\n  if (pos >= state.eMarks[nextLine]) { return false; }\n\n  ch = state.src.charCodeAt(pos++);\n  if (ch !== 0x7C/* | */ && ch !== 0x2D/* - */ && ch !== 0x3A/* : */) { return false; }\n\n  while (pos < state.eMarks[nextLine]) {\n    ch = state.src.charCodeAt(pos);\n\n    if (ch !== 0x7C/* | */ && ch !== 0x2D/* - */ && ch !== 0x3A/* : */ && !isSpace(ch)) { return false; }\n\n    pos++;\n  }\n\n  lineText = getLine(state, startLine + 1);\n\n  columns = lineText.split('|');\n  aligns = [];\n  for (i = 0; i < columns.length; i++) {\n    t = columns[i].trim();\n    if (!t) {\n      // allow empty columns before and after table, but not in between columns;\n      // e.g. allow ` |---| `, disallow ` ---||--- `\n      if (i === 0 || i === columns.length - 1) {\n        continue;\n      } else {\n        return false;\n      }\n    }\n\n    if (!/^:?-+:?$/.test(t)) { return false; }\n    if (t.charCodeAt(t.length - 1) === 0x3A/* : */) {\n      aligns.push(t.charCodeAt(0) === 0x3A/* : */ ? 'center' : 'right');\n    } else if (t.charCodeAt(0) === 0x3A/* : */) {\n      aligns.push('left');\n    } else {\n      aligns.push('');\n    }\n  }\n\n  lineText = getLine(state, startLine).trim();\n  if (lineText.indexOf('|') === -1) { return false; }\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n  columns = escapedSplit(lineText.replace(/^\\||\\|$/g, ''));\n\n  // header row will define an amount of columns in the entire table,\n  // and align row shouldn't be smaller than that (the rest of the rows can)\n  columnCount = columns.length;\n  if (columnCount > aligns.length) { return false; }\n\n  if (silent) { return true; }\n\n  token     = state.push('table_open', 'table', 1);\n  token.map = tableLines = [ startLine, 0 ];\n\n  token     = state.push('thead_open', 'thead', 1);\n  token.map = [ startLine, startLine + 1 ];\n\n  token     = state.push('tr_open', 'tr', 1);\n  token.map = [ startLine, startLine + 1 ];\n\n  for (i = 0; i < columns.length; i++) {\n    token          = state.push('th_open', 'th', 1);\n    token.map      = [ startLine, startLine + 1 ];\n    if (aligns[i]) {\n      token.attrs  = [ [ 'style', 'text-align:' + aligns[i] ] ];\n    }\n\n    token          = state.push('inline', '', 0);\n    token.content  = columns[i].trim();\n    token.map      = [ startLine, startLine + 1 ];\n    token.children = [];\n\n    token          = state.push('th_close', 'th', -1);\n  }\n\n  token     = state.push('tr_close', 'tr', -1);\n  token     = state.push('thead_close', 'thead', -1);\n\n  token     = state.push('tbody_open', 'tbody', 1);\n  token.map = tbodyLines = [ startLine + 2, 0 ];\n\n  for (nextLine = startLine + 2; nextLine < endLine; nextLine++) {\n    if (state.sCount[nextLine] < state.blkIndent) { break; }\n\n    lineText = getLine(state, nextLine).trim();\n    if (lineText.indexOf('|') === -1) { break; }\n    if (state.sCount[nextLine] - state.blkIndent >= 4) { break; }\n    columns = escapedSplit(lineText.replace(/^\\||\\|$/g, ''));\n\n    token = state.push('tr_open', 'tr', 1);\n    for (i = 0; i < columnCount; i++) {\n      token          = state.push('td_open', 'td', 1);\n      if (aligns[i]) {\n        token.attrs  = [ [ 'style', 'text-align:' + aligns[i] ] ];\n      }\n\n      token          = state.push('inline', '', 0);\n      token.content  = columns[i] ? columns[i].trim() : '';\n      token.children = [];\n\n      token          = state.push('td_close', 'td', -1);\n    }\n    token = state.push('tr_close', 'tr', -1);\n  }\n  token = state.push('tbody_close', 'tbody', -1);\n  token = state.push('table_close', 'table', -1);\n\n  tableLines[1] = tbodyLines[1] = nextLine;\n  state.line = nextLine;\n  return true;\n};\n","// Code block (4 spaces padded)\n\n'use strict';\n\n\nmodule.exports = function code(state, startLine, endLine/*, silent*/) {\n  var nextLine, last, token;\n\n  if (state.sCount[startLine] - state.blkIndent < 4) { return false; }\n\n  last = nextLine = startLine + 1;\n\n  while (nextLine < endLine) {\n    if (state.isEmpty(nextLine)) {\n      nextLine++;\n      continue;\n    }\n\n    if (state.sCount[nextLine] - state.blkIndent >= 4) {\n      nextLine++;\n      last = nextLine;\n      continue;\n    }\n    break;\n  }\n\n  state.line = last;\n\n  token         = state.push('code_block', 'code', 0);\n  token.content = state.getLines(startLine, last, 4 + state.blkIndent, true);\n  token.map     = [ startLine, state.line ];\n\n  return true;\n};\n","// fences (``` lang, ~~~ lang)\n\n'use strict';\n\n\nmodule.exports = function fence(state, startLine, endLine, silent) {\n  var marker, len, params, nextLine, mem, token, markup,\n      haveEndMarker = false,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  if (pos + 3 > max) { return false; }\n\n  marker = state.src.charCodeAt(pos);\n\n  if (marker !== 0x7E/* ~ */ && marker !== 0x60 /* ` */) {\n    return false;\n  }\n\n  // scan marker length\n  mem = pos;\n  pos = state.skipChars(pos, marker);\n\n  len = pos - mem;\n\n  if (len < 3) { return false; }\n\n  markup = state.src.slice(mem, pos);\n  params = state.src.slice(pos, max);\n\n  if (params.indexOf(String.fromCharCode(marker)) >= 0) { return false; }\n\n  // Since start is found, we can report success here in validation mode\n  if (silent) { return true; }\n\n  // search end of block\n  nextLine = startLine;\n\n  for (;;) {\n    nextLine++;\n    if (nextLine >= endLine) {\n      // unclosed block should be autoclosed by end of document.\n      // also block seems to be autoclosed by end of parent\n      break;\n    }\n\n    pos = mem = state.bMarks[nextLine] + state.tShift[nextLine];\n    max = state.eMarks[nextLine];\n\n    if (pos < max && state.sCount[nextLine] < state.blkIndent) {\n      // non-empty line with negative indent should stop the list:\n      // - ```\n      //  test\n      break;\n    }\n\n    if (state.src.charCodeAt(pos) !== marker) { continue; }\n\n    if (state.sCount[nextLine] - state.blkIndent >= 4) {\n      // closing fence should be indented less than 4 spaces\n      continue;\n    }\n\n    pos = state.skipChars(pos, marker);\n\n    // closing code fence must be at least as long as the opening one\n    if (pos - mem < len) { continue; }\n\n    // make sure tail has spaces only\n    pos = state.skipSpaces(pos);\n\n    if (pos < max) { continue; }\n\n    haveEndMarker = true;\n    // found!\n    break;\n  }\n\n  // If a fence has heading spaces, they should be removed from its inner block\n  len = state.sCount[startLine];\n\n  state.line = nextLine + (haveEndMarker ? 1 : 0);\n\n  token         = state.push('fence', 'code', 0);\n  token.info    = params;\n  token.content = state.getLines(startLine + 1, nextLine, len, true);\n  token.markup  = markup;\n  token.map     = [ startLine, state.line ];\n\n  return true;\n};\n","// Block quotes\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nmodule.exports = function blockquote(state, startLine, endLine, silent) {\n  var adjustTab,\n      ch,\n      i,\n      initial,\n      l,\n      lastLineEmpty,\n      lines,\n      nextLine,\n      offset,\n      oldBMarks,\n      oldBSCount,\n      oldIndent,\n      oldParentType,\n      oldSCount,\n      oldTShift,\n      spaceAfterMarker,\n      terminate,\n      terminatorRules,\n      token,\n      wasOutdented,\n      oldLineMax = state.lineMax,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  // check the block quote marker\n  if (state.src.charCodeAt(pos++) !== 0x3E/* > */) { return false; }\n\n  // we know that it's going to be a valid blockquote,\n  // so no point trying to find the end of it in silent mode\n  if (silent) { return true; }\n\n  // skip spaces after \">\" and re-calculate offset\n  initial = offset = state.sCount[startLine] + pos - (state.bMarks[startLine] + state.tShift[startLine]);\n\n  // skip one optional space after '>'\n  if (state.src.charCodeAt(pos) === 0x20 /* space */) {\n    // ' >   test '\n    //     ^ -- position start of line here:\n    pos++;\n    initial++;\n    offset++;\n    adjustTab = false;\n    spaceAfterMarker = true;\n  } else if (state.src.charCodeAt(pos) === 0x09 /* tab */) {\n    spaceAfterMarker = true;\n\n    if ((state.bsCount[startLine] + offset) % 4 === 3) {\n      // '  >\\t  test '\n      //       ^ -- position start of line here (tab has width===1)\n      pos++;\n      initial++;\n      offset++;\n      adjustTab = false;\n    } else {\n      // ' >\\t  test '\n      //    ^ -- position start of line here + shift bsCount slightly\n      //         to make extra space appear\n      adjustTab = true;\n    }\n  } else {\n    spaceAfterMarker = false;\n  }\n\n  oldBMarks = [ state.bMarks[startLine] ];\n  state.bMarks[startLine] = pos;\n\n  while (pos < max) {\n    ch = state.src.charCodeAt(pos);\n\n    if (isSpace(ch)) {\n      if (ch === 0x09) {\n        offset += 4 - (offset + state.bsCount[startLine] + (adjustTab ? 1 : 0)) % 4;\n      } else {\n        offset++;\n      }\n    } else {\n      break;\n    }\n\n    pos++;\n  }\n\n  oldBSCount = [ state.bsCount[startLine] ];\n  state.bsCount[startLine] = state.sCount[startLine] + 1 + (spaceAfterMarker ? 1 : 0);\n\n  lastLineEmpty = pos >= max;\n\n  oldSCount = [ state.sCount[startLine] ];\n  state.sCount[startLine] = offset - initial;\n\n  oldTShift = [ state.tShift[startLine] ];\n  state.tShift[startLine] = pos - state.bMarks[startLine];\n\n  terminatorRules = state.md.block.ruler.getRules('blockquote');\n\n  oldParentType = state.parentType;\n  state.parentType = 'blockquote';\n  wasOutdented = false;\n\n  // Search the end of the block\n  //\n  // Block ends with either:\n  //  1. an empty line outside:\n  //     ```\n  //     > test\n  //\n  //     ```\n  //  2. an empty line inside:\n  //     ```\n  //     >\n  //     test\n  //     ```\n  //  3. another tag:\n  //     ```\n  //     > test\n  //      - - -\n  //     ```\n  for (nextLine = startLine + 1; nextLine < endLine; nextLine++) {\n    // check if it's outdented, i.e. it's inside list item and indented\n    // less than said list item:\n    //\n    // ```\n    // 1. anything\n    //    > current blockquote\n    // 2. checking this line\n    // ```\n    if (state.sCount[nextLine] < state.blkIndent) wasOutdented = true;\n\n    pos = state.bMarks[nextLine] + state.tShift[nextLine];\n    max = state.eMarks[nextLine];\n\n    if (pos >= max) {\n      // Case 1: line is not inside the blockquote, and this line is empty.\n      break;\n    }\n\n    if (state.src.charCodeAt(pos++) === 0x3E/* > */ && !wasOutdented) {\n      // This line is inside the blockquote.\n\n      // skip spaces after \">\" and re-calculate offset\n      initial = offset = state.sCount[nextLine] + pos - (state.bMarks[nextLine] + state.tShift[nextLine]);\n\n      // skip one optional space after '>'\n      if (state.src.charCodeAt(pos) === 0x20 /* space */) {\n        // ' >   test '\n        //     ^ -- position start of line here:\n        pos++;\n        initial++;\n        offset++;\n        adjustTab = false;\n        spaceAfterMarker = true;\n      } else if (state.src.charCodeAt(pos) === 0x09 /* tab */) {\n        spaceAfterMarker = true;\n\n        if ((state.bsCount[nextLine] + offset) % 4 === 3) {\n          // '  >\\t  test '\n          //       ^ -- position start of line here (tab has width===1)\n          pos++;\n          initial++;\n          offset++;\n          adjustTab = false;\n        } else {\n          // ' >\\t  test '\n          //    ^ -- position start of line here + shift bsCount slightly\n          //         to make extra space appear\n          adjustTab = true;\n        }\n      } else {\n        spaceAfterMarker = false;\n      }\n\n      oldBMarks.push(state.bMarks[nextLine]);\n      state.bMarks[nextLine] = pos;\n\n      while (pos < max) {\n        ch = state.src.charCodeAt(pos);\n\n        if (isSpace(ch)) {\n          if (ch === 0x09) {\n            offset += 4 - (offset + state.bsCount[nextLine] + (adjustTab ? 1 : 0)) % 4;\n          } else {\n            offset++;\n          }\n        } else {\n          break;\n        }\n\n        pos++;\n      }\n\n      lastLineEmpty = pos >= max;\n\n      oldBSCount.push(state.bsCount[nextLine]);\n      state.bsCount[nextLine] = state.sCount[nextLine] + 1 + (spaceAfterMarker ? 1 : 0);\n\n      oldSCount.push(state.sCount[nextLine]);\n      state.sCount[nextLine] = offset - initial;\n\n      oldTShift.push(state.tShift[nextLine]);\n      state.tShift[nextLine] = pos - state.bMarks[nextLine];\n      continue;\n    }\n\n    // Case 2: line is not inside the blockquote, and the last line was empty.\n    if (lastLineEmpty) { break; }\n\n    // Case 3: another tag found.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n\n    if (terminate) {\n      // Quirk to enforce \"hard termination mode\" for paragraphs;\n      // normally if you call `tokenize(state, startLine, nextLine)`,\n      // paragraphs will look below nextLine for paragraph continuation,\n      // but if blockquote is terminated by another tag, they shouldn't\n      state.lineMax = nextLine;\n\n      if (state.blkIndent !== 0) {\n        // state.blkIndent was non-zero, we now set it to zero,\n        // so we need to re-calculate all offsets to appear as\n        // if indent wasn't changed\n        oldBMarks.push(state.bMarks[nextLine]);\n        oldBSCount.push(state.bsCount[nextLine]);\n        oldTShift.push(state.tShift[nextLine]);\n        oldSCount.push(state.sCount[nextLine]);\n        state.sCount[nextLine] -= state.blkIndent;\n      }\n\n      break;\n    }\n\n    oldBMarks.push(state.bMarks[nextLine]);\n    oldBSCount.push(state.bsCount[nextLine]);\n    oldTShift.push(state.tShift[nextLine]);\n    oldSCount.push(state.sCount[nextLine]);\n\n    // A negative indentation means that this is a paragraph continuation\n    //\n    state.sCount[nextLine] = -1;\n  }\n\n  oldIndent = state.blkIndent;\n  state.blkIndent = 0;\n\n  token        = state.push('blockquote_open', 'blockquote', 1);\n  token.markup = '>';\n  token.map    = lines = [ startLine, 0 ];\n\n  state.md.block.tokenize(state, startLine, nextLine);\n\n  token        = state.push('blockquote_close', 'blockquote', -1);\n  token.markup = '>';\n\n  state.lineMax = oldLineMax;\n  state.parentType = oldParentType;\n  lines[1] = state.line;\n\n  // Restore original tShift; this might not be necessary since the parser\n  // has already been here, but just to make sure we can do that.\n  for (i = 0; i < oldTShift.length; i++) {\n    state.bMarks[i + startLine] = oldBMarks[i];\n    state.tShift[i + startLine] = oldTShift[i];\n    state.sCount[i + startLine] = oldSCount[i];\n    state.bsCount[i + startLine] = oldBSCount[i];\n  }\n  state.blkIndent = oldIndent;\n\n  return true;\n};\n","// Horizontal rule\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nmodule.exports = function hr(state, startLine, endLine, silent) {\n  var marker, cnt, ch, token,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  marker = state.src.charCodeAt(pos++);\n\n  // Check hr marker\n  if (marker !== 0x2A/* * */ &&\n      marker !== 0x2D/* - */ &&\n      marker !== 0x5F/* _ */) {\n    return false;\n  }\n\n  // markers can be mixed with spaces, but there should be at least 3 of them\n\n  cnt = 1;\n  while (pos < max) {\n    ch = state.src.charCodeAt(pos++);\n    if (ch !== marker && !isSpace(ch)) { return false; }\n    if (ch === marker) { cnt++; }\n  }\n\n  if (cnt < 3) { return false; }\n\n  if (silent) { return true; }\n\n  state.line = startLine + 1;\n\n  token        = state.push('hr', 'hr', 0);\n  token.map    = [ startLine, state.line ];\n  token.markup = Array(cnt + 1).join(String.fromCharCode(marker));\n\n  return true;\n};\n","// Lists\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\n// Search `[-+*][\\n ]`, returns next pos after marker on success\n// or -1 on fail.\nfunction skipBulletListMarker(state, startLine) {\n  var marker, pos, max, ch;\n\n  pos = state.bMarks[startLine] + state.tShift[startLine];\n  max = state.eMarks[startLine];\n\n  marker = state.src.charCodeAt(pos++);\n  // Check bullet\n  if (marker !== 0x2A/* * */ &&\n      marker !== 0x2D/* - */ &&\n      marker !== 0x2B/* + */) {\n    return -1;\n  }\n\n  if (pos < max) {\n    ch = state.src.charCodeAt(pos);\n\n    if (!isSpace(ch)) {\n      // \" -test \" - is not a list item\n      return -1;\n    }\n  }\n\n  return pos;\n}\n\n// Search `\\d+[.)][\\n ]`, returns next pos after marker on success\n// or -1 on fail.\nfunction skipOrderedListMarker(state, startLine) {\n  var ch,\n      start = state.bMarks[startLine] + state.tShift[startLine],\n      pos = start,\n      max = state.eMarks[startLine];\n\n  // List marker should have at least 2 chars (digit + dot)\n  if (pos + 1 >= max) { return -1; }\n\n  ch = state.src.charCodeAt(pos++);\n\n  if (ch < 0x30/* 0 */ || ch > 0x39/* 9 */) { return -1; }\n\n  for (;;) {\n    // EOL -> fail\n    if (pos >= max) { return -1; }\n\n    ch = state.src.charCodeAt(pos++);\n\n    if (ch >= 0x30/* 0 */ && ch <= 0x39/* 9 */) {\n\n      // List marker should have no more than 9 digits\n      // (prevents integer overflow in browsers)\n      if (pos - start >= 10) { return -1; }\n\n      continue;\n    }\n\n    // found valid marker\n    if (ch === 0x29/* ) */ || ch === 0x2e/* . */) {\n      break;\n    }\n\n    return -1;\n  }\n\n\n  if (pos < max) {\n    ch = state.src.charCodeAt(pos);\n\n    if (!isSpace(ch)) {\n      // \" 1.test \" - is not a list item\n      return -1;\n    }\n  }\n  return pos;\n}\n\nfunction markTightParagraphs(state, idx) {\n  var i, l,\n      level = state.level + 2;\n\n  for (i = idx + 2, l = state.tokens.length - 2; i < l; i++) {\n    if (state.tokens[i].level === level && state.tokens[i].type === 'paragraph_open') {\n      state.tokens[i + 2].hidden = true;\n      state.tokens[i].hidden = true;\n      i += 2;\n    }\n  }\n}\n\n\nmodule.exports = function list(state, startLine, endLine, silent) {\n  var ch,\n      contentStart,\n      i,\n      indent,\n      indentAfterMarker,\n      initial,\n      isOrdered,\n      itemLines,\n      l,\n      listLines,\n      listTokIdx,\n      markerCharCode,\n      markerValue,\n      max,\n      nextLine,\n      offset,\n      oldIndent,\n      oldLIndent,\n      oldParentType,\n      oldTShift,\n      oldTight,\n      pos,\n      posAfterMarker,\n      prevEmptyEnd,\n      start,\n      terminate,\n      terminatorRules,\n      token,\n      isTerminatingParagraph = false,\n      tight = true;\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  // limit conditions when list can interrupt\n  // a paragraph (validation mode only)\n  if (silent && state.parentType === 'paragraph') {\n    // Next list item should still terminate previous list item;\n    //\n    // This code can fail if plugins use blkIndent as well as lists,\n    // but I hope the spec gets fixed long before that happens.\n    //\n    if (state.tShift[startLine] >= state.blkIndent) {\n      isTerminatingParagraph = true;\n    }\n  }\n\n  // Detect list type and position after marker\n  if ((posAfterMarker = skipOrderedListMarker(state, startLine)) >= 0) {\n    isOrdered = true;\n    start = state.bMarks[startLine] + state.tShift[startLine];\n    markerValue = Number(state.src.substr(start, posAfterMarker - start - 1));\n\n    // If we're starting a new ordered list right after\n    // a paragraph, it should start with 1.\n    if (isTerminatingParagraph && markerValue !== 1) return false;\n\n  } else if ((posAfterMarker = skipBulletListMarker(state, startLine)) >= 0) {\n    isOrdered = false;\n\n  } else {\n    return false;\n  }\n\n  // If we're starting a new unordered list right after\n  // a paragraph, first line should not be empty.\n  if (isTerminatingParagraph) {\n    if (state.skipSpaces(posAfterMarker) >= state.eMarks[startLine]) return false;\n  }\n\n  // We should terminate list on style change. Remember first one to compare.\n  markerCharCode = state.src.charCodeAt(posAfterMarker - 1);\n\n  // For validation mode we can terminate immediately\n  if (silent) { return true; }\n\n  // Start list\n  listTokIdx = state.tokens.length;\n\n  if (isOrdered) {\n    token       = state.push('ordered_list_open', 'ol', 1);\n    if (markerValue !== 1) {\n      token.attrs = [ [ 'start', markerValue ] ];\n    }\n\n  } else {\n    token       = state.push('bullet_list_open', 'ul', 1);\n  }\n\n  token.map    = listLines = [ startLine, 0 ];\n  token.markup = String.fromCharCode(markerCharCode);\n\n  //\n  // Iterate list items\n  //\n\n  nextLine = startLine;\n  prevEmptyEnd = false;\n  terminatorRules = state.md.block.ruler.getRules('list');\n\n  oldParentType = state.parentType;\n  state.parentType = 'list';\n\n  while (nextLine < endLine) {\n    pos = posAfterMarker;\n    max = state.eMarks[nextLine];\n\n    initial = offset = state.sCount[nextLine] + posAfterMarker - (state.bMarks[startLine] + state.tShift[startLine]);\n\n    while (pos < max) {\n      ch = state.src.charCodeAt(pos);\n\n      if (ch === 0x09) {\n        offset += 4 - (offset + state.bsCount[nextLine]) % 4;\n      } else if (ch === 0x20) {\n        offset++;\n      } else {\n        break;\n      }\n\n      pos++;\n    }\n\n    contentStart = pos;\n\n    if (contentStart >= max) {\n      // trimming space in \"-    \\n  3\" case, indent is 1 here\n      indentAfterMarker = 1;\n    } else {\n      indentAfterMarker = offset - initial;\n    }\n\n    // If we have more than 4 spaces, the indent is 1\n    // (the rest is just indented code block)\n    if (indentAfterMarker > 4) { indentAfterMarker = 1; }\n\n    // \"  -  test\"\n    //  ^^^^^ - calculating total length of this thing\n    indent = initial + indentAfterMarker;\n\n    // Run subparser & write tokens\n    token        = state.push('list_item_open', 'li', 1);\n    token.markup = String.fromCharCode(markerCharCode);\n    token.map    = itemLines = [ startLine, 0 ];\n\n    oldIndent = state.blkIndent;\n    oldTight = state.tight;\n    oldTShift = state.tShift[startLine];\n    oldLIndent = state.sCount[startLine];\n    state.blkIndent = indent;\n    state.tight = true;\n    state.tShift[startLine] = contentStart - state.bMarks[startLine];\n    state.sCount[startLine] = offset;\n\n    if (contentStart >= max && state.isEmpty(startLine + 1)) {\n      // workaround for this case\n      // (list item is empty, list terminates before \"foo\"):\n      // ~~~~~~~~\n      //   -\n      //\n      //     foo\n      // ~~~~~~~~\n      state.line = Math.min(state.line + 2, endLine);\n    } else {\n      state.md.block.tokenize(state, startLine, endLine, true);\n    }\n\n    // If any of list item is tight, mark list as tight\n    if (!state.tight || prevEmptyEnd) {\n      tight = false;\n    }\n    // Item become loose if finish with empty line,\n    // but we should filter last element, because it means list finish\n    prevEmptyEnd = (state.line - startLine) > 1 && state.isEmpty(state.line - 1);\n\n    state.blkIndent = oldIndent;\n    state.tShift[startLine] = oldTShift;\n    state.sCount[startLine] = oldLIndent;\n    state.tight = oldTight;\n\n    token        = state.push('list_item_close', 'li', -1);\n    token.markup = String.fromCharCode(markerCharCode);\n\n    nextLine = startLine = state.line;\n    itemLines[1] = nextLine;\n    contentStart = state.bMarks[startLine];\n\n    if (nextLine >= endLine) { break; }\n\n    //\n    // Try to check if list is terminated or continued.\n    //\n    if (state.sCount[nextLine] < state.blkIndent) { break; }\n\n    // fail if terminating block found\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n\n    // fail if list has another type\n    if (isOrdered) {\n      posAfterMarker = skipOrderedListMarker(state, nextLine);\n      if (posAfterMarker < 0) { break; }\n    } else {\n      posAfterMarker = skipBulletListMarker(state, nextLine);\n      if (posAfterMarker < 0) { break; }\n    }\n\n    if (markerCharCode !== state.src.charCodeAt(posAfterMarker - 1)) { break; }\n  }\n\n  // Finalize list\n  if (isOrdered) {\n    token = state.push('ordered_list_close', 'ol', -1);\n  } else {\n    token = state.push('bullet_list_close', 'ul', -1);\n  }\n  token.markup = String.fromCharCode(markerCharCode);\n\n  listLines[1] = nextLine;\n  state.line = nextLine;\n\n  state.parentType = oldParentType;\n\n  // mark paragraphs tight if needed\n  if (tight) {\n    markTightParagraphs(state, listTokIdx);\n  }\n\n  return true;\n};\n","'use strict';\n\n\nvar normalizeReference   = require('../common/utils').normalizeReference;\nvar isSpace              = require('../common/utils').isSpace;\n\n\nmodule.exports = function reference(state, startLine, _endLine, silent) {\n  var ch,\n      destEndPos,\n      destEndLineNo,\n      endLine,\n      href,\n      i,\n      l,\n      label,\n      labelEnd,\n      oldParentType,\n      res,\n      start,\n      str,\n      terminate,\n      terminatorRules,\n      title,\n      lines = 0,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine],\n      nextLine = startLine + 1;\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  if (state.src.charCodeAt(pos) !== 0x5B/* [ */) { return false; }\n\n  // Simple check to quickly interrupt scan on [link](url) at the start of line.\n  // Can be useful on practice: https://github.com/markdown-it/markdown-it/issues/54\n  while (++pos < max) {\n    if (state.src.charCodeAt(pos) === 0x5D /* ] */ &&\n        state.src.charCodeAt(pos - 1) !== 0x5C/* \\ */) {\n      if (pos + 1 === max) { return false; }\n      if (state.src.charCodeAt(pos + 1) !== 0x3A/* : */) { return false; }\n      break;\n    }\n  }\n\n  endLine = state.lineMax;\n\n  // jump line-by-line until empty one or EOF\n  terminatorRules = state.md.block.ruler.getRules('reference');\n\n  oldParentType = state.parentType;\n  state.parentType = 'reference';\n\n  for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {\n    // this would be a code block normally, but after paragraph\n    // it's considered a lazy continuation regardless of what's there\n    if (state.sCount[nextLine] - state.blkIndent > 3) { continue; }\n\n    // quirk for blockquotes, this line should already be checked by that rule\n    if (state.sCount[nextLine] < 0) { continue; }\n\n    // Some tags can terminate paragraph without empty line.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n  }\n\n  str = state.getLines(startLine, nextLine, state.blkIndent, false).trim();\n  max = str.length;\n\n  for (pos = 1; pos < max; pos++) {\n    ch = str.charCodeAt(pos);\n    if (ch === 0x5B /* [ */) {\n      return false;\n    } else if (ch === 0x5D /* ] */) {\n      labelEnd = pos;\n      break;\n    } else if (ch === 0x0A /* \\n */) {\n      lines++;\n    } else if (ch === 0x5C /* \\ */) {\n      pos++;\n      if (pos < max && str.charCodeAt(pos) === 0x0A) {\n        lines++;\n      }\n    }\n  }\n\n  if (labelEnd < 0 || str.charCodeAt(labelEnd + 1) !== 0x3A/* : */) { return false; }\n\n  // [label]:   destination   'title'\n  //         ^^^ skip optional whitespace here\n  for (pos = labelEnd + 2; pos < max; pos++) {\n    ch = str.charCodeAt(pos);\n    if (ch === 0x0A) {\n      lines++;\n    } else if (isSpace(ch)) {\n      /*eslint no-empty:0*/\n    } else {\n      break;\n    }\n  }\n\n  // [label]:   destination   'title'\n  //            ^^^^^^^^^^^ parse this\n  res = state.md.helpers.parseLinkDestination(str, pos, max);\n  if (!res.ok) { return false; }\n\n  href = state.md.normalizeLink(res.str);\n  if (!state.md.validateLink(href)) { return false; }\n\n  pos = res.pos;\n  lines += res.lines;\n\n  // save cursor state, we could require to rollback later\n  destEndPos = pos;\n  destEndLineNo = lines;\n\n  // [label]:   destination   'title'\n  //                       ^^^ skipping those spaces\n  start = pos;\n  for (; pos < max; pos++) {\n    ch = str.charCodeAt(pos);\n    if (ch === 0x0A) {\n      lines++;\n    } else if (isSpace(ch)) {\n      /*eslint no-empty:0*/\n    } else {\n      break;\n    }\n  }\n\n  // [label]:   destination   'title'\n  //                          ^^^^^^^ parse this\n  res = state.md.helpers.parseLinkTitle(str, pos, max);\n  if (pos < max && start !== pos && res.ok) {\n    title = res.str;\n    pos = res.pos;\n    lines += res.lines;\n  } else {\n    title = '';\n    pos = destEndPos;\n    lines = destEndLineNo;\n  }\n\n  // skip trailing spaces until the rest of the line\n  while (pos < max) {\n    ch = str.charCodeAt(pos);\n    if (!isSpace(ch)) { break; }\n    pos++;\n  }\n\n  if (pos < max && str.charCodeAt(pos) !== 0x0A) {\n    if (title) {\n      // garbage at the end of the line after title,\n      // but it could still be a valid reference if we roll back\n      title = '';\n      pos = destEndPos;\n      lines = destEndLineNo;\n      while (pos < max) {\n        ch = str.charCodeAt(pos);\n        if (!isSpace(ch)) { break; }\n        pos++;\n      }\n    }\n  }\n\n  if (pos < max && str.charCodeAt(pos) !== 0x0A) {\n    // garbage at the end of the line\n    return false;\n  }\n\n  label = normalizeReference(str.slice(1, labelEnd));\n  if (!label) {\n    // CommonMark 0.20 disallows empty labels\n    return false;\n  }\n\n  // Reference can not terminate anything. This check is for safety only.\n  /*istanbul ignore if*/\n  if (silent) { return true; }\n\n  if (typeof state.env.references === 'undefined') {\n    state.env.references = {};\n  }\n  if (typeof state.env.references[label] === 'undefined') {\n    state.env.references[label] = { title: title, href: href };\n  }\n\n  state.parentType = oldParentType;\n\n  state.line = startLine + lines + 1;\n  return true;\n};\n","// heading (#, ##, ...)\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nmodule.exports = function heading(state, startLine, endLine, silent) {\n  var ch, level, tmp, token,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  ch  = state.src.charCodeAt(pos);\n\n  if (ch !== 0x23/* # */ || pos >= max) { return false; }\n\n  // count heading level\n  level = 1;\n  ch = state.src.charCodeAt(++pos);\n  while (ch === 0x23/* # */ && pos < max && level <= 6) {\n    level++;\n    ch = state.src.charCodeAt(++pos);\n  }\n\n  if (level > 6 || (pos < max && !isSpace(ch))) { return false; }\n\n  if (silent) { return true; }\n\n  // Let's cut tails like '    ###  ' from the end of string\n\n  max = state.skipSpacesBack(max, pos);\n  tmp = state.skipCharsBack(max, 0x23, pos); // #\n  if (tmp > pos && isSpace(state.src.charCodeAt(tmp - 1))) {\n    max = tmp;\n  }\n\n  state.line = startLine + 1;\n\n  token        = state.push('heading_open', 'h' + String(level), 1);\n  token.markup = '########'.slice(0, level);\n  token.map    = [ startLine, state.line ];\n\n  token          = state.push('inline', '', 0);\n  token.content  = state.src.slice(pos, max).trim();\n  token.map      = [ startLine, state.line ];\n  token.children = [];\n\n  token        = state.push('heading_close', 'h' + String(level), -1);\n  token.markup = '########'.slice(0, level);\n\n  return true;\n};\n","// lheading (---, ===)\n\n'use strict';\n\n\nmodule.exports = function lheading(state, startLine, endLine/*, silent*/) {\n  var content, terminate, i, l, token, pos, max, level, marker,\n      nextLine = startLine + 1, oldParentType,\n      terminatorRules = state.md.block.ruler.getRules('paragraph');\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  oldParentType = state.parentType;\n  state.parentType = 'paragraph'; // use paragraph to match terminatorRules\n\n  // jump line-by-line until empty one or EOF\n  for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {\n    // this would be a code block normally, but after paragraph\n    // it's considered a lazy continuation regardless of what's there\n    if (state.sCount[nextLine] - state.blkIndent > 3) { continue; }\n\n    //\n    // Check for underline in setext header\n    //\n    if (state.sCount[nextLine] >= state.blkIndent) {\n      pos = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n\n      if (pos < max) {\n        marker = state.src.charCodeAt(pos);\n\n        if (marker === 0x2D/* - */ || marker === 0x3D/* = */) {\n          pos = state.skipChars(pos, marker);\n          pos = state.skipSpaces(pos);\n\n          if (pos >= max) {\n            level = (marker === 0x3D/* = */ ? 1 : 2);\n            break;\n          }\n        }\n      }\n    }\n\n    // quirk for blockquotes, this line should already be checked by that rule\n    if (state.sCount[nextLine] < 0) { continue; }\n\n    // Some tags can terminate paragraph without empty line.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n  }\n\n  if (!level) {\n    // Didn't find valid underline\n    return false;\n  }\n\n  content = state.getLines(startLine, nextLine, state.blkIndent, false).trim();\n\n  state.line = nextLine + 1;\n\n  token          = state.push('heading_open', 'h' + String(level), 1);\n  token.markup   = String.fromCharCode(marker);\n  token.map      = [ startLine, state.line ];\n\n  token          = state.push('inline', '', 0);\n  token.content  = content;\n  token.map      = [ startLine, state.line - 1 ];\n  token.children = [];\n\n  token          = state.push('heading_close', 'h' + String(level), -1);\n  token.markup   = String.fromCharCode(marker);\n\n  state.parentType = oldParentType;\n\n  return true;\n};\n","// List of valid html blocks names, accorting to commonmark spec\n// http://jgm.github.io/CommonMark/spec.html#html-blocks\n\n'use strict';\n\n\nmodule.exports = [\n  'address',\n  'article',\n  'aside',\n  'base',\n  'basefont',\n  'blockquote',\n  'body',\n  'caption',\n  'center',\n  'col',\n  'colgroup',\n  'dd',\n  'details',\n  'dialog',\n  'dir',\n  'div',\n  'dl',\n  'dt',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'footer',\n  'form',\n  'frame',\n  'frameset',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'head',\n  'header',\n  'hr',\n  'html',\n  'iframe',\n  'legend',\n  'li',\n  'link',\n  'main',\n  'menu',\n  'menuitem',\n  'meta',\n  'nav',\n  'noframes',\n  'ol',\n  'optgroup',\n  'option',\n  'p',\n  'param',\n  'section',\n  'source',\n  'summary',\n  'table',\n  'tbody',\n  'td',\n  'tfoot',\n  'th',\n  'thead',\n  'title',\n  'tr',\n  'track',\n  'ul'\n];\n","// Regexps to match html elements\n\n'use strict';\n\nvar attr_name     = '[a-zA-Z_:][a-zA-Z0-9:._-]*';\n\nvar unquoted      = '[^\"\\'=<>`\\\\x00-\\\\x20]+';\nvar single_quoted = \"'[^']*'\";\nvar double_quoted = '\"[^\"]*\"';\n\nvar attr_value  = '(?:' + unquoted + '|' + single_quoted + '|' + double_quoted + ')';\n\nvar attribute   = '(?:\\\\s+' + attr_name + '(?:\\\\s*=\\\\s*' + attr_value + ')?)';\n\nvar open_tag    = '<[A-Za-z][A-Za-z0-9\\\\-]*' + attribute + '*\\\\s*\\\\/?>';\n\nvar close_tag   = '<\\\\/[A-Za-z][A-Za-z0-9\\\\-]*\\\\s*>';\nvar comment     = '<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->';\nvar processing  = '<[?].*?[?]>';\nvar declaration = '<![A-Z]+\\\\s+[^>]*>';\nvar cdata       = '<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>';\n\nvar HTML_TAG_RE = new RegExp('^(?:' + open_tag + '|' + close_tag + '|' + comment +\n                        '|' + processing + '|' + declaration + '|' + cdata + ')');\nvar HTML_OPEN_CLOSE_TAG_RE = new RegExp('^(?:' + open_tag + '|' + close_tag + ')');\n\nmodule.exports.HTML_TAG_RE = HTML_TAG_RE;\nmodule.exports.HTML_OPEN_CLOSE_TAG_RE = HTML_OPEN_CLOSE_TAG_RE;\n","// HTML block\n\n'use strict';\n\n\nvar block_names = require('../common/html_blocks');\nvar HTML_OPEN_CLOSE_TAG_RE = require('../common/html_re').HTML_OPEN_CLOSE_TAG_RE;\n\n// An array of opening and corresponding closing sequences for html tags,\n// last argument defines whether it can terminate a paragraph or not\n//\nvar HTML_SEQUENCES = [\n  [ /^<(script|pre|style)(?=(\\s|>|$))/i, /<\\/(script|pre|style)>/i, true ],\n  [ /^<!--/,        /-->/,   true ],\n  [ /^<\\?/,         /\\?>/,   true ],\n  [ /^<![A-Z]/,     />/,     true ],\n  [ /^<!\\[CDATA\\[/, /\\]\\]>/, true ],\n  [ new RegExp('^</?(' + block_names.join('|') + ')(?=(\\\\s|/?>|$))', 'i'), /^$/, true ],\n  [ new RegExp(HTML_OPEN_CLOSE_TAG_RE.source + '\\\\s*$'),  /^$/, false ]\n];\n\n\nmodule.exports = function html_block(state, startLine, endLine, silent) {\n  var i, nextLine, token, lineText,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  if (!state.md.options.html) { return false; }\n\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */) { return false; }\n\n  lineText = state.src.slice(pos, max);\n\n  for (i = 0; i < HTML_SEQUENCES.length; i++) {\n    if (HTML_SEQUENCES[i][0].test(lineText)) { break; }\n  }\n\n  if (i === HTML_SEQUENCES.length) { return false; }\n\n  if (silent) {\n    // true if this sequence can be a terminator, false otherwise\n    return HTML_SEQUENCES[i][2];\n  }\n\n  nextLine = startLine + 1;\n\n  // If we are here - we detected HTML block.\n  // Let's roll down till block end.\n  if (!HTML_SEQUENCES[i][1].test(lineText)) {\n    for (; nextLine < endLine; nextLine++) {\n      if (state.sCount[nextLine] < state.blkIndent) { break; }\n\n      pos = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n      lineText = state.src.slice(pos, max);\n\n      if (HTML_SEQUENCES[i][1].test(lineText)) {\n        if (lineText.length !== 0) { nextLine++; }\n        break;\n      }\n    }\n  }\n\n  state.line = nextLine;\n\n  token         = state.push('html_block', '', 0);\n  token.map     = [ startLine, nextLine ];\n  token.content = state.getLines(startLine, nextLine, state.blkIndent, true);\n\n  return true;\n};\n","// Paragraph\n\n'use strict';\n\n\nmodule.exports = function paragraph(state, startLine/*, endLine*/) {\n  var content, terminate, i, l, token, oldParentType,\n      nextLine = startLine + 1,\n      terminatorRules = state.md.block.ruler.getRules('paragraph'),\n      endLine = state.lineMax;\n\n  oldParentType = state.parentType;\n  state.parentType = 'paragraph';\n\n  // jump line-by-line until empty one or EOF\n  for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {\n    // this would be a code block normally, but after paragraph\n    // it's considered a lazy continuation regardless of what's there\n    if (state.sCount[nextLine] - state.blkIndent > 3) { continue; }\n\n    // quirk for blockquotes, this line should already be checked by that rule\n    if (state.sCount[nextLine] < 0) { continue; }\n\n    // Some tags can terminate paragraph without empty line.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n  }\n\n  content = state.getLines(startLine, nextLine, state.blkIndent, false).trim();\n\n  state.line = nextLine;\n\n  token          = state.push('paragraph_open', 'p', 1);\n  token.map      = [ startLine, state.line ];\n\n  token          = state.push('inline', '', 0);\n  token.content  = content;\n  token.map      = [ startLine, state.line ];\n  token.children = [];\n\n  token          = state.push('paragraph_close', 'p', -1);\n\n  state.parentType = oldParentType;\n\n  return true;\n};\n","// Parser state class\n\n'use strict';\n\nvar Token = require('../token');\nvar isSpace = require('../common/utils').isSpace;\n\n\nfunction StateBlock(src, md, env, tokens) {\n  var ch, s, start, pos, len, indent, offset, indent_found;\n\n  this.src = src;\n\n  // link to parser instance\n  this.md     = md;\n\n  this.env = env;\n\n  //\n  // Internal state vartiables\n  //\n\n  this.tokens = tokens;\n\n  this.bMarks = [];  // line begin offsets for fast jumps\n  this.eMarks = [];  // line end offsets for fast jumps\n  this.tShift = [];  // offsets of the first non-space characters (tabs not expanded)\n  this.sCount = [];  // indents for each line (tabs expanded)\n\n  // An amount of virtual spaces (tabs expanded) between beginning\n  // of each line (bMarks) and real beginning of that line.\n  //\n  // It exists only as a hack because blockquotes override bMarks\n  // losing information in the process.\n  //\n  // It's used only when expanding tabs, you can think about it as\n  // an initial tab length, e.g. bsCount=21 applied to string `\\t123`\n  // means first tab should be expanded to 4-21%4 === 3 spaces.\n  //\n  this.bsCount = [];\n\n  // block parser variables\n  this.blkIndent  = 0; // required block content indent\n                       // (for example, if we are in list)\n  this.line       = 0; // line index in src\n  this.lineMax    = 0; // lines count\n  this.tight      = false;  // loose/tight mode for lists\n  this.ddIndent   = -1; // indent of the current dd block (-1 if there isn't any)\n\n  // can be 'blockquote', 'list', 'root', 'paragraph' or 'reference'\n  // used in lists to determine if they interrupt a paragraph\n  this.parentType = 'root';\n\n  this.level = 0;\n\n  // renderer\n  this.result = '';\n\n  // Create caches\n  // Generate markers.\n  s = this.src;\n  indent_found = false;\n\n  for (start = pos = indent = offset = 0, len = s.length; pos < len; pos++) {\n    ch = s.charCodeAt(pos);\n\n    if (!indent_found) {\n      if (isSpace(ch)) {\n        indent++;\n\n        if (ch === 0x09) {\n          offset += 4 - offset % 4;\n        } else {\n          offset++;\n        }\n        continue;\n      } else {\n        indent_found = true;\n      }\n    }\n\n    if (ch === 0x0A || pos === len - 1) {\n      if (ch !== 0x0A) { pos++; }\n      this.bMarks.push(start);\n      this.eMarks.push(pos);\n      this.tShift.push(indent);\n      this.sCount.push(offset);\n      this.bsCount.push(0);\n\n      indent_found = false;\n      indent = 0;\n      offset = 0;\n      start = pos + 1;\n    }\n  }\n\n  // Push fake entry to simplify cache bounds checks\n  this.bMarks.push(s.length);\n  this.eMarks.push(s.length);\n  this.tShift.push(0);\n  this.sCount.push(0);\n  this.bsCount.push(0);\n\n  this.lineMax = this.bMarks.length - 1; // don't count last fake line\n}\n\n// Push new token to \"stream\".\n//\nStateBlock.prototype.push = function (type, tag, nesting) {\n  var token = new Token(type, tag, nesting);\n  token.block = true;\n\n  if (nesting < 0) { this.level--; }\n  token.level = this.level;\n  if (nesting > 0) { this.level++; }\n\n  this.tokens.push(token);\n  return token;\n};\n\nStateBlock.prototype.isEmpty = function isEmpty(line) {\n  return this.bMarks[line] + this.tShift[line] >= this.eMarks[line];\n};\n\nStateBlock.prototype.skipEmptyLines = function skipEmptyLines(from) {\n  for (var max = this.lineMax; from < max; from++) {\n    if (this.bMarks[from] + this.tShift[from] < this.eMarks[from]) {\n      break;\n    }\n  }\n  return from;\n};\n\n// Skip spaces from given position.\nStateBlock.prototype.skipSpaces = function skipSpaces(pos) {\n  var ch;\n\n  for (var max = this.src.length; pos < max; pos++) {\n    ch = this.src.charCodeAt(pos);\n    if (!isSpace(ch)) { break; }\n  }\n  return pos;\n};\n\n// Skip spaces from given position in reverse.\nStateBlock.prototype.skipSpacesBack = function skipSpacesBack(pos, min) {\n  if (pos <= min) { return pos; }\n\n  while (pos > min) {\n    if (!isSpace(this.src.charCodeAt(--pos))) { return pos + 1; }\n  }\n  return pos;\n};\n\n// Skip char codes from given position\nStateBlock.prototype.skipChars = function skipChars(pos, code) {\n  for (var max = this.src.length; pos < max; pos++) {\n    if (this.src.charCodeAt(pos) !== code) { break; }\n  }\n  return pos;\n};\n\n// Skip char codes reverse from given position - 1\nStateBlock.prototype.skipCharsBack = function skipCharsBack(pos, code, min) {\n  if (pos <= min) { return pos; }\n\n  while (pos > min) {\n    if (code !== this.src.charCodeAt(--pos)) { return pos + 1; }\n  }\n  return pos;\n};\n\n// cut lines range from source.\nStateBlock.prototype.getLines = function getLines(begin, end, indent, keepLastLF) {\n  var i, lineIndent, ch, first, last, queue, lineStart,\n      line = begin;\n\n  if (begin >= end) {\n    return '';\n  }\n\n  queue = new Array(end - begin);\n\n  for (i = 0; line < end; line++, i++) {\n    lineIndent = 0;\n    lineStart = first = this.bMarks[line];\n\n    if (line + 1 < end || keepLastLF) {\n      // No need for bounds check because we have fake entry on tail.\n      last = this.eMarks[line] + 1;\n    } else {\n      last = this.eMarks[line];\n    }\n\n    while (first < last && lineIndent < indent) {\n      ch = this.src.charCodeAt(first);\n\n      if (isSpace(ch)) {\n        if (ch === 0x09) {\n          lineIndent += 4 - (lineIndent + this.bsCount[line]) % 4;\n        } else {\n          lineIndent++;\n        }\n      } else if (first - lineStart < this.tShift[line]) {\n        // patched tShift masked characters to look like spaces (blockquotes, list markers)\n        lineIndent++;\n      } else {\n        break;\n      }\n\n      first++;\n    }\n\n    if (lineIndent > indent) {\n      // partially expanding tabs in code blocks, e.g '\\t\\tfoobar'\n      // with indent=2 becomes '  \\tfoobar'\n      queue[i] = new Array(lineIndent - indent + 1).join(' ') + this.src.slice(first, last);\n    } else {\n      queue[i] = this.src.slice(first, last);\n    }\n  }\n\n  return queue.join('');\n};\n\n// re-export Token class to use in block rules\nStateBlock.prototype.Token = Token;\n\n\nmodule.exports = StateBlock;\n","/** internal\n * class ParserBlock\n *\n * Block-level tokenizer.\n **/\n'use strict';\n\n\nvar Ruler           = require('./ruler');\n\n\nvar _rules = [\n  // First 2 params - rule name & source. Secondary array - list of rules,\n  // which can be terminated by this one.\n  [ 'table',      require('./rules_block/table'),      [ 'paragraph', 'reference' ] ],\n  [ 'code',       require('./rules_block/code') ],\n  [ 'fence',      require('./rules_block/fence'),      [ 'paragraph', 'reference', 'blockquote', 'list' ] ],\n  [ 'blockquote', require('./rules_block/blockquote'), [ 'paragraph', 'reference', 'blockquote', 'list' ] ],\n  [ 'hr',         require('./rules_block/hr'),         [ 'paragraph', 'reference', 'blockquote', 'list' ] ],\n  [ 'list',       require('./rules_block/list'),       [ 'paragraph', 'reference', 'blockquote' ] ],\n  [ 'reference',  require('./rules_block/reference') ],\n  [ 'heading',    require('./rules_block/heading'),    [ 'paragraph', 'reference', 'blockquote' ] ],\n  [ 'lheading',   require('./rules_block/lheading') ],\n  [ 'html_block', require('./rules_block/html_block'), [ 'paragraph', 'reference', 'blockquote' ] ],\n  [ 'paragraph',  require('./rules_block/paragraph') ]\n];\n\n\n/**\n * new ParserBlock()\n **/\nfunction ParserBlock() {\n  /**\n   * ParserBlock#ruler -> Ruler\n   *\n   * [[Ruler]] instance. Keep configuration of block rules.\n   **/\n  this.ruler = new Ruler();\n\n  for (var i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1], { alt: (_rules[i][2] || []).slice() });\n  }\n}\n\n\n// Generate tokens for input range\n//\nParserBlock.prototype.tokenize = function (state, startLine, endLine) {\n  var ok, i,\n      rules = this.ruler.getRules(''),\n      len = rules.length,\n      line = startLine,\n      hasEmptyLines = false,\n      maxNesting = state.md.options.maxNesting;\n\n  while (line < endLine) {\n    state.line = line = state.skipEmptyLines(line);\n    if (line >= endLine) { break; }\n\n    // Termination condition for nested calls.\n    // Nested calls currently used for blockquotes & lists\n    if (state.sCount[line] < state.blkIndent) { break; }\n\n    // If nesting level exceeded - skip tail to the end. That's not ordinary\n    // situation and we should not care about content.\n    if (state.level >= maxNesting) {\n      state.line = endLine;\n      break;\n    }\n\n    // Try all possible rules.\n    // On success, rule should:\n    //\n    // - update `state.line`\n    // - update `state.tokens`\n    // - return true\n\n    for (i = 0; i < len; i++) {\n      ok = rules[i](state, line, endLine, false);\n      if (ok) { break; }\n    }\n\n    // set state.tight if we had an empty line before current tag\n    // i.e. latest empty line should not count\n    state.tight = !hasEmptyLines;\n\n    // paragraph might \"eat\" one newline after it in nested lists\n    if (state.isEmpty(state.line - 1)) {\n      hasEmptyLines = true;\n    }\n\n    line = state.line;\n\n    if (line < endLine && state.isEmpty(line)) {\n      hasEmptyLines = true;\n      line++;\n      state.line = line;\n    }\n  }\n};\n\n\n/**\n * ParserBlock.parse(str, md, env, outTokens)\n *\n * Process input string and push block tokens into `outTokens`\n **/\nParserBlock.prototype.parse = function (src, md, env, outTokens) {\n  var state;\n\n  if (!src) { return; }\n\n  state = new this.State(src, md, env, outTokens);\n\n  this.tokenize(state, state.line, state.lineMax);\n};\n\n\nParserBlock.prototype.State = require('./rules_block/state_block');\n\n\nmodule.exports = ParserBlock;\n","// Skip text characters for text token, place those to pending buffer\n// and increment current pos\n\n'use strict';\n\n\n// Rule to skip pure text\n// '{}$%@~+=:' reserved for extentions\n\n// !, \", #, $, %, &, ', (, ), *, +, ,, -, ., /, :, ;, <, =, >, ?, @, [, \\, ], ^, _, `, {, |, }, or ~\n\n// !!!! Don't confuse with \"Markdown ASCII Punctuation\" chars\n// http://spec.commonmark.org/0.15/#ascii-punctuation-character\nfunction isTerminatorChar(ch) {\n  switch (ch) {\n    case 0x0A/* \\n */:\n    case 0x21/* ! */:\n    case 0x23/* # */:\n    case 0x24/* $ */:\n    case 0x25/* % */:\n    case 0x26/* & */:\n    case 0x2A/* * */:\n    case 0x2B/* + */:\n    case 0x2D/* - */:\n    case 0x3A/* : */:\n    case 0x3C/* < */:\n    case 0x3D/* = */:\n    case 0x3E/* > */:\n    case 0x40/* @ */:\n    case 0x5B/* [ */:\n    case 0x5C/* \\ */:\n    case 0x5D/* ] */:\n    case 0x5E/* ^ */:\n    case 0x5F/* _ */:\n    case 0x60/* ` */:\n    case 0x7B/* { */:\n    case 0x7D/* } */:\n    case 0x7E/* ~ */:\n      return true;\n    default:\n      return false;\n  }\n}\n\nmodule.exports = function text(state, silent) {\n  var pos = state.pos;\n\n  while (pos < state.posMax && !isTerminatorChar(state.src.charCodeAt(pos))) {\n    pos++;\n  }\n\n  if (pos === state.pos) { return false; }\n\n  if (!silent) { state.pending += state.src.slice(state.pos, pos); }\n\n  state.pos = pos;\n\n  return true;\n};\n\n// Alternative implementation, for memory.\n//\n// It costs 10% of performance, but allows extend terminators list, if place it\n// to `ParcerInline` property. Probably, will switch to it sometime, such\n// flexibility required.\n\n/*\nvar TERMINATOR_RE = /[\\n!#$%&*+\\-:<=>@[\\\\\\]^_`{}~]/;\n\nmodule.exports = function text(state, silent) {\n  var pos = state.pos,\n      idx = state.src.slice(pos).search(TERMINATOR_RE);\n\n  // first char is terminator -> empty text\n  if (idx === 0) { return false; }\n\n  // no terminator -> text till end of string\n  if (idx < 0) {\n    if (!silent) { state.pending += state.src.slice(pos); }\n    state.pos = state.src.length;\n    return true;\n  }\n\n  if (!silent) { state.pending += state.src.slice(pos, pos + idx); }\n\n  state.pos += idx;\n\n  return true;\n};*/\n","// Proceess '\\n'\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nmodule.exports = function newline(state, silent) {\n  var pmax, max, pos = state.pos;\n\n  if (state.src.charCodeAt(pos) !== 0x0A/* \\n */) { return false; }\n\n  pmax = state.pending.length - 1;\n  max = state.posMax;\n\n  // '  \\n' -> hardbreak\n  // Lookup in pending chars is bad practice! Don't copy to other rules!\n  // Pending string is stored in concat mode, indexed lookups will cause\n  // convertion to flat mode.\n  if (!silent) {\n    if (pmax >= 0 && state.pending.charCodeAt(pmax) === 0x20) {\n      if (pmax >= 1 && state.pending.charCodeAt(pmax - 1) === 0x20) {\n        state.pending = state.pending.replace(/ +$/, '');\n        state.push('hardbreak', 'br', 0);\n      } else {\n        state.pending = state.pending.slice(0, -1);\n        state.push('softbreak', 'br', 0);\n      }\n\n    } else {\n      state.push('softbreak', 'br', 0);\n    }\n  }\n\n  pos++;\n\n  // skip heading spaces for next line\n  while (pos < max && isSpace(state.src.charCodeAt(pos))) { pos++; }\n\n  state.pos = pos;\n  return true;\n};\n","// Process escaped chars and hardbreaks\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\nvar ESCAPED = [];\n\nfor (var i = 0; i < 256; i++) { ESCAPED.push(0); }\n\n'\\\\!\"#$%&\\'()*+,./:;<=>?@[]^_`{|}~-'\n  .split('').forEach(function (ch) { ESCAPED[ch.charCodeAt(0)] = 1; });\n\n\nmodule.exports = function escape(state, silent) {\n  var ch, pos = state.pos, max = state.posMax;\n\n  if (state.src.charCodeAt(pos) !== 0x5C/* \\ */) { return false; }\n\n  pos++;\n\n  if (pos < max) {\n    ch = state.src.charCodeAt(pos);\n\n    if (ch < 256 && ESCAPED[ch] !== 0) {\n      if (!silent) { state.pending += state.src[pos]; }\n      state.pos += 2;\n      return true;\n    }\n\n    if (ch === 0x0A) {\n      if (!silent) {\n        state.push('hardbreak', 'br', 0);\n      }\n\n      pos++;\n      // skip leading whitespaces from next line\n      while (pos < max) {\n        ch = state.src.charCodeAt(pos);\n        if (!isSpace(ch)) { break; }\n        pos++;\n      }\n\n      state.pos = pos;\n      return true;\n    }\n  }\n\n  if (!silent) { state.pending += '\\\\'; }\n  state.pos++;\n  return true;\n};\n","// Parse backticks\n\n'use strict';\n\nmodule.exports = function backtick(state, silent) {\n  var start, max, marker, matchStart, matchEnd, token,\n      pos = state.pos,\n      ch = state.src.charCodeAt(pos);\n\n  if (ch !== 0x60/* ` */) { return false; }\n\n  start = pos;\n  pos++;\n  max = state.posMax;\n\n  while (pos < max && state.src.charCodeAt(pos) === 0x60/* ` */) { pos++; }\n\n  marker = state.src.slice(start, pos);\n\n  matchStart = matchEnd = pos;\n\n  while ((matchStart = state.src.indexOf('`', matchEnd)) !== -1) {\n    matchEnd = matchStart + 1;\n\n    while (matchEnd < max && state.src.charCodeAt(matchEnd) === 0x60/* ` */) { matchEnd++; }\n\n    if (matchEnd - matchStart === marker.length) {\n      if (!silent) {\n        token         = state.push('code_inline', 'code', 0);\n        token.markup  = marker;\n        token.content = state.src.slice(pos, matchStart)\n                                 .replace(/[ \\n]+/g, ' ')\n                                 .trim();\n      }\n      state.pos = matchEnd;\n      return true;\n    }\n  }\n\n  if (!silent) { state.pending += marker; }\n  state.pos += marker.length;\n  return true;\n};\n","// ~~strike through~~\n//\n'use strict';\n\n\n// Insert each marker as a separate text token, and add it to delimiter list\n//\nmodule.exports.tokenize = function strikethrough(state, silent) {\n  var i, scanned, token, len, ch,\n      start = state.pos,\n      marker = state.src.charCodeAt(start);\n\n  if (silent) { return false; }\n\n  if (marker !== 0x7E/* ~ */) { return false; }\n\n  scanned = state.scanDelims(state.pos, true);\n  len = scanned.length;\n  ch = String.fromCharCode(marker);\n\n  if (len < 2) { return false; }\n\n  if (len % 2) {\n    token         = state.push('text', '', 0);\n    token.content = ch;\n    len--;\n  }\n\n  for (i = 0; i < len; i += 2) {\n    token         = state.push('text', '', 0);\n    token.content = ch + ch;\n\n    state.delimiters.push({\n      marker: marker,\n      jump:   i,\n      token:  state.tokens.length - 1,\n      level:  state.level,\n      end:    -1,\n      open:   scanned.can_open,\n      close:  scanned.can_close\n    });\n  }\n\n  state.pos += scanned.length;\n\n  return true;\n};\n\n\n// Walk through delimiter list and replace text tokens with tags\n//\nmodule.exports.postProcess = function strikethrough(state) {\n  var i, j,\n      startDelim,\n      endDelim,\n      token,\n      loneMarkers = [],\n      delimiters = state.delimiters,\n      max = state.delimiters.length;\n\n  for (i = 0; i < max; i++) {\n    startDelim = delimiters[i];\n\n    if (startDelim.marker !== 0x7E/* ~ */) {\n      continue;\n    }\n\n    if (startDelim.end === -1) {\n      continue;\n    }\n\n    endDelim = delimiters[startDelim.end];\n\n    token         = state.tokens[startDelim.token];\n    token.type    = 's_open';\n    token.tag     = 's';\n    token.nesting = 1;\n    token.markup  = '~~';\n    token.content = '';\n\n    token         = state.tokens[endDelim.token];\n    token.type    = 's_close';\n    token.tag     = 's';\n    token.nesting = -1;\n    token.markup  = '~~';\n    token.content = '';\n\n    if (state.tokens[endDelim.token - 1].type === 'text' &&\n        state.tokens[endDelim.token - 1].content === '~') {\n\n      loneMarkers.push(endDelim.token - 1);\n    }\n  }\n\n  // If a marker sequence has an odd number of characters, it's splitted\n  // like this: `~~~~~` -> `~` + `~~` + `~~`, leaving one marker at the\n  // start of the sequence.\n  //\n  // So, we have to move all those markers after subsequent s_close tags.\n  //\n  while (loneMarkers.length) {\n    i = loneMarkers.pop();\n    j = i + 1;\n\n    while (j < state.tokens.length && state.tokens[j].type === 's_close') {\n      j++;\n    }\n\n    j--;\n\n    if (i !== j) {\n      token = state.tokens[j];\n      state.tokens[j] = state.tokens[i];\n      state.tokens[i] = token;\n    }\n  }\n};\n","// Process *this* and _that_\n//\n'use strict';\n\n\n// Insert each marker as a separate text token, and add it to delimiter list\n//\nmodule.exports.tokenize = function emphasis(state, silent) {\n  var i, scanned, token,\n      start = state.pos,\n      marker = state.src.charCodeAt(start);\n\n  if (silent) { return false; }\n\n  if (marker !== 0x5F /* _ */ && marker !== 0x2A /* * */) { return false; }\n\n  scanned = state.scanDelims(state.pos, marker === 0x2A);\n\n  for (i = 0; i < scanned.length; i++) {\n    token         = state.push('text', '', 0);\n    token.content = String.fromCharCode(marker);\n\n    state.delimiters.push({\n      // Char code of the starting marker (number).\n      //\n      marker: marker,\n\n      // Total length of these series of delimiters.\n      //\n      length: scanned.length,\n\n      // An amount of characters before this one that's equivalent to\n      // current one. In plain English: if this delimiter does not open\n      // an emphasis, neither do previous `jump` characters.\n      //\n      // Used to skip sequences like \"*****\" in one step, for 1st asterisk\n      // value will be 0, for 2nd it's 1 and so on.\n      //\n      jump:   i,\n\n      // A position of the token this delimiter corresponds to.\n      //\n      token:  state.tokens.length - 1,\n\n      // Token level.\n      //\n      level:  state.level,\n\n      // If this delimiter is matched as a valid opener, `end` will be\n      // equal to its position, otherwise it's `-1`.\n      //\n      end:    -1,\n\n      // Boolean flags that determine if this delimiter could open or close\n      // an emphasis.\n      //\n      open:   scanned.can_open,\n      close:  scanned.can_close\n    });\n  }\n\n  state.pos += scanned.length;\n\n  return true;\n};\n\n\n// Walk through delimiter list and replace text tokens with tags\n//\nmodule.exports.postProcess = function emphasis(state) {\n  var i,\n      startDelim,\n      endDelim,\n      token,\n      ch,\n      isStrong,\n      delimiters = state.delimiters,\n      max = state.delimiters.length;\n\n  for (i = max - 1; i >= 0; i--) {\n    startDelim = delimiters[i];\n\n    if (startDelim.marker !== 0x5F/* _ */ && startDelim.marker !== 0x2A/* * */) {\n      continue;\n    }\n\n    // Process only opening markers\n    if (startDelim.end === -1) {\n      continue;\n    }\n\n    endDelim = delimiters[startDelim.end];\n\n    // If the previous delimiter has the same marker and is adjacent to this one,\n    // merge those into one strong delimiter.\n    //\n    // `<em><em>whatever</em></em>` -> `<strong>whatever</strong>`\n    //\n    isStrong = i > 0 &&\n               delimiters[i - 1].end === startDelim.end + 1 &&\n               delimiters[i - 1].token === startDelim.token - 1 &&\n               delimiters[startDelim.end + 1].token === endDelim.token + 1 &&\n               delimiters[i - 1].marker === startDelim.marker;\n\n    ch = String.fromCharCode(startDelim.marker);\n\n    token         = state.tokens[startDelim.token];\n    token.type    = isStrong ? 'strong_open' : 'em_open';\n    token.tag     = isStrong ? 'strong' : 'em';\n    token.nesting = 1;\n    token.markup  = isStrong ? ch + ch : ch;\n    token.content = '';\n\n    token         = state.tokens[endDelim.token];\n    token.type    = isStrong ? 'strong_close' : 'em_close';\n    token.tag     = isStrong ? 'strong' : 'em';\n    token.nesting = -1;\n    token.markup  = isStrong ? ch + ch : ch;\n    token.content = '';\n\n    if (isStrong) {\n      state.tokens[delimiters[i - 1].token].content = '';\n      state.tokens[delimiters[startDelim.end + 1].token].content = '';\n      i--;\n    }\n  }\n};\n","// Process [link](<to> \"stuff\")\n\n'use strict';\n\nvar normalizeReference   = require('../common/utils').normalizeReference;\nvar isSpace              = require('../common/utils').isSpace;\n\n\nmodule.exports = function link(state, silent) {\n  var attrs,\n      code,\n      label,\n      labelEnd,\n      labelStart,\n      pos,\n      res,\n      ref,\n      title,\n      token,\n      href = '',\n      oldPos = state.pos,\n      max = state.posMax,\n      start = state.pos,\n      parseReference = true;\n\n  if (state.src.charCodeAt(state.pos) !== 0x5B/* [ */) { return false; }\n\n  labelStart = state.pos + 1;\n  labelEnd = state.md.helpers.parseLinkLabel(state, state.pos, true);\n\n  // parser failed to find ']', so it's not a valid link\n  if (labelEnd < 0) { return false; }\n\n  pos = labelEnd + 1;\n  if (pos < max && state.src.charCodeAt(pos) === 0x28/* ( */) {\n    //\n    // Inline link\n    //\n\n    // might have found a valid shortcut link, disable reference parsing\n    parseReference = false;\n\n    // [link](  <href>  \"title\"  )\n    //        ^^ skipping these spaces\n    pos++;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!isSpace(code) && code !== 0x0A) { break; }\n    }\n    if (pos >= max) { return false; }\n\n    // [link](  <href>  \"title\"  )\n    //          ^^^^^^ parsing link destination\n    start = pos;\n    res = state.md.helpers.parseLinkDestination(state.src, pos, state.posMax);\n    if (res.ok) {\n      href = state.md.normalizeLink(res.str);\n      if (state.md.validateLink(href)) {\n        pos = res.pos;\n      } else {\n        href = '';\n      }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                ^^ skipping these spaces\n    start = pos;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!isSpace(code) && code !== 0x0A) { break; }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                  ^^^^^^^ parsing link title\n    res = state.md.helpers.parseLinkTitle(state.src, pos, state.posMax);\n    if (pos < max && start !== pos && res.ok) {\n      title = res.str;\n      pos = res.pos;\n\n      // [link](  <href>  \"title\"  )\n      //                         ^^ skipping these spaces\n      for (; pos < max; pos++) {\n        code = state.src.charCodeAt(pos);\n        if (!isSpace(code) && code !== 0x0A) { break; }\n      }\n    } else {\n      title = '';\n    }\n\n    if (pos >= max || state.src.charCodeAt(pos) !== 0x29/* ) */) {\n      // parsing a valid shortcut link failed, fallback to reference\n      parseReference = true;\n    }\n    pos++;\n  }\n\n  if (parseReference) {\n    //\n    // Link reference\n    //\n    if (typeof state.env.references === 'undefined') { return false; }\n\n    if (pos < max && state.src.charCodeAt(pos) === 0x5B/* [ */) {\n      start = pos + 1;\n      pos = state.md.helpers.parseLinkLabel(state, pos);\n      if (pos >= 0) {\n        label = state.src.slice(start, pos++);\n      } else {\n        pos = labelEnd + 1;\n      }\n    } else {\n      pos = labelEnd + 1;\n    }\n\n    // covers label === '' and label === undefined\n    // (collapsed reference link and shortcut reference link respectively)\n    if (!label) { label = state.src.slice(labelStart, labelEnd); }\n\n    ref = state.env.references[normalizeReference(label)];\n    if (!ref) {\n      state.pos = oldPos;\n      return false;\n    }\n    href = ref.href;\n    title = ref.title;\n  }\n\n  //\n  // We found the end of the link, and know for a fact it's a valid link;\n  // so all that's left to do is to call tokenizer.\n  //\n  if (!silent) {\n    state.pos = labelStart;\n    state.posMax = labelEnd;\n\n    token        = state.push('link_open', 'a', 1);\n    token.attrs  = attrs = [ [ 'href', href ] ];\n    if (title) {\n      attrs.push([ 'title', title ]);\n    }\n\n    state.md.inline.tokenize(state);\n\n    token        = state.push('link_close', 'a', -1);\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n  return true;\n};\n","// Process ![image](<src> \"title\")\n\n'use strict';\n\nvar normalizeReference   = require('../common/utils').normalizeReference;\nvar isSpace              = require('../common/utils').isSpace;\n\n\nmodule.exports = function image(state, silent) {\n  var attrs,\n      code,\n      content,\n      label,\n      labelEnd,\n      labelStart,\n      pos,\n      ref,\n      res,\n      title,\n      token,\n      tokens,\n      start,\n      href = '',\n      oldPos = state.pos,\n      max = state.posMax;\n\n  if (state.src.charCodeAt(state.pos) !== 0x21/* ! */) { return false; }\n  if (state.src.charCodeAt(state.pos + 1) !== 0x5B/* [ */) { return false; }\n\n  labelStart = state.pos + 2;\n  labelEnd = state.md.helpers.parseLinkLabel(state, state.pos + 1, false);\n\n  // parser failed to find ']', so it's not a valid link\n  if (labelEnd < 0) { return false; }\n\n  pos = labelEnd + 1;\n  if (pos < max && state.src.charCodeAt(pos) === 0x28/* ( */) {\n    //\n    // Inline link\n    //\n\n    // [link](  <href>  \"title\"  )\n    //        ^^ skipping these spaces\n    pos++;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!isSpace(code) && code !== 0x0A) { break; }\n    }\n    if (pos >= max) { return false; }\n\n    // [link](  <href>  \"title\"  )\n    //          ^^^^^^ parsing link destination\n    start = pos;\n    res = state.md.helpers.parseLinkDestination(state.src, pos, state.posMax);\n    if (res.ok) {\n      href = state.md.normalizeLink(res.str);\n      if (state.md.validateLink(href)) {\n        pos = res.pos;\n      } else {\n        href = '';\n      }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                ^^ skipping these spaces\n    start = pos;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!isSpace(code) && code !== 0x0A) { break; }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                  ^^^^^^^ parsing link title\n    res = state.md.helpers.parseLinkTitle(state.src, pos, state.posMax);\n    if (pos < max && start !== pos && res.ok) {\n      title = res.str;\n      pos = res.pos;\n\n      // [link](  <href>  \"title\"  )\n      //                         ^^ skipping these spaces\n      for (; pos < max; pos++) {\n        code = state.src.charCodeAt(pos);\n        if (!isSpace(code) && code !== 0x0A) { break; }\n      }\n    } else {\n      title = '';\n    }\n\n    if (pos >= max || state.src.charCodeAt(pos) !== 0x29/* ) */) {\n      state.pos = oldPos;\n      return false;\n    }\n    pos++;\n  } else {\n    //\n    // Link reference\n    //\n    if (typeof state.env.references === 'undefined') { return false; }\n\n    if (pos < max && state.src.charCodeAt(pos) === 0x5B/* [ */) {\n      start = pos + 1;\n      pos = state.md.helpers.parseLinkLabel(state, pos);\n      if (pos >= 0) {\n        label = state.src.slice(start, pos++);\n      } else {\n        pos = labelEnd + 1;\n      }\n    } else {\n      pos = labelEnd + 1;\n    }\n\n    // covers label === '' and label === undefined\n    // (collapsed reference link and shortcut reference link respectively)\n    if (!label) { label = state.src.slice(labelStart, labelEnd); }\n\n    ref = state.env.references[normalizeReference(label)];\n    if (!ref) {\n      state.pos = oldPos;\n      return false;\n    }\n    href = ref.href;\n    title = ref.title;\n  }\n\n  //\n  // We found the end of the link, and know for a fact it's a valid link;\n  // so all that's left to do is to call tokenizer.\n  //\n  if (!silent) {\n    content = state.src.slice(labelStart, labelEnd);\n\n    state.md.inline.parse(\n      content,\n      state.md,\n      state.env,\n      tokens = []\n    );\n\n    token          = state.push('image', 'img', 0);\n    token.attrs    = attrs = [ [ 'src', href ], [ 'alt', '' ] ];\n    token.children = tokens;\n    token.content  = content;\n\n    if (title) {\n      attrs.push([ 'title', title ]);\n    }\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n  return true;\n};\n","// Process autolinks '<protocol:...>'\n\n'use strict';\n\n\n/*eslint max-len:0*/\nvar EMAIL_RE    = /^<([a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/;\nvar AUTOLINK_RE = /^<([a-zA-Z][a-zA-Z0-9+.\\-]{1,31}):([^<>\\x00-\\x20]*)>/;\n\n\nmodule.exports = function autolink(state, silent) {\n  var tail, linkMatch, emailMatch, url, fullUrl, token,\n      pos = state.pos;\n\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */) { return false; }\n\n  tail = state.src.slice(pos);\n\n  if (tail.indexOf('>') < 0) { return false; }\n\n  if (AUTOLINK_RE.test(tail)) {\n    linkMatch = tail.match(AUTOLINK_RE);\n\n    url = linkMatch[0].slice(1, -1);\n    fullUrl = state.md.normalizeLink(url);\n    if (!state.md.validateLink(fullUrl)) { return false; }\n\n    if (!silent) {\n      token         = state.push('link_open', 'a', 1);\n      token.attrs   = [ [ 'href', fullUrl ] ];\n      token.markup  = 'autolink';\n      token.info    = 'auto';\n\n      token         = state.push('text', '', 0);\n      token.content = state.md.normalizeLinkText(url);\n\n      token         = state.push('link_close', 'a', -1);\n      token.markup  = 'autolink';\n      token.info    = 'auto';\n    }\n\n    state.pos += linkMatch[0].length;\n    return true;\n  }\n\n  if (EMAIL_RE.test(tail)) {\n    emailMatch = tail.match(EMAIL_RE);\n\n    url = emailMatch[0].slice(1, -1);\n    fullUrl = state.md.normalizeLink('mailto:' + url);\n    if (!state.md.validateLink(fullUrl)) { return false; }\n\n    if (!silent) {\n      token         = state.push('link_open', 'a', 1);\n      token.attrs   = [ [ 'href', fullUrl ] ];\n      token.markup  = 'autolink';\n      token.info    = 'auto';\n\n      token         = state.push('text', '', 0);\n      token.content = state.md.normalizeLinkText(url);\n\n      token         = state.push('link_close', 'a', -1);\n      token.markup  = 'autolink';\n      token.info    = 'auto';\n    }\n\n    state.pos += emailMatch[0].length;\n    return true;\n  }\n\n  return false;\n};\n","// Process html tags\n\n'use strict';\n\n\nvar HTML_TAG_RE = require('../common/html_re').HTML_TAG_RE;\n\n\nfunction isLetter(ch) {\n  /*eslint no-bitwise:0*/\n  var lc = ch | 0x20; // to lower case\n  return (lc >= 0x61/* a */) && (lc <= 0x7a/* z */);\n}\n\n\nmodule.exports = function html_inline(state, silent) {\n  var ch, match, max, token,\n      pos = state.pos;\n\n  if (!state.md.options.html) { return false; }\n\n  // Check start\n  max = state.posMax;\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */ ||\n      pos + 2 >= max) {\n    return false;\n  }\n\n  // Quick fail on second char\n  ch = state.src.charCodeAt(pos + 1);\n  if (ch !== 0x21/* ! */ &&\n      ch !== 0x3F/* ? */ &&\n      ch !== 0x2F/* / */ &&\n      !isLetter(ch)) {\n    return false;\n  }\n\n  match = state.src.slice(pos).match(HTML_TAG_RE);\n  if (!match) { return false; }\n\n  if (!silent) {\n    token         = state.push('html_inline', '', 0);\n    token.content = state.src.slice(pos, pos + match[0].length);\n  }\n  state.pos += match[0].length;\n  return true;\n};\n","// Process html entity - &#123;, &#xAF;, &quot;, ...\n\n'use strict';\n\nvar entities          = require('../common/entities');\nvar has               = require('../common/utils').has;\nvar isValidEntityCode = require('../common/utils').isValidEntityCode;\nvar fromCodePoint     = require('../common/utils').fromCodePoint;\n\n\nvar DIGITAL_RE = /^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i;\nvar NAMED_RE   = /^&([a-z][a-z0-9]{1,31});/i;\n\n\nmodule.exports = function entity(state, silent) {\n  var ch, code, match, pos = state.pos, max = state.posMax;\n\n  if (state.src.charCodeAt(pos) !== 0x26/* & */) { return false; }\n\n  if (pos + 1 < max) {\n    ch = state.src.charCodeAt(pos + 1);\n\n    if (ch === 0x23 /* # */) {\n      match = state.src.slice(pos).match(DIGITAL_RE);\n      if (match) {\n        if (!silent) {\n          code = match[1][0].toLowerCase() === 'x' ? parseInt(match[1].slice(1), 16) : parseInt(match[1], 10);\n          state.pending += isValidEntityCode(code) ? fromCodePoint(code) : fromCodePoint(0xFFFD);\n        }\n        state.pos += match[0].length;\n        return true;\n      }\n    } else {\n      match = state.src.slice(pos).match(NAMED_RE);\n      if (match) {\n        if (has(entities, match[1])) {\n          if (!silent) { state.pending += entities[match[1]]; }\n          state.pos += match[0].length;\n          return true;\n        }\n      }\n    }\n  }\n\n  if (!silent) { state.pending += '&'; }\n  state.pos++;\n  return true;\n};\n","// For each opening emphasis-like marker find a matching closing one\n//\n'use strict';\n\n\nmodule.exports = function link_pairs(state) {\n  var i, j, lastDelim, currDelim,\n      delimiters = state.delimiters,\n      max = state.delimiters.length;\n\n  for (i = 0; i < max; i++) {\n    lastDelim = delimiters[i];\n\n    if (!lastDelim.close) { continue; }\n\n    j = i - lastDelim.jump - 1;\n\n    while (j >= 0) {\n      currDelim = delimiters[j];\n\n      if (currDelim.open &&\n          currDelim.marker === lastDelim.marker &&\n          currDelim.end < 0 &&\n          currDelim.level === lastDelim.level) {\n\n        // typeofs are for backward compatibility with plugins\n        var odd_match = (currDelim.close || lastDelim.open) &&\n                        typeof currDelim.length !== 'undefined' &&\n                        typeof lastDelim.length !== 'undefined' &&\n                        (currDelim.length + lastDelim.length) % 3 === 0;\n\n        if (!odd_match) {\n          lastDelim.jump = i - j;\n          lastDelim.open = false;\n          currDelim.end  = i;\n          currDelim.jump = 0;\n          break;\n        }\n      }\n\n      j -= currDelim.jump + 1;\n    }\n  }\n};\n","// Merge adjacent text nodes into one, and re-calculate all token levels\n//\n'use strict';\n\n\nmodule.exports = function text_collapse(state) {\n  var curr, last,\n      level = 0,\n      tokens = state.tokens,\n      max = state.tokens.length;\n\n  for (curr = last = 0; curr < max; curr++) {\n    // re-calculate levels\n    level += tokens[curr].nesting;\n    tokens[curr].level = level;\n\n    if (tokens[curr].type === 'text' &&\n        curr + 1 < max &&\n        tokens[curr + 1].type === 'text') {\n\n      // collapse two adjacent text nodes\n      tokens[curr + 1].content = tokens[curr].content + tokens[curr + 1].content;\n    } else {\n      if (curr !== last) { tokens[last] = tokens[curr]; }\n\n      last++;\n    }\n  }\n\n  if (curr !== last) {\n    tokens.length = last;\n  }\n};\n","// Inline parser state\n\n'use strict';\n\n\nvar Token          = require('../token');\nvar isWhiteSpace   = require('../common/utils').isWhiteSpace;\nvar isPunctChar    = require('../common/utils').isPunctChar;\nvar isMdAsciiPunct = require('../common/utils').isMdAsciiPunct;\n\n\nfunction StateInline(src, md, env, outTokens) {\n  this.src = src;\n  this.env = env;\n  this.md = md;\n  this.tokens = outTokens;\n\n  this.pos = 0;\n  this.posMax = this.src.length;\n  this.level = 0;\n  this.pending = '';\n  this.pendingLevel = 0;\n\n  this.cache = {};        // Stores { start: end } pairs. Useful for backtrack\n                          // optimization of pairs parse (emphasis, strikes).\n\n  this.delimiters = [];   // Emphasis-like delimiters\n}\n\n\n// Flush pending text\n//\nStateInline.prototype.pushPending = function () {\n  var token = new Token('text', '', 0);\n  token.content = this.pending;\n  token.level = this.pendingLevel;\n  this.tokens.push(token);\n  this.pending = '';\n  return token;\n};\n\n\n// Push new token to \"stream\".\n// If pending text exists - flush it as text token\n//\nStateInline.prototype.push = function (type, tag, nesting) {\n  if (this.pending) {\n    this.pushPending();\n  }\n\n  var token = new Token(type, tag, nesting);\n\n  if (nesting < 0) { this.level--; }\n  token.level = this.level;\n  if (nesting > 0) { this.level++; }\n\n  this.pendingLevel = this.level;\n  this.tokens.push(token);\n  return token;\n};\n\n\n// Scan a sequence of emphasis-like markers, and determine whether\n// it can start an emphasis sequence or end an emphasis sequence.\n//\n//  - start - position to scan from (it should point at a valid marker);\n//  - canSplitWord - determine if these markers can be found inside a word\n//\nStateInline.prototype.scanDelims = function (start, canSplitWord) {\n  var pos = start, lastChar, nextChar, count, can_open, can_close,\n      isLastWhiteSpace, isLastPunctChar,\n      isNextWhiteSpace, isNextPunctChar,\n      left_flanking = true,\n      right_flanking = true,\n      max = this.posMax,\n      marker = this.src.charCodeAt(start);\n\n  // treat beginning of the line as a whitespace\n  lastChar = start > 0 ? this.src.charCodeAt(start - 1) : 0x20;\n\n  while (pos < max && this.src.charCodeAt(pos) === marker) { pos++; }\n\n  count = pos - start;\n\n  // treat end of the line as a whitespace\n  nextChar = pos < max ? this.src.charCodeAt(pos) : 0x20;\n\n  isLastPunctChar = isMdAsciiPunct(lastChar) || isPunctChar(String.fromCharCode(lastChar));\n  isNextPunctChar = isMdAsciiPunct(nextChar) || isPunctChar(String.fromCharCode(nextChar));\n\n  isLastWhiteSpace = isWhiteSpace(lastChar);\n  isNextWhiteSpace = isWhiteSpace(nextChar);\n\n  if (isNextWhiteSpace) {\n    left_flanking = false;\n  } else if (isNextPunctChar) {\n    if (!(isLastWhiteSpace || isLastPunctChar)) {\n      left_flanking = false;\n    }\n  }\n\n  if (isLastWhiteSpace) {\n    right_flanking = false;\n  } else if (isLastPunctChar) {\n    if (!(isNextWhiteSpace || isNextPunctChar)) {\n      right_flanking = false;\n    }\n  }\n\n  if (!canSplitWord) {\n    can_open  = left_flanking  && (!right_flanking || isLastPunctChar);\n    can_close = right_flanking && (!left_flanking  || isNextPunctChar);\n  } else {\n    can_open  = left_flanking;\n    can_close = right_flanking;\n  }\n\n  return {\n    can_open:  can_open,\n    can_close: can_close,\n    length:    count\n  };\n};\n\n\n// re-export Token class to use in block rules\nStateInline.prototype.Token = Token;\n\n\nmodule.exports = StateInline;\n","/** internal\n * class ParserInline\n *\n * Tokenizes paragraph content.\n **/\n'use strict';\n\n\nvar Ruler           = require('./ruler');\n\n\n////////////////////////////////////////////////////////////////////////////////\n// Parser rules\n\nvar _rules = [\n  [ 'text',            require('./rules_inline/text') ],\n  [ 'newline',         require('./rules_inline/newline') ],\n  [ 'escape',          require('./rules_inline/escape') ],\n  [ 'backticks',       require('./rules_inline/backticks') ],\n  [ 'strikethrough',   require('./rules_inline/strikethrough').tokenize ],\n  [ 'emphasis',        require('./rules_inline/emphasis').tokenize ],\n  [ 'link',            require('./rules_inline/link') ],\n  [ 'image',           require('./rules_inline/image') ],\n  [ 'autolink',        require('./rules_inline/autolink') ],\n  [ 'html_inline',     require('./rules_inline/html_inline') ],\n  [ 'entity',          require('./rules_inline/entity') ]\n];\n\nvar _rules2 = [\n  [ 'balance_pairs',   require('./rules_inline/balance_pairs') ],\n  [ 'strikethrough',   require('./rules_inline/strikethrough').postProcess ],\n  [ 'emphasis',        require('./rules_inline/emphasis').postProcess ],\n  [ 'text_collapse',   require('./rules_inline/text_collapse') ]\n];\n\n\n/**\n * new ParserInline()\n **/\nfunction ParserInline() {\n  var i;\n\n  /**\n   * ParserInline#ruler -> Ruler\n   *\n   * [[Ruler]] instance. Keep configuration of inline rules.\n   **/\n  this.ruler = new Ruler();\n\n  for (i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1]);\n  }\n\n  /**\n   * ParserInline#ruler2 -> Ruler\n   *\n   * [[Ruler]] instance. Second ruler used for post-processing\n   * (e.g. in emphasis-like rules).\n   **/\n  this.ruler2 = new Ruler();\n\n  for (i = 0; i < _rules2.length; i++) {\n    this.ruler2.push(_rules2[i][0], _rules2[i][1]);\n  }\n}\n\n\n// Skip single token by running all rules in validation mode;\n// returns `true` if any rule reported success\n//\nParserInline.prototype.skipToken = function (state) {\n  var ok, i, pos = state.pos,\n      rules = this.ruler.getRules(''),\n      len = rules.length,\n      maxNesting = state.md.options.maxNesting,\n      cache = state.cache;\n\n\n  if (typeof cache[pos] !== 'undefined') {\n    state.pos = cache[pos];\n    return;\n  }\n\n  if (state.level < maxNesting) {\n    for (i = 0; i < len; i++) {\n      // Increment state.level and decrement it later to limit recursion.\n      // It's harmless to do here, because no tokens are created. But ideally,\n      // we'd need a separate private state variable for this purpose.\n      //\n      state.level++;\n      ok = rules[i](state, true);\n      state.level--;\n\n      if (ok) { break; }\n    }\n  } else {\n    // Too much nesting, just skip until the end of the paragraph.\n    //\n    // NOTE: this will cause links to behave incorrectly in the following case,\n    //       when an amount of `[` is exactly equal to `maxNesting + 1`:\n    //\n    //       [[[[[[[[[[[[[[[[[[[[[foo]()\n    //\n    // TODO: remove this workaround when CM standard will allow nested links\n    //       (we can replace it by preventing links from being parsed in\n    //       validation mode)\n    //\n    state.pos = state.posMax;\n  }\n\n  if (!ok) { state.pos++; }\n  cache[pos] = state.pos;\n};\n\n\n// Generate tokens for input range\n//\nParserInline.prototype.tokenize = function (state) {\n  var ok, i,\n      rules = this.ruler.getRules(''),\n      len = rules.length,\n      end = state.posMax,\n      maxNesting = state.md.options.maxNesting;\n\n  while (state.pos < end) {\n    // Try all possible rules.\n    // On success, rule should:\n    //\n    // - update `state.pos`\n    // - update `state.tokens`\n    // - return true\n\n    if (state.level < maxNesting) {\n      for (i = 0; i < len; i++) {\n        ok = rules[i](state, false);\n        if (ok) { break; }\n      }\n    }\n\n    if (ok) {\n      if (state.pos >= end) { break; }\n      continue;\n    }\n\n    state.pending += state.src[state.pos++];\n  }\n\n  if (state.pending) {\n    state.pushPending();\n  }\n};\n\n\n/**\n * ParserInline.parse(str, md, env, outTokens)\n *\n * Process input string and push inline tokens into `outTokens`\n **/\nParserInline.prototype.parse = function (str, md, env, outTokens) {\n  var i, rules, len;\n  var state = new this.State(str, md, env, outTokens);\n\n  this.tokenize(state);\n\n  rules = this.ruler2.getRules('');\n  len = rules.length;\n\n  for (i = 0; i < len; i++) {\n    rules[i](state);\n  }\n};\n\n\nParserInline.prototype.State = require('./rules_inline/state_inline');\n\n\nmodule.exports = ParserInline;\n","'use strict';\n\n\nmodule.exports = function (opts) {\n  var re = {};\n\n  // Use direct extract instead of `regenerate` to reduse browserified size\n  re.src_Any = require('uc.micro/properties/Any/regex').source;\n  re.src_Cc  = require('uc.micro/categories/Cc/regex').source;\n  re.src_Z   = require('uc.micro/categories/Z/regex').source;\n  re.src_P   = require('uc.micro/categories/P/regex').source;\n\n  // \\p{\\Z\\P\\Cc\\CF} (white spaces + control + format + punctuation)\n  re.src_ZPCc = [ re.src_Z, re.src_P, re.src_Cc ].join('|');\n\n  // \\p{\\Z\\Cc} (white spaces + control)\n  re.src_ZCc = [ re.src_Z, re.src_Cc ].join('|');\n\n  // Experimental. List of chars, completely prohibited in links\n  // because can separate it from other part of text\n  var text_separators = '[><\\uff5c]';\n\n  // All possible word characters (everything without punctuation, spaces & controls)\n  // Defined via punctuation & spaces to save space\n  // Should be something like \\p{\\L\\N\\S\\M} (\\w but without `_`)\n  re.src_pseudo_letter       = '(?:(?!' + text_separators + '|' + re.src_ZPCc + ')' + re.src_Any + ')';\n  // The same as abothe but without [0-9]\n  // var src_pseudo_letter_non_d = '(?:(?![0-9]|' + src_ZPCc + ')' + src_Any + ')';\n\n  ////////////////////////////////////////////////////////////////////////////////\n\n  re.src_ip4 =\n\n    '(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)';\n\n  // Prohibit any of \"@/[]()\" in user/pass to avoid wrong domain fetch.\n  re.src_auth    = '(?:(?:(?!' + re.src_ZCc + '|[@/\\\\[\\\\]()]).)+@)?';\n\n  re.src_port =\n\n    '(?::(?:6(?:[0-4]\\\\d{3}|5(?:[0-4]\\\\d{2}|5(?:[0-2]\\\\d|3[0-5])))|[1-5]?\\\\d{1,4}))?';\n\n  re.src_host_terminator =\n\n    '(?=$|' + text_separators + '|' + re.src_ZPCc + ')(?!-|_|:\\\\d|\\\\.-|\\\\.(?!$|' + re.src_ZPCc + '))';\n\n  re.src_path =\n\n    '(?:' +\n      '[/?#]' +\n        '(?:' +\n          '(?!' + re.src_ZCc + '|' + text_separators + '|[()[\\\\]{}.,\"\\'?!\\\\-]).|' +\n          '\\\\[(?:(?!' + re.src_ZCc + '|\\\\]).)*\\\\]|' +\n          '\\\\((?:(?!' + re.src_ZCc + '|[)]).)*\\\\)|' +\n          '\\\\{(?:(?!' + re.src_ZCc + '|[}]).)*\\\\}|' +\n          '\\\\\"(?:(?!' + re.src_ZCc + '|[\"]).)+\\\\\"|' +\n          \"\\\\'(?:(?!\" + re.src_ZCc + \"|[']).)+\\\\'|\" +\n          \"\\\\'(?=\" + re.src_pseudo_letter + '|[-]).|' +  // allow `I'm_king` if no pair found\n          '\\\\.{2,3}[a-zA-Z0-9%/]|' + // github has ... in commit range links. Restrict to\n                                     // - english\n                                     // - percent-encoded\n                                     // - parts of file path\n                                     // until more examples found.\n          '\\\\.(?!' + re.src_ZCc + '|[.]).|' +\n          (opts && opts['---'] ?\n            '\\\\-(?!--(?:[^-]|$))(?:-*)|' // `---` => long dash, terminate\n          :\n            '\\\\-+|'\n          ) +\n          '\\\\,(?!' + re.src_ZCc + ').|' +      // allow `,,,` in paths\n          '\\\\!(?!' + re.src_ZCc + '|[!]).|' +\n          '\\\\?(?!' + re.src_ZCc + '|[?]).' +\n        ')+' +\n      '|\\\\/' +\n    ')?';\n\n  re.src_email_name =\n\n    '[\\\\-;:&=\\\\+\\\\$,\\\\\"\\\\.a-zA-Z0-9_]+';\n\n  re.src_xn =\n\n    'xn--[a-z0-9\\\\-]{1,59}';\n\n  // More to read about domain names\n  // http://serverfault.com/questions/638260/\n\n  re.src_domain_root =\n\n    // Allow letters & digits (http://test1)\n    '(?:' +\n      re.src_xn +\n      '|' +\n      re.src_pseudo_letter + '{1,63}' +\n    ')';\n\n  re.src_domain =\n\n    '(?:' +\n      re.src_xn +\n      '|' +\n      '(?:' + re.src_pseudo_letter + ')' +\n      '|' +\n      // don't allow `--` in domain names, because:\n      // - that can conflict with markdown &mdash; / &ndash;\n      // - nobody use those anyway\n      '(?:' + re.src_pseudo_letter + '(?:-(?!-)|' + re.src_pseudo_letter + '){0,61}' + re.src_pseudo_letter + ')' +\n    ')';\n\n  re.src_host =\n\n    '(?:' +\n    // Don't need IP check, because digits are already allowed in normal domain names\n    //   src_ip4 +\n    // '|' +\n      '(?:(?:(?:' + re.src_domain + ')\\\\.)*' + re.src_domain/*_root*/ + ')' +\n    ')';\n\n  re.tpl_host_fuzzy =\n\n    '(?:' +\n      re.src_ip4 +\n    '|' +\n      '(?:(?:(?:' + re.src_domain + ')\\\\.)+(?:%TLDS%))' +\n    ')';\n\n  re.tpl_host_no_ip_fuzzy =\n\n    '(?:(?:(?:' + re.src_domain + ')\\\\.)+(?:%TLDS%))';\n\n  re.src_host_strict =\n\n    re.src_host + re.src_host_terminator;\n\n  re.tpl_host_fuzzy_strict =\n\n    re.tpl_host_fuzzy + re.src_host_terminator;\n\n  re.src_host_port_strict =\n\n    re.src_host + re.src_port + re.src_host_terminator;\n\n  re.tpl_host_port_fuzzy_strict =\n\n    re.tpl_host_fuzzy + re.src_port + re.src_host_terminator;\n\n  re.tpl_host_port_no_ip_fuzzy_strict =\n\n    re.tpl_host_no_ip_fuzzy + re.src_port + re.src_host_terminator;\n\n\n  ////////////////////////////////////////////////////////////////////////////////\n  // Main rules\n\n  // Rude test fuzzy links by host, for quick deny\n  re.tpl_host_fuzzy_test =\n\n    'localhost|www\\\\.|\\\\.\\\\d{1,3}\\\\.|(?:\\\\.(?:%TLDS%)(?:' + re.src_ZPCc + '|>|$))';\n\n  re.tpl_email_fuzzy =\n\n      '(^|' + text_separators + '|\\\\(|' + re.src_ZCc + ')(' + re.src_email_name + '@' + re.tpl_host_fuzzy_strict + ')';\n\n  re.tpl_link_fuzzy =\n      // Fuzzy link can't be prepended with .:/\\- and non punctuation.\n      // but can start with > (markdown blockquote)\n      '(^|(?![.:/\\\\-_@])(?:[$+<=>^`|\\uff5c]|' + re.src_ZPCc + '))' +\n      '((?![$+<=>^`|\\uff5c])' + re.tpl_host_port_fuzzy_strict + re.src_path + ')';\n\n  re.tpl_link_no_ip_fuzzy =\n      // Fuzzy link can't be prepended with .:/\\- and non punctuation.\n      // but can start with > (markdown blockquote)\n      '(^|(?![.:/\\\\-_@])(?:[$+<=>^`|\\uff5c]|' + re.src_ZPCc + '))' +\n      '((?![$+<=>^`|\\uff5c])' + re.tpl_host_port_no_ip_fuzzy_strict + re.src_path + ')';\n\n  return re;\n};\n","'use strict';\n\n\n////////////////////////////////////////////////////////////////////////////////\n// Helpers\n\n// Merge objects\n//\nfunction assign(obj /*from1, from2, from3, ...*/) {\n  var sources = Array.prototype.slice.call(arguments, 1);\n\n  sources.forEach(function (source) {\n    if (!source) { return; }\n\n    Object.keys(source).forEach(function (key) {\n      obj[key] = source[key];\n    });\n  });\n\n  return obj;\n}\n\nfunction _class(obj) { return Object.prototype.toString.call(obj); }\nfunction isString(obj) { return _class(obj) === '[object String]'; }\nfunction isObject(obj) { return _class(obj) === '[object Object]'; }\nfunction isRegExp(obj) { return _class(obj) === '[object RegExp]'; }\nfunction isFunction(obj) { return _class(obj) === '[object Function]'; }\n\n\nfunction escapeRE(str) { return str.replace(/[.?*+^$[\\]\\\\(){}|-]/g, '\\\\$&'); }\n\n////////////////////////////////////////////////////////////////////////////////\n\n\nvar defaultOptions = {\n  fuzzyLink: true,\n  fuzzyEmail: true,\n  fuzzyIP: false\n};\n\n\nfunction isOptionsObj(obj) {\n  return Object.keys(obj || {}).reduce(function (acc, k) {\n    return acc || defaultOptions.hasOwnProperty(k);\n  }, false);\n}\n\n\nvar defaultSchemas = {\n  'http:': {\n    validate: function (text, pos, self) {\n      var tail = text.slice(pos);\n\n      if (!self.re.http) {\n        // compile lazily, because \"host\"-containing variables can change on tlds update.\n        self.re.http =  new RegExp(\n          '^\\\\/\\\\/' + self.re.src_auth + self.re.src_host_port_strict + self.re.src_path, 'i'\n        );\n      }\n      if (self.re.http.test(tail)) {\n        return tail.match(self.re.http)[0].length;\n      }\n      return 0;\n    }\n  },\n  'https:':  'http:',\n  'ftp:':    'http:',\n  '//':      {\n    validate: function (text, pos, self) {\n      var tail = text.slice(pos);\n\n      if (!self.re.no_http) {\n      // compile lazily, because \"host\"-containing variables can change on tlds update.\n        self.re.no_http =  new RegExp(\n          '^' +\n          self.re.src_auth +\n          // Don't allow single-level domains, because of false positives like '//test'\n          // with code comments\n          '(?:localhost|(?:(?:' + self.re.src_domain + ')\\\\.)+' + self.re.src_domain_root + ')' +\n          self.re.src_port +\n          self.re.src_host_terminator +\n          self.re.src_path,\n\n          'i'\n        );\n      }\n\n      if (self.re.no_http.test(tail)) {\n        // should not be `://` & `///`, that protects from errors in protocol name\n        if (pos >= 3 && text[pos - 3] === ':') { return 0; }\n        if (pos >= 3 && text[pos - 3] === '/') { return 0; }\n        return tail.match(self.re.no_http)[0].length;\n      }\n      return 0;\n    }\n  },\n  'mailto:': {\n    validate: function (text, pos, self) {\n      var tail = text.slice(pos);\n\n      if (!self.re.mailto) {\n        self.re.mailto =  new RegExp(\n          '^' + self.re.src_email_name + '@' + self.re.src_host_strict, 'i'\n        );\n      }\n      if (self.re.mailto.test(tail)) {\n        return tail.match(self.re.mailto)[0].length;\n      }\n      return 0;\n    }\n  }\n};\n\n/*eslint-disable max-len*/\n\n// RE pattern for 2-character tlds (autogenerated by ./support/tlds_2char_gen.js)\nvar tlds_2ch_src_re = 'a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]';\n\n// DON'T try to make PRs with changes. Extend TLDs with LinkifyIt.tlds() instead\nvar tlds_default = 'biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|'.split('|');\n\n/*eslint-enable max-len*/\n\n////////////////////////////////////////////////////////////////////////////////\n\nfunction resetScanCache(self) {\n  self.__index__ = -1;\n  self.__text_cache__   = '';\n}\n\nfunction createValidator(re) {\n  return function (text, pos) {\n    var tail = text.slice(pos);\n\n    if (re.test(tail)) {\n      return tail.match(re)[0].length;\n    }\n    return 0;\n  };\n}\n\nfunction createNormalizer() {\n  return function (match, self) {\n    self.normalize(match);\n  };\n}\n\n// Schemas compiler. Build regexps.\n//\nfunction compile(self) {\n\n  // Load & clone RE patterns.\n  var re = self.re = require('./lib/re')(self.__opts__);\n\n  // Define dynamic patterns\n  var tlds = self.__tlds__.slice();\n\n  self.onCompile();\n\n  if (!self.__tlds_replaced__) {\n    tlds.push(tlds_2ch_src_re);\n  }\n  tlds.push(re.src_xn);\n\n  re.src_tlds = tlds.join('|');\n\n  function untpl(tpl) { return tpl.replace('%TLDS%', re.src_tlds); }\n\n  re.email_fuzzy      = RegExp(untpl(re.tpl_email_fuzzy), 'i');\n  re.link_fuzzy       = RegExp(untpl(re.tpl_link_fuzzy), 'i');\n  re.link_no_ip_fuzzy = RegExp(untpl(re.tpl_link_no_ip_fuzzy), 'i');\n  re.host_fuzzy_test  = RegExp(untpl(re.tpl_host_fuzzy_test), 'i');\n\n  //\n  // Compile each schema\n  //\n\n  var aliases = [];\n\n  self.__compiled__ = {}; // Reset compiled data\n\n  function schemaError(name, val) {\n    throw new Error('(LinkifyIt) Invalid schema \"' + name + '\": ' + val);\n  }\n\n  Object.keys(self.__schemas__).forEach(function (name) {\n    var val = self.__schemas__[name];\n\n    // skip disabled methods\n    if (val === null) { return; }\n\n    var compiled = { validate: null, link: null };\n\n    self.__compiled__[name] = compiled;\n\n    if (isObject(val)) {\n      if (isRegExp(val.validate)) {\n        compiled.validate = createValidator(val.validate);\n      } else if (isFunction(val.validate)) {\n        compiled.validate = val.validate;\n      } else {\n        schemaError(name, val);\n      }\n\n      if (isFunction(val.normalize)) {\n        compiled.normalize = val.normalize;\n      } else if (!val.normalize) {\n        compiled.normalize = createNormalizer();\n      } else {\n        schemaError(name, val);\n      }\n\n      return;\n    }\n\n    if (isString(val)) {\n      aliases.push(name);\n      return;\n    }\n\n    schemaError(name, val);\n  });\n\n  //\n  // Compile postponed aliases\n  //\n\n  aliases.forEach(function (alias) {\n    if (!self.__compiled__[self.__schemas__[alias]]) {\n      // Silently fail on missed schemas to avoid errons on disable.\n      // schemaError(alias, self.__schemas__[alias]);\n      return;\n    }\n\n    self.__compiled__[alias].validate =\n      self.__compiled__[self.__schemas__[alias]].validate;\n    self.__compiled__[alias].normalize =\n      self.__compiled__[self.__schemas__[alias]].normalize;\n  });\n\n  //\n  // Fake record for guessed links\n  //\n  self.__compiled__[''] = { validate: null, normalize: createNormalizer() };\n\n  //\n  // Build schema condition\n  //\n  var slist = Object.keys(self.__compiled__)\n                      .filter(function (name) {\n                        // Filter disabled & fake schemas\n                        return name.length > 0 && self.__compiled__[name];\n                      })\n                      .map(escapeRE)\n                      .join('|');\n  // (?!_) cause 1.5x slowdown\n  self.re.schema_test   = RegExp('(^|(?!_)(?:[><\\uff5c]|' + re.src_ZPCc + '))(' + slist + ')', 'i');\n  self.re.schema_search = RegExp('(^|(?!_)(?:[><\\uff5c]|' + re.src_ZPCc + '))(' + slist + ')', 'ig');\n\n  self.re.pretest       = RegExp(\n                            '(' + self.re.schema_test.source + ')|' +\n                            '(' + self.re.host_fuzzy_test.source + ')|' +\n                            '@',\n                            'i');\n\n  //\n  // Cleanup\n  //\n\n  resetScanCache(self);\n}\n\n/**\n * class Match\n *\n * Match result. Single element of array, returned by [[LinkifyIt#match]]\n **/\nfunction Match(self, shift) {\n  var start = self.__index__,\n      end   = self.__last_index__,\n      text  = self.__text_cache__.slice(start, end);\n\n  /**\n   * Match#schema -> String\n   *\n   * Prefix (protocol) for matched string.\n   **/\n  this.schema    = self.__schema__.toLowerCase();\n  /**\n   * Match#index -> Number\n   *\n   * First position of matched string.\n   **/\n  this.index     = start + shift;\n  /**\n   * Match#lastIndex -> Number\n   *\n   * Next position after matched string.\n   **/\n  this.lastIndex = end + shift;\n  /**\n   * Match#raw -> String\n   *\n   * Matched string.\n   **/\n  this.raw       = text;\n  /**\n   * Match#text -> String\n   *\n   * Notmalized text of matched string.\n   **/\n  this.text      = text;\n  /**\n   * Match#url -> String\n   *\n   * Normalized url of matched string.\n   **/\n  this.url       = text;\n}\n\nfunction createMatch(self, shift) {\n  var match = new Match(self, shift);\n\n  self.__compiled__[match.schema].normalize(match, self);\n\n  return match;\n}\n\n\n/**\n * class LinkifyIt\n **/\n\n/**\n * new LinkifyIt(schemas, options)\n * - schemas (Object): Optional. Additional schemas to validate (prefix/validator)\n * - options (Object): { fuzzyLink|fuzzyEmail|fuzzyIP: true|false }\n *\n * Creates new linkifier instance with optional additional schemas.\n * Can be called without `new` keyword for convenience.\n *\n * By default understands:\n *\n * - `http(s)://...` , `ftp://...`, `mailto:...` & `//...` links\n * - \"fuzzy\" links and emails (example.com, foo@bar.com).\n *\n * `schemas` is an object, where each key/value describes protocol/rule:\n *\n * - __key__ - link prefix (usually, protocol name with `:` at the end, `skype:`\n *   for example). `linkify-it` makes shure that prefix is not preceeded with\n *   alphanumeric char and symbols. Only whitespaces and punctuation allowed.\n * - __value__ - rule to check tail after link prefix\n *   - _String_ - just alias to existing rule\n *   - _Object_\n *     - _validate_ - validator function (should return matched length on success),\n *       or `RegExp`.\n *     - _normalize_ - optional function to normalize text & url of matched result\n *       (for example, for @twitter mentions).\n *\n * `options`:\n *\n * - __fuzzyLink__ - recognige URL-s without `http(s):` prefix. Default `true`.\n * - __fuzzyIP__ - allow IPs in fuzzy links above. Can conflict with some texts\n *   like version numbers. Default `false`.\n * - __fuzzyEmail__ - recognize emails without `mailto:` prefix.\n *\n **/\nfunction LinkifyIt(schemas, options) {\n  if (!(this instanceof LinkifyIt)) {\n    return new LinkifyIt(schemas, options);\n  }\n\n  if (!options) {\n    if (isOptionsObj(schemas)) {\n      options = schemas;\n      schemas = {};\n    }\n  }\n\n  this.__opts__           = assign({}, defaultOptions, options);\n\n  // Cache last tested result. Used to skip repeating steps on next `match` call.\n  this.__index__          = -1;\n  this.__last_index__     = -1; // Next scan position\n  this.__schema__         = '';\n  this.__text_cache__     = '';\n\n  this.__schemas__        = assign({}, defaultSchemas, schemas);\n  this.__compiled__       = {};\n\n  this.__tlds__           = tlds_default;\n  this.__tlds_replaced__  = false;\n\n  this.re = {};\n\n  compile(this);\n}\n\n\n/** chainable\n * LinkifyIt#add(schema, definition)\n * - schema (String): rule name (fixed pattern prefix)\n * - definition (String|RegExp|Object): schema definition\n *\n * Add new rule definition. See constructor description for details.\n **/\nLinkifyIt.prototype.add = function add(schema, definition) {\n  this.__schemas__[schema] = definition;\n  compile(this);\n  return this;\n};\n\n\n/** chainable\n * LinkifyIt#set(options)\n * - options (Object): { fuzzyLink|fuzzyEmail|fuzzyIP: true|false }\n *\n * Set recognition options for links without schema.\n **/\nLinkifyIt.prototype.set = function set(options) {\n  this.__opts__ = assign(this.__opts__, options);\n  return this;\n};\n\n\n/**\n * LinkifyIt#test(text) -> Boolean\n *\n * Searches linkifiable pattern and returns `true` on success or `false` on fail.\n **/\nLinkifyIt.prototype.test = function test(text) {\n  // Reset scan cache\n  this.__text_cache__ = text;\n  this.__index__      = -1;\n\n  if (!text.length) { return false; }\n\n  var m, ml, me, len, shift, next, re, tld_pos, at_pos;\n\n  // try to scan for link with schema - that's the most simple rule\n  if (this.re.schema_test.test(text)) {\n    re = this.re.schema_search;\n    re.lastIndex = 0;\n    while ((m = re.exec(text)) !== null) {\n      len = this.testSchemaAt(text, m[2], re.lastIndex);\n      if (len) {\n        this.__schema__     = m[2];\n        this.__index__      = m.index + m[1].length;\n        this.__last_index__ = m.index + m[0].length + len;\n        break;\n      }\n    }\n  }\n\n  if (this.__opts__.fuzzyLink && this.__compiled__['http:']) {\n    // guess schemaless links\n    tld_pos = text.search(this.re.host_fuzzy_test);\n    if (tld_pos >= 0) {\n      // if tld is located after found link - no need to check fuzzy pattern\n      if (this.__index__ < 0 || tld_pos < this.__index__) {\n        if ((ml = text.match(this.__opts__.fuzzyIP ? this.re.link_fuzzy : this.re.link_no_ip_fuzzy)) !== null) {\n\n          shift = ml.index + ml[1].length;\n\n          if (this.__index__ < 0 || shift < this.__index__) {\n            this.__schema__     = '';\n            this.__index__      = shift;\n            this.__last_index__ = ml.index + ml[0].length;\n          }\n        }\n      }\n    }\n  }\n\n  if (this.__opts__.fuzzyEmail && this.__compiled__['mailto:']) {\n    // guess schemaless emails\n    at_pos = text.indexOf('@');\n    if (at_pos >= 0) {\n      // We can't skip this check, because this cases are possible:\n      // 192.168.1.1@gmail.com, my.in@example.com\n      if ((me = text.match(this.re.email_fuzzy)) !== null) {\n\n        shift = me.index + me[1].length;\n        next  = me.index + me[0].length;\n\n        if (this.__index__ < 0 || shift < this.__index__ ||\n            (shift === this.__index__ && next > this.__last_index__)) {\n          this.__schema__     = 'mailto:';\n          this.__index__      = shift;\n          this.__last_index__ = next;\n        }\n      }\n    }\n  }\n\n  return this.__index__ >= 0;\n};\n\n\n/**\n * LinkifyIt#pretest(text) -> Boolean\n *\n * Very quick check, that can give false positives. Returns true if link MAY BE\n * can exists. Can be used for speed optimization, when you need to check that\n * link NOT exists.\n **/\nLinkifyIt.prototype.pretest = function pretest(text) {\n  return this.re.pretest.test(text);\n};\n\n\n/**\n * LinkifyIt#testSchemaAt(text, name, position) -> Number\n * - text (String): text to scan\n * - name (String): rule (schema) name\n * - position (Number): text offset to check from\n *\n * Similar to [[LinkifyIt#test]] but checks only specific protocol tail exactly\n * at given position. Returns length of found pattern (0 on fail).\n **/\nLinkifyIt.prototype.testSchemaAt = function testSchemaAt(text, schema, pos) {\n  // If not supported schema check requested - terminate\n  if (!this.__compiled__[schema.toLowerCase()]) {\n    return 0;\n  }\n  return this.__compiled__[schema.toLowerCase()].validate(text, pos, this);\n};\n\n\n/**\n * LinkifyIt#match(text) -> Array|null\n *\n * Returns array of found link descriptions or `null` on fail. We strongly\n * recommend to use [[LinkifyIt#test]] first, for best speed.\n *\n * ##### Result match description\n *\n * - __schema__ - link schema, can be empty for fuzzy links, or `//` for\n *   protocol-neutral  links.\n * - __index__ - offset of matched text\n * - __lastIndex__ - index of next char after mathch end\n * - __raw__ - matched text\n * - __text__ - normalized text\n * - __url__ - link, generated from matched text\n **/\nLinkifyIt.prototype.match = function match(text) {\n  var shift = 0, result = [];\n\n  // Try to take previous element from cache, if .test() called before\n  if (this.__index__ >= 0 && this.__text_cache__ === text) {\n    result.push(createMatch(this, shift));\n    shift = this.__last_index__;\n  }\n\n  // Cut head if cache was used\n  var tail = shift ? text.slice(shift) : text;\n\n  // Scan string until end reached\n  while (this.test(tail)) {\n    result.push(createMatch(this, shift));\n\n    tail = tail.slice(this.__last_index__);\n    shift += this.__last_index__;\n  }\n\n  if (result.length) {\n    return result;\n  }\n\n  return null;\n};\n\n\n/** chainable\n * LinkifyIt#tlds(list [, keepOld]) -> this\n * - list (Array): list of tlds\n * - keepOld (Boolean): merge with current list if `true` (`false` by default)\n *\n * Load (or merge) new tlds list. Those are user for fuzzy links (without prefix)\n * to avoid false positives. By default this algorythm used:\n *\n * - hostname with any 2-letter root zones are ok.\n * - biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\n *   are ok.\n * - encoded (`xn--...`) root zones are ok.\n *\n * If list is replaced, then exact match for 2-chars root zones will be checked.\n **/\nLinkifyIt.prototype.tlds = function tlds(list, keepOld) {\n  list = Array.isArray(list) ? list : [ list ];\n\n  if (!keepOld) {\n    this.__tlds__ = list.slice();\n    this.__tlds_replaced__ = true;\n    compile(this);\n    return this;\n  }\n\n  this.__tlds__ = this.__tlds__.concat(list)\n                                  .sort()\n                                  .filter(function (el, idx, arr) {\n                                    return el !== arr[idx - 1];\n                                  })\n                                  .reverse();\n\n  compile(this);\n  return this;\n};\n\n/**\n * LinkifyIt#normalize(match)\n *\n * Default normalizer (if schema does not define it's own).\n **/\nLinkifyIt.prototype.normalize = function normalize(match) {\n\n  // Do minimal possible changes by default. Need to collect feedback prior\n  // to move forward https://github.com/markdown-it/linkify-it/issues/1\n\n  if (!match.schema) { match.url = 'http://' + match.url; }\n\n  if (match.schema === 'mailto:' && !/^mailto:/i.test(match.url)) {\n    match.url = 'mailto:' + match.url;\n  }\n};\n\n\n/**\n * LinkifyIt#onCompile()\n *\n * Override to modify basic RegExp-s.\n **/\nLinkifyIt.prototype.onCompile = function onCompile() {\n};\n\n\nmodule.exports = LinkifyIt;\n","/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n","// markdown-it default options\n\n'use strict';\n\n\nmodule.exports = {\n  options: {\n    html:         false,        // Enable HTML tags in source\n    xhtmlOut:     false,        // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkify:      false,        // autoconvert URL-like texts to links\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Could be either a String or an Array.\n    //\n    // For example, you can use '' for Russian, '' for German,\n    // and ['\\xA0', '\\xA0', '\\xA0', '\\xA0'] for French (including nbsp).\n    quotes: '\\u201c\\u201d\\u2018\\u2019', /*  */\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if the source string is not changed and should be escaped externaly.\n    // If result starts with <pre... internal wrapper is skipped.\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    maxNesting:   100            // Internal protection, recursion limit\n  },\n\n  components: {\n\n    core: {},\n    block: {},\n    inline: {}\n  }\n};\n","// \"Zero\" preset, with nothing enabled. Useful for manual configuring of simple\n// modes. For example, to parse bold/italic only.\n\n'use strict';\n\n\nmodule.exports = {\n  options: {\n    html:         false,        // Enable HTML tags in source\n    xhtmlOut:     false,        // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkify:      false,        // autoconvert URL-like texts to links\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Could be either a String or an Array.\n    //\n    // For example, you can use '' for Russian, '' for German,\n    // and ['\\xA0', '\\xA0', '\\xA0', '\\xA0'] for French (including nbsp).\n    quotes: '\\u201c\\u201d\\u2018\\u2019', /*  */\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if the source string is not changed and should be escaped externaly.\n    // If result starts with <pre... internal wrapper is skipped.\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    maxNesting:   20            // Internal protection, recursion limit\n  },\n\n  components: {\n\n    core: {\n      rules: [\n        'normalize',\n        'block',\n        'inline'\n      ]\n    },\n\n    block: {\n      rules: [\n        'paragraph'\n      ]\n    },\n\n    inline: {\n      rules: [\n        'text'\n      ],\n      rules2: [\n        'balance_pairs',\n        'text_collapse'\n      ]\n    }\n  }\n};\n","// Commonmark default options\n\n'use strict';\n\n\nmodule.exports = {\n  options: {\n    html:         true,         // Enable HTML tags in source\n    xhtmlOut:     true,         // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkify:      false,        // autoconvert URL-like texts to links\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Could be either a String or an Array.\n    //\n    // For example, you can use '' for Russian, '' for German,\n    // and ['\\xA0', '\\xA0', '\\xA0', '\\xA0'] for French (including nbsp).\n    quotes: '\\u201c\\u201d\\u2018\\u2019', /*  */\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if the source string is not changed and should be escaped externaly.\n    // If result starts with <pre... internal wrapper is skipped.\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    maxNesting:   20            // Internal protection, recursion limit\n  },\n\n  components: {\n\n    core: {\n      rules: [\n        'normalize',\n        'block',\n        'inline'\n      ]\n    },\n\n    block: {\n      rules: [\n        'blockquote',\n        'code',\n        'fence',\n        'heading',\n        'hr',\n        'html_block',\n        'lheading',\n        'list',\n        'reference',\n        'paragraph'\n      ]\n    },\n\n    inline: {\n      rules: [\n        'autolink',\n        'backticks',\n        'emphasis',\n        'entity',\n        'escape',\n        'html_inline',\n        'image',\n        'link',\n        'newline',\n        'text'\n      ],\n      rules2: [\n        'balance_pairs',\n        'emphasis',\n        'text_collapse'\n      ]\n    }\n  }\n};\n","// Main parser class\n\n'use strict';\n\n\nvar utils        = require('./common/utils');\nvar helpers      = require('./helpers');\nvar Renderer     = require('./renderer');\nvar ParserCore   = require('./parser_core');\nvar ParserBlock  = require('./parser_block');\nvar ParserInline = require('./parser_inline');\nvar LinkifyIt    = require('linkify-it');\nvar mdurl        = require('mdurl');\nvar punycode     = require('punycode');\n\n\nvar config = {\n  'default': require('./presets/default'),\n  zero: require('./presets/zero'),\n  commonmark: require('./presets/commonmark')\n};\n\n////////////////////////////////////////////////////////////////////////////////\n//\n// This validator can prohibit more than really needed to prevent XSS. It's a\n// tradeoff to keep code simple and to be secure by default.\n//\n// If you need different setup - override validator method as you wish. Or\n// replace it with dummy function and use external sanitizer.\n//\n\nvar BAD_PROTO_RE = /^(vbscript|javascript|file|data):/;\nvar GOOD_DATA_RE = /^data:image\\/(gif|png|jpeg|webp);/;\n\nfunction validateLink(url) {\n  // url should be normalized at this point, and existing entities are decoded\n  var str = url.trim().toLowerCase();\n\n  return BAD_PROTO_RE.test(str) ? (GOOD_DATA_RE.test(str) ? true : false) : true;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\n\nvar RECODE_HOSTNAME_FOR = [ 'http:', 'https:', 'mailto:' ];\n\nfunction normalizeLink(url) {\n  var parsed = mdurl.parse(url, true);\n\n  if (parsed.hostname) {\n    // Encode hostnames in urls like:\n    // `http://host/`, `https://host/`, `mailto:user@host`, `//host/`\n    //\n    // We don't encode unknown schemas, because it's likely that we encode\n    // something we shouldn't (e.g. `skype:name` treated as `skype:host`)\n    //\n    if (!parsed.protocol || RECODE_HOSTNAME_FOR.indexOf(parsed.protocol) >= 0) {\n      try {\n        parsed.hostname = punycode.toASCII(parsed.hostname);\n      } catch (er) { /**/ }\n    }\n  }\n\n  return mdurl.encode(mdurl.format(parsed));\n}\n\nfunction normalizeLinkText(url) {\n  var parsed = mdurl.parse(url, true);\n\n  if (parsed.hostname) {\n    // Encode hostnames in urls like:\n    // `http://host/`, `https://host/`, `mailto:user@host`, `//host/`\n    //\n    // We don't encode unknown schemas, because it's likely that we encode\n    // something we shouldn't (e.g. `skype:name` treated as `skype:host`)\n    //\n    if (!parsed.protocol || RECODE_HOSTNAME_FOR.indexOf(parsed.protocol) >= 0) {\n      try {\n        parsed.hostname = punycode.toUnicode(parsed.hostname);\n      } catch (er) { /**/ }\n    }\n  }\n\n  return mdurl.decode(mdurl.format(parsed));\n}\n\n\n/**\n * class MarkdownIt\n *\n * Main parser/renderer class.\n *\n * ##### Usage\n *\n * ```javascript\n * // node.js, \"classic\" way:\n * var MarkdownIt = require('markdown-it'),\n *     md = new MarkdownIt();\n * var result = md.render('# markdown-it rulezz!');\n *\n * // node.js, the same, but with sugar:\n * var md = require('markdown-it')();\n * var result = md.render('# markdown-it rulezz!');\n *\n * // browser without AMD, added to \"window\" on script load\n * // Note, there are no dash.\n * var md = window.markdownit();\n * var result = md.render('# markdown-it rulezz!');\n * ```\n *\n * Single line rendering, without paragraph wrap:\n *\n * ```javascript\n * var md = require('markdown-it')();\n * var result = md.renderInline('__markdown-it__ rulezz!');\n * ```\n **/\n\n/**\n * new MarkdownIt([presetName, options])\n * - presetName (String): optional, `commonmark` / `zero`\n * - options (Object)\n *\n * Creates parser instanse with given config. Can be called without `new`.\n *\n * ##### presetName\n *\n * MarkdownIt provides named presets as a convenience to quickly\n * enable/disable active syntax rules and options for common use cases.\n *\n * - [\"commonmark\"](https://github.com/markdown-it/markdown-it/blob/master/lib/presets/commonmark.js) -\n *   configures parser to strict [CommonMark](http://commonmark.org/) mode.\n * - [default](https://github.com/markdown-it/markdown-it/blob/master/lib/presets/default.js) -\n *   similar to GFM, used when no preset name given. Enables all available rules,\n *   but still without html, typographer & autolinker.\n * - [\"zero\"](https://github.com/markdown-it/markdown-it/blob/master/lib/presets/zero.js) -\n *   all rules disabled. Useful to quickly setup your config via `.enable()`.\n *   For example, when you need only `bold` and `italic` markup and nothing else.\n *\n * ##### options:\n *\n * - __html__ - `false`. Set `true` to enable HTML tags in source. Be careful!\n *   That's not safe! You may need external sanitizer to protect output from XSS.\n *   It's better to extend features via plugins, instead of enabling HTML.\n * - __xhtmlOut__ - `false`. Set `true` to add '/' when closing single tags\n *   (`<br />`). This is needed only for full CommonMark compatibility. In real\n *   world you will need HTML output.\n * - __breaks__ - `false`. Set `true` to convert `\\n` in paragraphs into `<br>`.\n * - __langPrefix__ - `language-`. CSS language class prefix for fenced blocks.\n *   Can be useful for external highlighters.\n * - __linkify__ - `false`. Set `true` to autoconvert URL-like text to links.\n * - __typographer__  - `false`. Set `true` to enable [some language-neutral\n *   replacement](https://github.com/markdown-it/markdown-it/blob/master/lib/rules_core/replacements.js) +\n *   quotes beautification (smartquotes).\n * - __quotes__ - ``, String or Array. Double + single quotes replacement\n *   pairs, when typographer enabled and smartquotes on. For example, you can\n *   use `''` for Russian, `''` for German, and\n *   `['\\xA0', '\\xA0', '\\xA0', '\\xA0']` for French (including nbsp).\n * - __highlight__ - `null`. Highlighter function for fenced code blocks.\n *   Highlighter `function (str, lang)` should return escaped HTML. It can also\n *   return empty string if the source was not changed and should be escaped\n *   externaly. If result starts with <pre... internal wrapper is skipped.\n *\n * ##### Example\n *\n * ```javascript\n * // commonmark mode\n * var md = require('markdown-it')('commonmark');\n *\n * // default mode\n * var md = require('markdown-it')();\n *\n * // enable everything\n * var md = require('markdown-it')({\n *   html: true,\n *   linkify: true,\n *   typographer: true\n * });\n * ```\n *\n * ##### Syntax highlighting\n *\n * ```js\n * var hljs = require('highlight.js') // https://highlightjs.org/\n *\n * var md = require('markdown-it')({\n *   highlight: function (str, lang) {\n *     if (lang && hljs.getLanguage(lang)) {\n *       try {\n *         return hljs.highlight(lang, str, true).value;\n *       } catch (__) {}\n *     }\n *\n *     return ''; // use external default escaping\n *   }\n * });\n * ```\n *\n * Or with full wrapper override (if you need assign class to `<pre>`):\n *\n * ```javascript\n * var hljs = require('highlight.js') // https://highlightjs.org/\n *\n * // Actual default values\n * var md = require('markdown-it')({\n *   highlight: function (str, lang) {\n *     if (lang && hljs.getLanguage(lang)) {\n *       try {\n *         return '<pre class=\"hljs\"><code>' +\n *                hljs.highlight(lang, str, true).value +\n *                '</code></pre>';\n *       } catch (__) {}\n *     }\n *\n *     return '<pre class=\"hljs\"><code>' + md.utils.escapeHtml(str) + '</code></pre>';\n *   }\n * });\n * ```\n *\n **/\nfunction MarkdownIt(presetName, options) {\n  if (!(this instanceof MarkdownIt)) {\n    return new MarkdownIt(presetName, options);\n  }\n\n  if (!options) {\n    if (!utils.isString(presetName)) {\n      options = presetName || {};\n      presetName = 'default';\n    }\n  }\n\n  /**\n   * MarkdownIt#inline -> ParserInline\n   *\n   * Instance of [[ParserInline]]. You may need it to add new rules when\n   * writing plugins. For simple rules control use [[MarkdownIt.disable]] and\n   * [[MarkdownIt.enable]].\n   **/\n  this.inline = new ParserInline();\n\n  /**\n   * MarkdownIt#block -> ParserBlock\n   *\n   * Instance of [[ParserBlock]]. You may need it to add new rules when\n   * writing plugins. For simple rules control use [[MarkdownIt.disable]] and\n   * [[MarkdownIt.enable]].\n   **/\n  this.block = new ParserBlock();\n\n  /**\n   * MarkdownIt#core -> Core\n   *\n   * Instance of [[Core]] chain executor. You may need it to add new rules when\n   * writing plugins. For simple rules control use [[MarkdownIt.disable]] and\n   * [[MarkdownIt.enable]].\n   **/\n  this.core = new ParserCore();\n\n  /**\n   * MarkdownIt#renderer -> Renderer\n   *\n   * Instance of [[Renderer]]. Use it to modify output look. Or to add rendering\n   * rules for new token types, generated by plugins.\n   *\n   * ##### Example\n   *\n   * ```javascript\n   * var md = require('markdown-it')();\n   *\n   * function myToken(tokens, idx, options, env, self) {\n   *   //...\n   *   return result;\n   * };\n   *\n   * md.renderer.rules['my_token'] = myToken\n   * ```\n   *\n   * See [[Renderer]] docs and [source code](https://github.com/markdown-it/markdown-it/blob/master/lib/renderer.js).\n   **/\n  this.renderer = new Renderer();\n\n  /**\n   * MarkdownIt#linkify -> LinkifyIt\n   *\n   * [linkify-it](https://github.com/markdown-it/linkify-it) instance.\n   * Used by [linkify](https://github.com/markdown-it/markdown-it/blob/master/lib/rules_core/linkify.js)\n   * rule.\n   **/\n  this.linkify = new LinkifyIt();\n\n  /**\n   * MarkdownIt#validateLink(url) -> Boolean\n   *\n   * Link validation function. CommonMark allows too much in links. By default\n   * we disable `javascript:`, `vbscript:`, `file:` schemas, and almost all `data:...` schemas\n   * except some embedded image types.\n   *\n   * You can change this behaviour:\n   *\n   * ```javascript\n   * var md = require('markdown-it')();\n   * // enable everything\n   * md.validateLink = function () { return true; }\n   * ```\n   **/\n  this.validateLink = validateLink;\n\n  /**\n   * MarkdownIt#normalizeLink(url) -> String\n   *\n   * Function used to encode link url to a machine-readable format,\n   * which includes url-encoding, punycode, etc.\n   **/\n  this.normalizeLink = normalizeLink;\n\n  /**\n   * MarkdownIt#normalizeLinkText(url) -> String\n   *\n   * Function used to decode link url to a human-readable format`\n   **/\n  this.normalizeLinkText = normalizeLinkText;\n\n\n  // Expose utils & helpers for easy acces from plugins\n\n  /**\n   * MarkdownIt#utils -> utils\n   *\n   * Assorted utility functions, useful to write plugins. See details\n   * [here](https://github.com/markdown-it/markdown-it/blob/master/lib/common/utils.js).\n   **/\n  this.utils = utils;\n\n  /**\n   * MarkdownIt#helpers -> helpers\n   *\n   * Link components parser functions, useful to write plugins. See details\n   * [here](https://github.com/markdown-it/markdown-it/blob/master/lib/helpers).\n   **/\n  this.helpers = utils.assign({}, helpers);\n\n\n  this.options = {};\n  this.configure(presetName);\n\n  if (options) { this.set(options); }\n}\n\n\n/** chainable\n * MarkdownIt.set(options)\n *\n * Set parser options (in the same format as in constructor). Probably, you\n * will never need it, but you can change options after constructor call.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')()\n *             .set({ html: true, breaks: true })\n *             .set({ typographer, true });\n * ```\n *\n * __Note:__ To achieve the best possible performance, don't modify a\n * `markdown-it` instance options on the fly. If you need multiple configurations\n * it's best to create multiple instances and initialize each with separate\n * config.\n **/\nMarkdownIt.prototype.set = function (options) {\n  utils.assign(this.options, options);\n  return this;\n};\n\n\n/** chainable, internal\n * MarkdownIt.configure(presets)\n *\n * Batch load of all options and compenent settings. This is internal method,\n * and you probably will not need it. But if you with - see available presets\n * and data structure [here](https://github.com/markdown-it/markdown-it/tree/master/lib/presets)\n *\n * We strongly recommend to use presets instead of direct config loads. That\n * will give better compatibility with next versions.\n **/\nMarkdownIt.prototype.configure = function (presets) {\n  var self = this, presetName;\n\n  if (utils.isString(presets)) {\n    presetName = presets;\n    presets = config[presetName];\n    if (!presets) { throw new Error('Wrong `markdown-it` preset \"' + presetName + '\", check name'); }\n  }\n\n  if (!presets) { throw new Error('Wrong `markdown-it` preset, can\\'t be empty'); }\n\n  if (presets.options) { self.set(presets.options); }\n\n  if (presets.components) {\n    Object.keys(presets.components).forEach(function (name) {\n      if (presets.components[name].rules) {\n        self[name].ruler.enableOnly(presets.components[name].rules);\n      }\n      if (presets.components[name].rules2) {\n        self[name].ruler2.enableOnly(presets.components[name].rules2);\n      }\n    });\n  }\n  return this;\n};\n\n\n/** chainable\n * MarkdownIt.enable(list, ignoreInvalid)\n * - list (String|Array): rule name or list of rule names to enable\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Enable list or rules. It will automatically find appropriate components,\n * containing rules with given names. If rule not found, and `ignoreInvalid`\n * not set - throws exception.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')()\n *             .enable(['sub', 'sup'])\n *             .disable('smartquotes');\n * ```\n **/\nMarkdownIt.prototype.enable = function (list, ignoreInvalid) {\n  var result = [];\n\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  [ 'core', 'block', 'inline' ].forEach(function (chain) {\n    result = result.concat(this[chain].ruler.enable(list, true));\n  }, this);\n\n  result = result.concat(this.inline.ruler2.enable(list, true));\n\n  var missed = list.filter(function (name) { return result.indexOf(name) < 0; });\n\n  if (missed.length && !ignoreInvalid) {\n    throw new Error('MarkdownIt. Failed to enable unknown rule(s): ' + missed);\n  }\n\n  return this;\n};\n\n\n/** chainable\n * MarkdownIt.disable(list, ignoreInvalid)\n * - list (String|Array): rule name or list of rule names to disable.\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * The same as [[MarkdownIt.enable]], but turn specified rules off.\n **/\nMarkdownIt.prototype.disable = function (list, ignoreInvalid) {\n  var result = [];\n\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  [ 'core', 'block', 'inline' ].forEach(function (chain) {\n    result = result.concat(this[chain].ruler.disable(list, true));\n  }, this);\n\n  result = result.concat(this.inline.ruler2.disable(list, true));\n\n  var missed = list.filter(function (name) { return result.indexOf(name) < 0; });\n\n  if (missed.length && !ignoreInvalid) {\n    throw new Error('MarkdownIt. Failed to disable unknown rule(s): ' + missed);\n  }\n  return this;\n};\n\n\n/** chainable\n * MarkdownIt.use(plugin, params)\n *\n * Load specified plugin with given params into current parser instance.\n * It's just a sugar to call `plugin(md, params)` with curring.\n *\n * ##### Example\n *\n * ```javascript\n * var iterator = require('markdown-it-for-inline');\n * var md = require('markdown-it')()\n *             .use(iterator, 'foo_replace', 'text', function (tokens, idx) {\n *               tokens[idx].content = tokens[idx].content.replace(/foo/g, 'bar');\n *             });\n * ```\n **/\nMarkdownIt.prototype.use = function (plugin /*, params, ... */) {\n  var args = [ this ].concat(Array.prototype.slice.call(arguments, 1));\n  plugin.apply(plugin, args);\n  return this;\n};\n\n\n/** internal\n * MarkdownIt.parse(src, env) -> Array\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * Parse input string and returns list of block tokens (special token type\n * \"inline\" will contain list of inline tokens). You should not call this\n * method directly, until you write custom renderer (for example, to produce\n * AST).\n *\n * `env` is used to pass data between \"distributed\" rules and return additional\n * metadata like reference info, needed for the renderer. It also can be used to\n * inject data in specific cases. Usually, you will be ok to pass `{}`,\n * and then pass updated object to renderer.\n **/\nMarkdownIt.prototype.parse = function (src, env) {\n  if (typeof src !== 'string') {\n    throw new Error('Input data should be a String');\n  }\n\n  var state = new this.core.State(src, this, env);\n\n  this.core.process(state);\n\n  return state.tokens;\n};\n\n\n/**\n * MarkdownIt.render(src [, env]) -> String\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * Render markdown string into html. It does all magic for you :).\n *\n * `env` can be used to inject additional metadata (`{}` by default).\n * But you will not need it with high probability. See also comment\n * in [[MarkdownIt.parse]].\n **/\nMarkdownIt.prototype.render = function (src, env) {\n  env = env || {};\n\n  return this.renderer.render(this.parse(src, env), this.options, env);\n};\n\n\n/** internal\n * MarkdownIt.parseInline(src, env) -> Array\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * The same as [[MarkdownIt.parse]] but skip all block rules. It returns the\n * block tokens list with the single `inline` element, containing parsed inline\n * tokens in `children` property. Also updates `env` object.\n **/\nMarkdownIt.prototype.parseInline = function (src, env) {\n  var state = new this.core.State(src, this, env);\n\n  state.inlineMode = true;\n  this.core.process(state);\n\n  return state.tokens;\n};\n\n\n/**\n * MarkdownIt.renderInline(src [, env]) -> String\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * Similar to [[MarkdownIt.render]] but for single paragraph content. Result\n * will NOT be wrapped into `<p>` tags.\n **/\nMarkdownIt.prototype.renderInline = function (src, env) {\n  env = env || {};\n\n  return this.renderer.render(this.parseInline(src, env), this.options, env);\n};\n\n\nmodule.exports = MarkdownIt;\n","'use strict';\n\n\nmodule.exports = require('./lib/');\n","import MarkdownIt from 'markdown-it';\n\nconst markdownIt = new MarkdownIt({\n  html: true,\n  langPrefix: 'hljs ',\n  highlight: function(str: string, lang: string) {\n    const hljs: any = (<any>window).hljs;\n\n    if (hljs == null) {\n      console.warn('highlight.js (`window.hljs`) is missing');\n      return '';\n    }\n\n    if (lang && hljs.getLanguage(lang)) {\n      try {\n        return hljs.highlight(lang, str).value;\n      } catch (e) {\n        console.error(e);\n      }\n    }\n\n    try {\n      return hljs.highlightAuto(str).value;\n    } catch (e) {\n      console.error(e);\n    }\n\n    return ''; // use external default escaping\n  },\n});\n\nexport function compileMarkdown(markdown: string): string {\n  markdownIt.renderer.rules.link_open = linkOpenAsTargetBlank;\n  return markdownIt.render(markdown);\n}\n\nfunction linkOpenAsTargetBlank(tokens: any[], idx: number, options: any, _: any, self: any) {\n  const linkOpenToken = tokens[idx];\n  const targetAttrIndex = linkOpenToken.attrIndex('target');\n  if (targetAttrIndex < 0) {\n    linkOpenToken.attrPush(['target', '_blank']);\n  } else {\n    linkOpenToken.attrs[targetAttrIndex][1] = '_blank';\n  }\n  return self.renderToken(tokens, idx, options);\n}\n","import { html, render } from 'lit-html/lib/shady-render';\n\nimport { compileMarkdown } from '../markdown';\n\nfunction template({ image, filter }: { image: string; filter: string }) {\n  return html`\n<style>\n\n:host {\n  display: flex;\n  position: relative;\n  min-width: 100vw;\n  min-height: 100vh;\n  overflow: hidden;\n}\n\n:host[id] { /* nearly initialized */\n  visibility: visible;\n}\n\n.layout-slot {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  position: absolute;\n  z-index: 2;\n  transform-origin: left top;\n\n  min-width: auto;\n  min-height: auto;\n  opacity: 1;\n  z-index: 2;\n\n  width: var(--talkie-slide-width, 1024px);\n  height: var(--talkie-slide-height, 768px);\n  transform: var(--talkie-slide-scale, scale(1));\n  top: var(--talkie-slide-top, 0);\n  left: var(--talkie-slide-left, 0);\n}\n\ntk-backface {\n  background: var(--talkie-slide-bg, radial-gradient(#f8f8f8 0%, #e6e6e6 100%));\n}\n\n[invert] + tk-backface {\n  background: var(--talkie-slide-invert-bg, radial-gradient(#262626 0%, #080808 100%));\n}\n\n/* Layout Utilities */\n.layout-slot[flex]       { display: flex !important; }\n.layout-slot[vertical]   { flex-direction: column !important; }\n.layout-slot[horizontal] { flex-direction: row !important; }\n\n.layout-slot[v-center]             { justify-content: center !important; }\n.layout-slot[horizontal][v-center] { align-items: center !important; }\n\n.layout-slot[v-top]             { justify-content: flex-start !important; }\n.layout-slot[horizontal][v-top] { align-items: flex-start !important; }\n\n.layout-slot[v-bottom]             { justify-content: flex-end !important; }\n.layout-slot[horizontal][v-bottom] { align-items: flex-end !important; }\n\n.layout-slot[h-center]             { align-items: center !important; }\n.layout-slot[horizontal][h-center] { justify-content: center !important; }\n\n.layout-slot[h-left]             { align-items: flex-start !important; }\n.layout-slot[horizontal][h-left] { justify-content: flex-start !important; }\n\n.layout-slot[h-right]             { align-items: flex-end !important; }\n.layout-slot[horizontal][h-right] { justify-content: flex-end !important; }\n\n.layout-slot[h-left] > *  { text-align: left !important; }\n.layout-slot[h-right] > * { text-align: right !important; }\n\n.layout-slot[s-center] { align-self: center !important; }\n.layout-slot[s-start]  { align-self: flex-start !important; }\n.layout-slot[s-end]    { align-self: flex-end !important; }\n</style>\n\n<div class=\"layout-slot\">\n  <slot></slot>\n</div>\n\n<tk-backface\n  role=\"presentation\"\n  image=\"${image}\"\n  filter=\"${filter}\"></tk-backface>\n`;\n}\n\nexport enum TalkieSlideAttributes {\n  BACKFACE = 'backface',\n  BACKFACE_FILTER = 'backface-filter',\n  TYPE = 'type',\n}\n\nexport class TalkieSlide extends HTMLElement {\n  static get ns() {\n    return 'tk-slide';\n  }\n\n  constructor() {\n    super();\n  }\n\n  public getLayoutElement(): HTMLElement {\n    if (this.shadowRoot == null) {\n      throw new Error('shadowRoot not initialized yet');\n    }\n\n    return <HTMLElement>this.shadowRoot.querySelector('.layout-slot');\n  }\n\n  public toVisible() {\n    this.setAttribute('aria-hidden', 'false');\n  }\n\n  public toInvisible() {\n    this.setAttribute('aria-hidden', 'true');\n  }\n\n  public connectedCallback(): void {\n    if (this.getAttribute(TalkieSlideAttributes.TYPE) === 'text/x-markdown') {\n      this.innerHTML = compileMarkdown(this.innerHTML.replace('&gt;', '>'));\n    }\n\n    this.attachShadow({ mode: 'open' });\n    this.render();\n    this.inheritAttributesToLayoutSlot();\n  }\n\n  public inheritAttributesToLayoutSlot() {\n    const layoutEl: HTMLElement = this.getLayoutElement();\n    const ownAttributes: string[] = Object.keys(TalkieSlideAttributes).map((key: string) => TalkieSlideAttributes[key]);\n\n    /**\n     * FIXME This is a WORKAROUND :(\n     *\n     * In Array.from, InvalidCharacterError occurred in EdgeHTML 16.16299.\n     * Therefore, convert it to Array in the following way.\n     */\n    Array.prototype.slice\n      .call(this.attributes)\n      .filter((attr: Attr) => !ownAttributes.includes(attr.name))\n      .forEach((attr: Attr) => {\n        layoutEl.setAttribute(attr.name, attr.value);\n      });\n\n    /**\n     * Properties such as `display: flex` usually require declaration both in parent element in LightDOM and in parent element in <slot>.\n     * However, if `ShadyDOM` is enabled, simply applying style will duplicate, so delete the `layout` attribute which causes it in Talkie.\n     */\n    if ((<any>window).ShadyDOM != null) {\n      this.removeAttribute('layout');\n    }\n  }\n\n  private render() {\n    if (this.shadowRoot == null) {\n      throw new Error('shadowRoot not initialized yet');\n    }\n\n    render(\n      template({\n        image: this.getAttribute(TalkieSlideAttributes.BACKFACE) || '',\n        filter: this.getAttribute(TalkieSlideAttributes.BACKFACE_FILTER) || '',\n      }),\n      this.shadowRoot,\n      TalkieSlide.ns,\n    );\n  }\n}\n","// Source: http://jsfiddle.net/vWx8V/\n// http://stackoverflow.com/questions/5603195/full-list-of-javascript-keycodes\n\n/**\n * Conenience method returns corresponding value for given keyName or keyCode.\n *\n * @param {Mixed} keyCode {Number} or keyName {String}\n * @return {Mixed}\n * @api public\n */\n\nfunction keyCode(searchInput) {\n  // Keyboard Events\n  if (searchInput && 'object' === typeof searchInput) {\n    var hasKeyCode = searchInput.which || searchInput.keyCode || searchInput.charCode\n    if (hasKeyCode) searchInput = hasKeyCode\n  }\n\n  // Numbers\n  if ('number' === typeof searchInput) return names[searchInput]\n\n  // Everything else (cast to string)\n  var search = String(searchInput)\n\n  // check codes\n  var foundNamedKey = codes[search.toLowerCase()]\n  if (foundNamedKey) return foundNamedKey\n\n  // check aliases\n  var foundNamedKey = aliases[search.toLowerCase()]\n  if (foundNamedKey) return foundNamedKey\n\n  // weird character?\n  if (search.length === 1) return search.charCodeAt(0)\n\n  return undefined\n}\n\n/**\n * Compares a keyboard event with a given keyCode or keyName.\n *\n * @param {Event} event Keyboard event that should be tested\n * @param {Mixed} keyCode {Number} or keyName {String}\n * @return {Boolean}\n * @api public\n */\nkeyCode.isEventKey = function isEventKey(event, nameOrCode) {\n  if (event && 'object' === typeof event) {\n    var keyCode = event.which || event.keyCode || event.charCode\n    if (keyCode === null || keyCode === undefined) { return false; }\n    if (typeof nameOrCode === 'string') {\n      // check codes\n      var foundNamedKey = codes[nameOrCode.toLowerCase()]\n      if (foundNamedKey) { return foundNamedKey === keyCode; }\n    \n      // check aliases\n      var foundNamedKey = aliases[nameOrCode.toLowerCase()]\n      if (foundNamedKey) { return foundNamedKey === keyCode; }\n    } else if (typeof nameOrCode === 'number') {\n      return nameOrCode === keyCode;\n    }\n    return false;\n  }\n}\n\nexports = module.exports = keyCode;\n\n/**\n * Get by name\n *\n *   exports.code['enter'] // => 13\n */\n\nvar codes = exports.code = exports.codes = {\n  'backspace': 8,\n  'tab': 9,\n  'enter': 13,\n  'shift': 16,\n  'ctrl': 17,\n  'alt': 18,\n  'pause/break': 19,\n  'caps lock': 20,\n  'esc': 27,\n  'space': 32,\n  'page up': 33,\n  'page down': 34,\n  'end': 35,\n  'home': 36,\n  'left': 37,\n  'up': 38,\n  'right': 39,\n  'down': 40,\n  'insert': 45,\n  'delete': 46,\n  'command': 91,\n  'left command': 91,\n  'right command': 93,\n  'numpad *': 106,\n  'numpad +': 107,\n  'numpad -': 109,\n  'numpad .': 110,\n  'numpad /': 111,\n  'num lock': 144,\n  'scroll lock': 145,\n  'my computer': 182,\n  'my calculator': 183,\n  ';': 186,\n  '=': 187,\n  ',': 188,\n  '-': 189,\n  '.': 190,\n  '/': 191,\n  '`': 192,\n  '[': 219,\n  '\\\\': 220,\n  ']': 221,\n  \"'\": 222\n}\n\n// Helper aliases\n\nvar aliases = exports.aliases = {\n  'windows': 91,\n  '': 16,\n  '': 18,\n  '': 17,\n  '': 91,\n  'ctl': 17,\n  'control': 17,\n  'option': 18,\n  'pause': 19,\n  'break': 19,\n  'caps': 20,\n  'return': 13,\n  'escape': 27,\n  'spc': 32,\n  'spacebar': 32,\n  'pgup': 33,\n  'pgdn': 34,\n  'ins': 45,\n  'del': 46,\n  'cmd': 91\n}\n\n/*!\n * Programatically add the following\n */\n\n// lower case chars\nfor (i = 97; i < 123; i++) codes[String.fromCharCode(i)] = i - 32\n\n// numbers\nfor (var i = 48; i < 58; i++) codes[i - 48] = i\n\n// function keys\nfor (i = 1; i < 13; i++) codes['f'+i] = i + 111\n\n// numpad keys\nfor (i = 0; i < 10; i++) codes['numpad '+i] = i + 96\n\n/**\n * Get by code\n *\n *   exports.name[13] // => 'Enter'\n */\n\nvar names = exports.names = exports.title = {} // title for backward compat\n\n// Create reverse mapping\nfor (i in codes) names[codes[i]] = i\n\n// Add aliases\nfor (var alias in aliases) {\n  codes[alias] = aliases[alias]\n}\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar nextHandle = 0;\nvar tasksByHandle = {};\nfunction runIfPresent(handle) {\n    var cb = tasksByHandle[handle];\n    if (cb) {\n        cb();\n    }\n}\nexport var Immediate = {\n    setImmediate: function (cb) {\n        var handle = nextHandle++;\n        tasksByHandle[handle] = cb;\n        Promise.resolve().then(function () { return runIfPresent(handle); });\n        return handle;\n    },\n    clearImmediate: function (handle) {\n        delete tasksByHandle[handle];\n    },\n};\n//# sourceMappingURL=Immediate.js.map\n","/** PURE_IMPORTS_START tslib,.._util_Immediate,._AsyncAction PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Immediate } from '../util/Immediate';\nimport { AsyncAction } from './AsyncAction';\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar AsapAction = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(AsapAction, _super);\n    function AsapAction(scheduler, work) {\n        var _this = _super.call(this, scheduler, work) || this;\n        _this.scheduler = scheduler;\n        _this.work = work;\n        return _this;\n    }\n    AsapAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        // If delay is greater than 0, request as an async action.\n        if (delay !== null && delay > 0) {\n            return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);\n        }\n        // Push the action to the end of the scheduler queue.\n        scheduler.actions.push(this);\n        // If a microtask has already been scheduled, don't schedule another\n        // one. If a microtask hasn't been scheduled yet, schedule one now. Return\n        // the current scheduled microtask id.\n        return scheduler.scheduled || (scheduler.scheduled = Immediate.setImmediate(scheduler.flush.bind(scheduler, null)));\n    };\n    AsapAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        // If delay exists and is greater than 0, or if the delay is null (the\n        // action wasn't rescheduled) but was originally scheduled as an async\n        // action, then recycle as an async action.\n        if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {\n            return _super.prototype.recycleAsyncId.call(this, scheduler, id, delay);\n        }\n        // If the scheduler queue is empty, cancel the requested microtask and\n        // set the scheduled flag to undefined so the next AsapAction will schedule\n        // its own.\n        if (scheduler.actions.length === 0) {\n            Immediate.clearImmediate(id);\n            scheduler.scheduled = undefined;\n        }\n        // Return undefined so the action knows to request a new async id if it's rescheduled.\n        return undefined;\n    };\n    return AsapAction;\n}(AsyncAction));\nexport { AsapAction };\n//# sourceMappingURL=AsapAction.js.map\n","/** PURE_IMPORTS_START tslib,._AsyncScheduler PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { AsyncScheduler } from './AsyncScheduler';\nvar AsapScheduler = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(AsapScheduler, _super);\n    function AsapScheduler() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AsapScheduler.prototype.flush = function (action) {\n        this.active = true;\n        this.scheduled = undefined;\n        var actions = this.actions;\n        var error;\n        var index = -1;\n        var count = actions.length;\n        action = action || actions.shift();\n        do {\n            if (error = action.execute(action.state, action.delay)) {\n                break;\n            }\n        } while (++index < count && (action = actions.shift()));\n        this.active = false;\n        if (error) {\n            while (++index < count && (action = actions.shift())) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    };\n    return AsapScheduler;\n}(AsyncScheduler));\nexport { AsapScheduler };\n//# sourceMappingURL=AsapScheduler.js.map\n","/** PURE_IMPORTS_START ._AsapAction,._AsapScheduler PURE_IMPORTS_END */\nimport { AsapAction } from './AsapAction';\nimport { AsapScheduler } from './AsapScheduler';\n/**\n *\n * Asap Scheduler\n *\n * <span class=\"informal\">Perform task as fast as it can be performed asynchronously</span>\n *\n * `asap` scheduler behaves the same as {@link async} scheduler when you use it to delay task\n * in time. If however you set delay to `0`, `asap` will wait for current synchronously executing\n * code to end and then it will try to execute given task as fast as possible.\n *\n * `asap` scheduler will do its best to minimize time between end of currently executing code\n * and start of scheduled task. This makes it best candidate for performing so called \"deferring\".\n * Traditionally this was achieved by calling `setTimeout(deferredTask, 0)`, but that technique involves\n * some (although minimal) unwanted delay.\n *\n * Note that using `asap` scheduler does not necessarily mean that your task will be first to process\n * after currently executing code. In particular, if some task was also scheduled with `asap` before,\n * that task will execute first. That being said, if you need to schedule task asynchronously, but\n * as soon as possible, `asap` scheduler is your best bet.\n *\n * @example <caption>Compare async and asap scheduler</caption>\n *\n * Rx.Scheduler.async.schedule(() => console.log('async')); // scheduling 'async' first...\n * Rx.Scheduler.asap.schedule(() => console.log('asap'));\n *\n * // Logs:\n * // \"asap\"\n * // \"async\"\n * // ... but 'asap' goes first!\n *\n * @static true\n * @name asap\n * @owner Scheduler\n */\nexport var asap = /*@__PURE__*/ new AsapScheduler(AsapAction);\n//# sourceMappingURL=asap.js.map\n","/** PURE_IMPORTS_START tslib,._AsyncAction PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { AsyncAction } from './AsyncAction';\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar AnimationFrameAction = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(AnimationFrameAction, _super);\n    function AnimationFrameAction(scheduler, work) {\n        var _this = _super.call(this, scheduler, work) || this;\n        _this.scheduler = scheduler;\n        _this.work = work;\n        return _this;\n    }\n    AnimationFrameAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        // If delay is greater than 0, request as an async action.\n        if (delay !== null && delay > 0) {\n            return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);\n        }\n        // Push the action to the end of the scheduler queue.\n        scheduler.actions.push(this);\n        // If an animation frame has already been requested, don't request another\n        // one. If an animation frame hasn't been requested yet, request one. Return\n        // the current animation frame request id.\n        return scheduler.scheduled || (scheduler.scheduled = requestAnimationFrame(function () { return scheduler.flush(null); }));\n    };\n    AnimationFrameAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        // If delay exists and is greater than 0, or if the delay is null (the\n        // action wasn't rescheduled) but was originally scheduled as an async\n        // action, then recycle as an async action.\n        if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {\n            return _super.prototype.recycleAsyncId.call(this, scheduler, id, delay);\n        }\n        // If the scheduler queue is empty, cancel the requested animation frame and\n        // set the scheduled flag to undefined so the next AnimationFrameAction will\n        // request its own.\n        if (scheduler.actions.length === 0) {\n            cancelAnimationFrame(id);\n            scheduler.scheduled = undefined;\n        }\n        // Return undefined so the action knows to request a new async id if it's rescheduled.\n        return undefined;\n    };\n    return AnimationFrameAction;\n}(AsyncAction));\nexport { AnimationFrameAction };\n//# sourceMappingURL=AnimationFrameAction.js.map\n","/** PURE_IMPORTS_START tslib,._AsyncScheduler PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { AsyncScheduler } from './AsyncScheduler';\nvar AnimationFrameScheduler = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(AnimationFrameScheduler, _super);\n    function AnimationFrameScheduler() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AnimationFrameScheduler.prototype.flush = function (action) {\n        this.active = true;\n        this.scheduled = undefined;\n        var actions = this.actions;\n        var error;\n        var index = -1;\n        var count = actions.length;\n        action = action || actions.shift();\n        do {\n            if (error = action.execute(action.state, action.delay)) {\n                break;\n            }\n        } while (++index < count && (action = actions.shift()));\n        this.active = false;\n        if (error) {\n            while (++index < count && (action = actions.shift())) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    };\n    return AnimationFrameScheduler;\n}(AsyncScheduler));\nexport { AnimationFrameScheduler };\n//# sourceMappingURL=AnimationFrameScheduler.js.map\n","/** PURE_IMPORTS_START ._AnimationFrameAction,._AnimationFrameScheduler PURE_IMPORTS_END */\nimport { AnimationFrameAction } from './AnimationFrameAction';\nimport { AnimationFrameScheduler } from './AnimationFrameScheduler';\n/**\n *\n * Animation Frame Scheduler\n *\n * <span class=\"informal\">Perform task when `window.requestAnimationFrame` would fire</span>\n *\n * When `animationFrame` scheduler is used with delay, it will fall back to {@link async} scheduler\n * behaviour.\n *\n * Without delay, `animationFrame` scheduler can be used to create smooth browser animations.\n * It makes sure scheduled task will happen just before next browser content repaint,\n * thus performing animations as efficiently as possible.\n *\n * @example <caption>Schedule div height animation</caption>\n * const div = document.querySelector('.some-div');\n *\n * Rx.Scheduler.animationFrame.schedule(function(height) {\n *   div.style.height = height + \"px\";\n *\n *   this.schedule(height + 1);  // `this` references currently executing Action,\n *                               // which we reschedule with new state\n * }, 0, 0);\n *\n * // You will see .some-div element growing in height\n *\n *\n * @static true\n * @name animationFrame\n * @owner Scheduler\n */\nexport var animationFrame = /*@__PURE__*/ new AnimationFrameScheduler(AnimationFrameAction);\n//# sourceMappingURL=animationFrame.js.map\n","/** PURE_IMPORTS_START tslib,._AsyncAction,._AsyncScheduler PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { AsyncAction } from './AsyncAction';\nimport { AsyncScheduler } from './AsyncScheduler';\nvar VirtualTimeScheduler = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(VirtualTimeScheduler, _super);\n    function VirtualTimeScheduler(SchedulerAction, maxFrames) {\n        if (SchedulerAction === void 0) {\n            SchedulerAction = VirtualAction;\n        }\n        if (maxFrames === void 0) {\n            maxFrames = Number.POSITIVE_INFINITY;\n        }\n        var _this = _super.call(this, SchedulerAction, function () { return _this.frame; }) || this;\n        _this.maxFrames = maxFrames;\n        _this.frame = 0;\n        _this.index = -1;\n        return _this;\n    }\n    /**\n     * Prompt the Scheduler to execute all of its queued actions, therefore\n     * clearing its queue.\n     * @return {void}\n     */\n    VirtualTimeScheduler.prototype.flush = function () {\n        var _a = this, actions = _a.actions, maxFrames = _a.maxFrames;\n        var error, action;\n        while ((action = actions.shift()) && (this.frame = action.delay) <= maxFrames) {\n            if (error = action.execute(action.state, action.delay)) {\n                break;\n            }\n        }\n        if (error) {\n            while (action = actions.shift()) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    };\n    VirtualTimeScheduler.frameTimeFactor = 10;\n    return VirtualTimeScheduler;\n}(AsyncScheduler));\nexport { VirtualTimeScheduler };\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar VirtualAction = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(VirtualAction, _super);\n    function VirtualAction(scheduler, work, index) {\n        if (index === void 0) {\n            index = scheduler.index += 1;\n        }\n        var _this = _super.call(this, scheduler, work) || this;\n        _this.scheduler = scheduler;\n        _this.work = work;\n        _this.index = index;\n        _this.active = true;\n        _this.index = scheduler.index = index;\n        return _this;\n    }\n    VirtualAction.prototype.schedule = function (state, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        if (!this.id) {\n            return _super.prototype.schedule.call(this, state, delay);\n        }\n        this.active = false;\n        // If an action is rescheduled, we save allocations by mutating its state,\n        // pushing it to the end of the scheduler queue, and recycling the action.\n        // But since the VirtualTimeScheduler is used for testing, VirtualActions\n        // must be immutable so they can be inspected later.\n        var action = new VirtualAction(this.scheduler, this.work);\n        this.add(action);\n        return action.schedule(state, delay);\n    };\n    VirtualAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        this.delay = scheduler.frame + delay;\n        var actions = scheduler.actions;\n        actions.push(this);\n        actions.sort(VirtualAction.sortActions);\n        return true;\n    };\n    VirtualAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        return undefined;\n    };\n    VirtualAction.prototype._execute = function (state, delay) {\n        if (this.active === true) {\n            return _super.prototype._execute.call(this, state, delay);\n        }\n    };\n    VirtualAction.sortActions = function (a, b) {\n        if (a.delay === b.delay) {\n            if (a.index === b.index) {\n                return 0;\n            }\n            else if (a.index > b.index) {\n                return 1;\n            }\n            else {\n                return -1;\n            }\n        }\n        else if (a.delay > b.delay) {\n            return 1;\n        }\n        else {\n            return -1;\n        }\n    };\n    return VirtualAction;\n}(AsyncAction));\nexport { VirtualAction };\n//# sourceMappingURL=VirtualTimeScheduler.js.map\n","/** PURE_IMPORTS_START .._Observable,.._AsyncSubject PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { AsyncSubject } from '../AsyncSubject';\n// tslint:enable:max-line-length\n/**\n * Converts a callback API to a function that returns an Observable.\n *\n * <span class=\"informal\">Give it a function `f` of type `f(x, callback)` and\n * it will return a function `g` that when called as `g(x)` will output an\n * Observable.</span>\n *\n * `bindCallback` is not an operator because its input and output are not\n * Observables. The input is a function `func` with some parameters, the\n * last parameter must be a callback function that `func` calls when it is\n * done.\n *\n * The output of `bindCallback` is a function that takes the same parameters\n * as `func`, except the last one (the callback). When the output function\n * is called with arguments it will return an Observable. If function `func`\n * calls its callback with one argument the Observable will emit that value.\n * If on the other hand the callback is called with multiple values the resulting\n * Observable will emit an array with said values as arguments.\n *\n * It is very important to remember that input function `func` is not called\n * when the output function is, but rather when the Observable returned by the output\n * function is subscribed. This means if `func` makes an AJAX request, that request\n * will be made every time someone subscribes to the resulting Observable, but not before.\n *\n * The last optional parameter - {@link Scheduler} - can be used to control when the call\n * to `func` happens after someone subscribes to Observable, as well as when results\n * passed to callback will be emitted. By default, the subscription to  an Observable calls `func`\n * synchronously, but using `Scheduler.async` as the last parameter will defer the call to `func`,\n * just like wrapping the call in `setTimeout` with a timeout of `0` would. If you use the async Scheduler\n * and call `subscribe` on the output Observable all function calls that are currently executing\n * will end before `func` is invoked.\n *\n * By default results passed to the callback are emitted immediately after `func` invokes the callback.\n * In particular, if the callback is called synchronously the subscription of the resulting Observable\n * will call the `next` function synchronously as well.  If you want to defer that call,\n * you may use `Scheduler.async` just as before.  This means that by using `Scheduler.async` you can\n * ensure that `func` always calls its callback asynchronously, thus avoiding terrifying Zalgo.\n *\n * Note that the Observable created by the output function will always emit a single value\n * and then complete immediately. If `func` calls the callback multiple times, values from subsequent\n * calls will not appear in the stream. If you need to listen for multiple calls,\n *  you probably want to use {@link fromEvent} or {@link fromEventPattern} instead.\n *\n * If `func` depends on some context (`this` property) and is not already bound the context of `func`\n * will be the context that the output function has at call time. In particular, if `func`\n * is called as a method of some objec and if `func` is not already bound, in order to preserve the context\n * it is recommended that the context of the output function is set to that object as well.\n *\n * If the input function calls its callback in the \"node style\" (i.e. first argument to callback is\n * optional error parameter signaling whether the call failed or not), {@link bindNodeCallback}\n * provides convenient error handling and probably is a better choice.\n * `bindCallback` will treat such functions the same as any other and error parameters\n * (whether passed or not) will always be interpreted as regular callback argument.\n *\n *\n * @example <caption>Convert jQuery's getJSON to an Observable API</caption>\n * // Suppose we have jQuery.getJSON('/my/url', callback)\n * var getJSONAsObservable = bindCallback(jQuery.getJSON);\n * var result = getJSONAsObservable('/my/url');\n * result.subscribe(x => console.log(x), e => console.error(e));\n *\n *\n * @example <caption>Receive an array of arguments passed to a callback</caption>\n * someFunction((a, b, c) => {\n *   console.log(a); // 5\n *   console.log(b); // 'some string'\n *   console.log(c); // {someProperty: 'someValue'}\n * });\n *\n * const boundSomeFunction = bindCallback(someFunction);\n * boundSomeFunction().subscribe(values => {\n *   console.log(values) // [5, 'some string', {someProperty: 'someValue'}]\n * });\n *\n *\n * @example <caption>Compare behaviour with and without async Scheduler</caption>\n * function iCallMyCallbackSynchronously(cb) {\n *   cb();\n * }\n *\n * const boundSyncFn = bindCallback(iCallMyCallbackSynchronously);\n * const boundAsyncFn = bindCallback(iCallMyCallbackSynchronously, null, Rx.Scheduler.async);\n *\n * boundSyncFn().subscribe(() => console.log('I was sync!'));\n * boundAsyncFn().subscribe(() => console.log('I was async!'));\n * console.log('This happened...');\n *\n * // Logs:\n * // I was sync!\n * // This happened...\n * // I was async!\n *\n *\n * @example <caption>Use bindCallback on an object method</caption>\n * const boundMethod = bindCallback(someObject.methodWithCallback);\n * boundMethod.call(someObject) // make sure methodWithCallback has access to someObject\n * .subscribe(subscriber);\n *\n *\n * @see {@link bindNodeCallback}\n * @see {@link from}\n * @see {@link fromPromise}\n *\n * @param {function} func A function with a callback as the last parameter.\n * @param {Scheduler} [scheduler] The scheduler on which to schedule the\n * callbacks.\n * @return {function(...params: *): Observable} A function which returns the\n * Observable that delivers the same values the callback would deliver.\n * @name bindCallback\n */\nexport function bindCallback(callbackFunc, scheduler) {\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var context = this;\n        var subject;\n        var params = {\n            context: context,\n            subject: subject,\n            callbackFunc: callbackFunc,\n            scheduler: scheduler,\n        };\n        return new Observable(function (subscriber) {\n            if (!scheduler) {\n                if (!subject) {\n                    subject = new AsyncSubject();\n                    var handler = function () {\n                        var innerArgs = [];\n                        for (var _i = 0; _i < arguments.length; _i++) {\n                            innerArgs[_i] = arguments[_i];\n                        }\n                        subject.next(innerArgs.length <= 1 ? innerArgs[0] : innerArgs);\n                        subject.complete();\n                    };\n                    try {\n                        callbackFunc.apply(context, args.concat([handler]));\n                    }\n                    catch (err) {\n                        subject.error(err);\n                    }\n                }\n                return subject.subscribe(subscriber);\n            }\n            else {\n                var state = {\n                    args: args, subscriber: subscriber, params: params,\n                };\n                return scheduler.schedule(dispatch, 0, state);\n            }\n        });\n    };\n}\nfunction dispatch(state) {\n    var _this = this;\n    var self = this;\n    var args = state.args, subscriber = state.subscriber, params = state.params;\n    var callbackFunc = params.callbackFunc, context = params.context, scheduler = params.scheduler;\n    var subject = params.subject;\n    if (!subject) {\n        subject = params.subject = new AsyncSubject();\n        var handler = function () {\n            var innerArgs = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                innerArgs[_i] = arguments[_i];\n            }\n            var value = innerArgs.length <= 1 ? innerArgs[0] : innerArgs;\n            _this.add(scheduler.schedule(dispatchNext, 0, { value: value, subject: subject }));\n        };\n        try {\n            callbackFunc.apply(context, args.concat([handler]));\n        }\n        catch (err) {\n            subject.error(err);\n        }\n    }\n    this.add(subject.subscribe(subscriber));\n}\nfunction dispatchNext(state) {\n    var value = state.value, subject = state.subject;\n    subject.next(value);\n    subject.complete();\n}\nfunction dispatchError(state) {\n    var err = state.err, subject = state.subject;\n    subject.error(err);\n}\n//# sourceMappingURL=bindCallback.js.map\n","/** PURE_IMPORTS_START .._Observable,.._AsyncSubject PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { AsyncSubject } from '../AsyncSubject';\n/* tslint:enable:max-line-length */\n/**\n * Converts a Node.js-style callback API to a function that returns an\n * Observable.\n *\n * <span class=\"informal\">It's just like {@link bindCallback}, but the\n * callback is expected to be of type `callback(error, result)`.</span>\n *\n * `bindNodeCallback` is not an operator because its input and output are not\n * Observables. The input is a function `func` with some parameters, but the\n * last parameter must be a callback function that `func` calls when it is\n * done. The callback function is expected to follow Node.js conventions,\n * where the first argument to the callback is an error object, signaling\n * whether call was successful. If that object is passed to callback, it means\n * something went wrong.\n *\n * The output of `bindNodeCallback` is a function that takes the same\n * parameters as `func`, except the last one (the callback). When the output\n * function is called with arguments, it will return an Observable.\n * If `func` calls its callback with error parameter present, Observable will\n * error with that value as well. If error parameter is not passed, Observable will emit\n * second parameter. If there are more parameters (third and so on),\n * Observable will emit an array with all arguments, except first error argument.\n *\n * Note that `func` will not be called at the same time output function is,\n * but rather whenever resulting Observable is subscribed. By default call to\n * `func` will happen synchronously after subscription, but that can be changed\n * with proper {@link Scheduler} provided as optional third parameter. Scheduler\n * can also control when values from callback will be emitted by Observable.\n * To find out more, check out documentation for {@link bindCallback}, where\n * Scheduler works exactly the same.\n *\n * As in {@link bindCallback}, context (`this` property) of input function will be set to context\n * of returned function, when it is called.\n *\n * After Observable emits value, it will complete immediately. This means\n * even if `func` calls callback again, values from second and consecutive\n * calls will never appear on the stream. If you need to handle functions\n * that call callbacks multiple times, check out {@link fromEvent} or\n * {@link fromEventPattern} instead.\n *\n * Note that `bindNodeCallback` can be used in non-Node.js environments as well.\n * \"Node.js-style\" callbacks are just a convention, so if you write for\n * browsers or any other environment and API you use implements that callback style,\n * `bindNodeCallback` can be safely used on that API functions as well.\n *\n * Remember that Error object passed to callback does not have to be an instance\n * of JavaScript built-in `Error` object. In fact, it does not even have to an object.\n * Error parameter of callback function is interpreted as \"present\", when value\n * of that parameter is truthy. It could be, for example, non-zero number, non-empty\n * string or boolean `true`. In all of these cases resulting Observable would error\n * with that value. This means usually regular style callbacks will fail very often when\n * `bindNodeCallback` is used. If your Observable errors much more often then you\n * would expect, check if callback really is called in Node.js-style and, if not,\n * switch to {@link bindCallback} instead.\n *\n * Note that even if error parameter is technically present in callback, but its value\n * is falsy, it still won't appear in array emitted by Observable.\n *\n *\n * @example <caption>Read a file from the filesystem and get the data as an Observable</caption>\n * import * as fs from 'fs';\n * var readFileAsObservable = bindNodeCallback(fs.readFile);\n * var result = readFileAsObservable('./roadNames.txt', 'utf8');\n * result.subscribe(x => console.log(x), e => console.error(e));\n *\n *\n * @example <caption>Use on function calling callback with multiple arguments</caption>\n * someFunction((err, a, b) => {\n *   console.log(err); // null\n *   console.log(a); // 5\n *   console.log(b); // \"some string\"\n * });\n * var boundSomeFunction = bindNodeCallback(someFunction);\n * boundSomeFunction()\n * .subscribe(value => {\n *   console.log(value); // [5, \"some string\"]\n * });\n *\n * @example <caption>Use on function calling callback in regular style</caption>\n * someFunction(a => {\n *   console.log(a); // 5\n * });\n * var boundSomeFunction = bindNodeCallback(someFunction);\n * boundSomeFunction()\n * .subscribe(\n *   value => {}             // never gets called\n *   err => console.log(err) // 5\n * );\n *\n *\n * @see {@link bindCallback}\n * @see {@link from}\n * @see {@link fromPromise}\n *\n * @param {function} func Function with a Node.js-style callback as the last parameter.\n * @param {Scheduler} [scheduler] The scheduler on which to schedule the\n * callbacks.\n * @return {function(...params: *): Observable} A function which returns the\n * Observable that delivers the same values the Node.js callback would\n * deliver.\n * @name bindNodeCallback\n */\nexport function bindNodeCallback(callbackFunc, scheduler) {\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var params = {\n            subject: undefined,\n            args: args,\n            callbackFunc: callbackFunc,\n            scheduler: scheduler,\n            context: this,\n        };\n        return new Observable(function (subscriber) {\n            var context = params.context;\n            var subject = params.subject;\n            if (!scheduler) {\n                if (!subject) {\n                    subject = params.subject = new AsyncSubject();\n                    var handler = function handlerFn() {\n                        var innerArgs = [];\n                        for (var _i = 0; _i < arguments.length; _i++) {\n                            innerArgs[_i] = arguments[_i];\n                        }\n                        var err = innerArgs.shift();\n                        if (err) {\n                            subject.error(err);\n                            return;\n                        }\n                        subject.next(innerArgs.length <= 1 ? innerArgs[0] : innerArgs);\n                        subject.complete();\n                    };\n                    try {\n                        callbackFunc.apply(context, args.concat([handler]));\n                    }\n                    catch (err) {\n                        subject.error(err);\n                    }\n                }\n                return subject.subscribe(subscriber);\n            }\n            else {\n                return scheduler.schedule(dispatch, 0, { params: params, subscriber: subscriber, context: context });\n            }\n        });\n    };\n}\nfunction dispatch(state) {\n    var _this = this;\n    var params = state.params, subscriber = state.subscriber, context = state.context;\n    var callbackFunc = params.callbackFunc, args = params.args, scheduler = params.scheduler;\n    var subject = params.subject;\n    if (!subject) {\n        subject = params.subject = new AsyncSubject();\n        var handler = function () {\n            var innerArgs = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                innerArgs[_i] = arguments[_i];\n            }\n            var err = innerArgs.shift();\n            if (err) {\n                _this.add(scheduler.schedule(dispatchError, 0, { err: err, subject: subject }));\n            }\n            else {\n                var value = innerArgs.length <= 1 ? innerArgs[0] : innerArgs;\n                _this.add(scheduler.schedule(dispatchNext, 0, { value: value, subject: subject }));\n            }\n        };\n        try {\n            callbackFunc.apply(context, args.concat([handler]));\n        }\n        catch (err) {\n            this.add(scheduler.schedule(dispatchError, 0, { err: err, subject: subject }));\n        }\n    }\n    this.add(subject.subscribe(subscriber));\n}\nfunction dispatchNext(arg) {\n    var value = arg.value, subject = arg.subject;\n    subject.next(value);\n    subject.complete();\n}\nfunction dispatchError(arg) {\n    var err = arg.err, subject = arg.subject;\n    subject.error(err);\n}\n//# sourceMappingURL=bindNodeCallback.js.map\n","/** PURE_IMPORTS_START .._Observable,._from,._empty PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { from } from './from'; // lol\nimport { empty } from './empty';\n/**\n * Creates an Observable that, on subscribe, calls an Observable factory to\n * make an Observable for each new Observer.\n *\n * <span class=\"informal\">Creates the Observable lazily, that is, only when it\n * is subscribed.\n * </span>\n *\n * <img src=\"./img/defer.png\" width=\"100%\">\n *\n * `defer` allows you to create the Observable only when the Observer\n * subscribes, and create a fresh Observable for each Observer. It waits until\n * an Observer subscribes to it, and then it generates an Observable,\n * typically with an Observable factory function. It does this afresh for each\n * subscriber, so although each subscriber may think it is subscribing to the\n * same Observable, in fact each subscriber gets its own individual\n * Observable.\n *\n * @example <caption>Subscribe to either an Observable of clicks or an Observable of interval, at random</caption>\n * var clicksOrInterval = Rx.Observable.defer(function () {\n *   if (Math.random() > 0.5) {\n *     return Rx.Observable.fromEvent(document, 'click');\n *   } else {\n *     return Rx.Observable.interval(1000);\n *   }\n * });\n * clicksOrInterval.subscribe(x => console.log(x));\n *\n * // Results in the following behavior:\n * // If the result of Math.random() is greater than 0.5 it will listen\n * // for clicks anywhere on the \"document\"; when document is clicked it\n * // will log a MouseEvent object to the console. If the result is less\n * // than 0.5 it will emit ascending numbers, one every second(1000ms).\n *\n * @see {@link create}\n *\n * @param {function(): SubscribableOrPromise} observableFactory The Observable\n * factory function to invoke for each Observer that subscribes to the output\n * Observable. May also return a Promise, which will be converted on the fly\n * to an Observable.\n * @return {Observable} An Observable whose Observers' subscriptions trigger\n * an invocation of the given Observable factory function.\n * @static true\n * @name defer\n * @owner Observable\n */\nexport function defer(observableFactory) {\n    return new Observable(function (subscriber) {\n        var input;\n        try {\n            input = observableFactory();\n        }\n        catch (err) {\n            subscriber.error(err);\n            return undefined;\n        }\n        var source = input ? from(input) : empty();\n        return source.subscribe(subscriber);\n    });\n}\n//# sourceMappingURL=defer.js.map\n","/** PURE_IMPORTS_START tslib,.._Observable,.._util_isArray,._empty,.._util_subscribeToResult,.._OuterSubscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Observable } from '../Observable';\nimport { isArray } from '../util/isArray';\nimport { EMPTY } from './empty';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { OuterSubscriber } from '../OuterSubscriber';\n/* tslint:enable:max-line-length */\n/**\n * Joins last values emitted by passed Observables.\n *\n * <span class=\"informal\">Wait for Observables to complete and then combine last values they emitted.</span>\n *\n * <img src=\"./img/forkJoin.png\" width=\"100%\">\n *\n * `forkJoin` is an operator that takes any number of Observables which can be passed either as an array\n * or directly as arguments. If no input Observables are provided, resulting stream will complete\n * immediately.\n *\n * `forkJoin` will wait for all passed Observables to complete and then it will emit an array with last\n * values from corresponding Observables. So if you pass `n` Observables to the operator, resulting\n * array will have `n` values, where first value is the last thing emitted by the first Observable,\n * second value is the last thing emitted by the second Observable and so on. That means `forkJoin` will\n * not emit more than once and it will complete after that. If you need to emit combined values not only\n * at the end of lifecycle of passed Observables, but also throughout it, try out {@link combineLatest}\n * or {@link zip} instead.\n *\n * In order for resulting array to have the same length as the number of input Observables, whenever any of\n * that Observables completes without emitting any value, `forkJoin` will complete at that moment as well\n * and it will not emit anything either, even if it already has some last values from other Observables.\n * Conversely, if there is an Observable that never completes, `forkJoin` will never complete as well,\n * unless at any point some other Observable completes without emitting value, which brings us back to\n * the previous case. Overall, in order for `forkJoin` to emit a value, all Observables passed as arguments\n * have to emit something at least once and complete.\n *\n * If any input Observable errors at some point, `forkJoin` will error as well and all other Observables\n * will be immediately unsubscribed.\n *\n * Optionally `forkJoin` accepts project function, that will be called with values which normally\n * would land in emitted array. Whatever is returned by project function, will appear in output\n * Observable instead. This means that default project can be thought of as a function that takes\n * all its arguments and puts them into an array. Note that project function will be called only\n * when output Observable is supposed to emit a result.\n *\n * @example <caption>Use forkJoin with operator emitting immediately</caption>\n * import { forkJoin, of } from 'rxjs/create';\n *\n * const observable = forkJoin(\n *   of(1, 2, 3, 4),\n *   of(5, 6, 7, 8)\n * );\n * observable.subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('This is how it ends!')\n * );\n *\n * // Logs:\n * // [4, 8]\n * // \"This is how it ends!\"\n *\n *\n * @example <caption>Use forkJoin with operator emitting after some time</caption>\n * import { forkJoin, interval } from 'rxjs/create';\n * import { take } from 'rxjs/operators';\n *\n * const observable = forkJoin(\n *   interval(1000).pipe(take(3)), // emit 0, 1, 2 every second and complete\n *   interval(500).pipe(take(4)) // emit 0, 1, 2, 3 every half a second and complete\n * );\n * observable.subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('This is how it ends!')\n * );\n *\n * // Logs:\n * // [2, 3] after 3 seconds\n * // \"This is how it ends!\" immediately after\n *\n *\n * @example <caption>Use forkJoin with project function</caption>\n * import { jorkJoin, interval } from 'rxjs/create';\n * import { take } from 'rxjs/operators';\n *\n * const observable = forkJoin(\n *   interval(1000).pipe(take(3)), // emit 0, 1, 2 every second and complete\n *   interval(500).pipe(take(4)), // emit 0, 1, 2, 3 every half a second and complete\n *   (n, m) => n + m\n * );\n * observable.subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('This is how it ends!')\n * );\n *\n * // Logs:\n * // 5 after 3 seconds\n * // \"This is how it ends!\" immediately after\n *\n * @see {@link combineLatest}\n * @see {@link zip}\n *\n * @param {...ObservableInput} sources Any number of Observables provided either as an array or as an arguments\n * passed directly to the operator.\n * @param {function} [project] Function that takes values emitted by input Observables and returns value\n * that will appear in resulting Observable instead of default array.\n * @return {Observable} Observable emitting either an array of last values emitted by passed Observables\n * or value from project function.\n * @static true\n * @name forkJoin\n * @owner Observable\n */\nexport function forkJoin() {\n    var sources = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        sources[_i] = arguments[_i];\n    }\n    // if the first and only other argument is an array\n    // assume it's been called with `forkJoin([obs1, obs2, obs3])`\n    if (sources.length === 1 && isArray(sources[0])) {\n        sources = sources[0];\n    }\n    if (sources.length === 0) {\n        return EMPTY;\n    }\n    return new Observable(function (subscriber) {\n        return new ForkJoinSubscriber(subscriber, sources);\n    });\n}\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar ForkJoinSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ForkJoinSubscriber, _super);\n    function ForkJoinSubscriber(destination, sources) {\n        var _this = _super.call(this, destination) || this;\n        _this.sources = sources;\n        _this.completed = 0;\n        _this.haveValues = 0;\n        var len = sources.length;\n        _this.values = new Array(len);\n        for (var i = 0; i < len; i++) {\n            var source = sources[i];\n            var innerSubscription = subscribeToResult(_this, source, null, i);\n            if (innerSubscription) {\n                _this.add(innerSubscription);\n            }\n        }\n        return _this;\n    }\n    ForkJoinSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.values[outerIndex] = innerValue;\n        if (!innerSub._hasValue) {\n            innerSub._hasValue = true;\n            this.haveValues++;\n        }\n    };\n    ForkJoinSubscriber.prototype.notifyComplete = function (innerSub) {\n        var _a = this, destination = _a.destination, haveValues = _a.haveValues, values = _a.values;\n        var len = values.length;\n        if (!innerSub._hasValue) {\n            destination.complete();\n            return;\n        }\n        this.completed++;\n        if (this.completed !== len) {\n            return;\n        }\n        if (haveValues === len) {\n            destination.next(values);\n        }\n        destination.complete();\n    };\n    return ForkJoinSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=forkJoin.js.map\n","/** PURE_IMPORTS_START .._Observable PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nvar toString = Object.prototype.toString;\n/* tslint:enable:max-line-length */\n/**\n * Creates an Observable that emits events of a specific type coming from the\n * given event target.\n *\n * <span class=\"informal\">Creates an Observable from DOM events, or Node.js\n * EventEmitter events or others.</span>\n *\n * <img src=\"./img/fromEvent.png\" width=\"100%\">\n *\n * `fromEvent` accepts as a first argument event target, which is an object with methods\n * for registering event handler functions. As a second argument it takes string that indicates\n * type of event we want to listen for. `fromEvent` supports selected types of event targets,\n * which are described in detail below. If your event target does not match any of the ones listed,\n * you should use {@link fromEventPattern}, which can be used on arbitrary APIs.\n * When it comes to APIs supported by `fromEvent`, their methods for adding and removing event\n * handler functions have different names, but they all accept a string describing event type\n * and function itself, which will be called whenever said event happens.\n *\n * Every time resulting Observable is subscribed, event handler function will be registered\n * to event target on given event type. When that event fires, value\n * passed as a first argument to registered function will be emitted by output Observable.\n * When Observable is unsubscribed, function will be unregistered from event target.\n *\n * Note that if event target calls registered function with more than one argument, second\n * and following arguments will not appear in resulting stream. In order to get access to them,\n * you can pass to `fromEvent` optional project function, which will be called with all arguments\n * passed to event handler. Output Observable will then emit value returned by project function,\n * instead of the usual value.\n *\n * Remember that event targets listed below are checked via duck typing. It means that\n * no matter what kind of object you have and no matter what environment you work in,\n * you can safely use `fromEvent` on that object if it exposes described methods (provided\n * of course they behave as was described above). So for example if Node.js library exposes\n * event target which has the same method names as DOM EventTarget, `fromEvent` is still\n * a good choice.\n *\n * If the API you use is more callback then event handler oriented (subscribed\n * callback function fires only once and thus there is no need to manually\n * unregister it), you should use {@link bindCallback} or {@link bindNodeCallback}\n * instead.\n *\n * `fromEvent` supports following types of event targets:\n *\n * **DOM EventTarget**\n *\n * This is an object with `addEventListener` and `removeEventListener` methods.\n *\n * In the browser, `addEventListener` accepts - apart from event type string and event\n * handler function arguments - optional third parameter, which is either an object or boolean,\n * both used for additional configuration how and when passed function will be called. When\n * `fromEvent` is used with event target of that type, you can provide this values\n * as third parameter as well.\n *\n * **Node.js EventEmitter**\n *\n * An object with `addListener` and `removeListener` methods.\n *\n * **JQuery-style event target**\n *\n * An object with `on` and `off` methods\n *\n * **DOM NodeList**\n *\n * List of DOM Nodes, returned for example by `document.querySelectorAll` or `Node.childNodes`.\n *\n * Although this collection is not event target in itself, `fromEvent` will iterate over all Nodes\n * it contains and install event handler function in every of them. When returned Observable\n * is unsubscribed, function will be removed from all Nodes.\n *\n * **DOM HtmlCollection**\n *\n * Just as in case of NodeList it is a collection of DOM nodes. Here as well event handler function is\n * installed and removed in each of elements.\n *\n *\n * @example <caption>Emits clicks happening on the DOM document</caption>\n * var clicks = fromEvent(document, 'click');\n * clicks.subscribe(x => console.log(x));\n *\n * // Results in:\n * // MouseEvent object logged to console every time a click\n * // occurs on the document.\n *\n *\n * @example <caption>Use addEventListener with capture option</caption>\n * var clicksInDocument = fromEvent(document, 'click', true); // note optional configuration parameter\n *                                                                          // which will be passed to addEventListener\n * var clicksInDiv = fromEvent(someDivInDocument, 'click');\n *\n * clicksInDocument.subscribe(() => console.log('document'));\n * clicksInDiv.subscribe(() => console.log('div'));\n *\n * // By default events bubble UP in DOM tree, so normally\n * // when we would click on div in document\n * // \"div\" would be logged first and then \"document\".\n * // Since we specified optional `capture` option, document\n * // will catch event when it goes DOWN DOM tree, so console\n * // will log \"document\" and then \"div\".\n *\n * @see {@link bindCallback}\n * @see {@link bindNodeCallback}\n * @see {@link fromEventPattern}\n *\n * @param {EventTargetLike} target The DOM EventTarget, Node.js\n * EventEmitter, JQuery-like event target, NodeList or HTMLCollection to attach the event handler to.\n * @param {string} eventName The event name of interest, being emitted by the\n * `target`.\n * @param {EventListenerOptions} [options] Options to pass through to addEventListener\n * @return {Observable<T>}\n * @name fromEvent\n */\nexport function fromEvent(target, eventName, options) {\n    return new Observable(function (subscriber) {\n        function handler(e) {\n            if (arguments.length > 1) {\n                subscriber.next(Array.prototype.slice.call(arguments));\n            }\n            else {\n                subscriber.next(e);\n            }\n        }\n        setupSubscription(target, eventName, handler, subscriber, options);\n    });\n}\nfunction setupSubscription(sourceObj, eventName, handler, subscriber, options) {\n    var unsubscribe;\n    if (isNodeList(sourceObj) || isHTMLCollection(sourceObj)) {\n        for (var i = 0, len = sourceObj.length; i < len; i++) {\n            setupSubscription(sourceObj[i], eventName, handler, subscriber, options);\n        }\n    }\n    else if (isEventTarget(sourceObj)) {\n        var source_1 = sourceObj;\n        sourceObj.addEventListener(eventName, handler, options);\n        unsubscribe = function () { return source_1.removeEventListener(eventName, handler, options); };\n    }\n    else if (isJQueryStyleEventEmitter(sourceObj)) {\n        var source_2 = sourceObj;\n        sourceObj.on(eventName, handler);\n        unsubscribe = function () { return source_2.off(eventName, handler); };\n    }\n    else if (isNodeStyleEventEmitter(sourceObj)) {\n        var source_3 = sourceObj;\n        sourceObj.addListener(eventName, handler);\n        unsubscribe = function () { return source_3.removeListener(eventName, handler); };\n    }\n    else {\n        throw new TypeError('Invalid event target');\n    }\n    subscriber.add(unsubscribe);\n}\nfunction isNodeStyleEventEmitter(sourceObj) {\n    return !!sourceObj && typeof sourceObj.addListener === 'function' && typeof sourceObj.removeListener === 'function';\n}\nfunction isJQueryStyleEventEmitter(sourceObj) {\n    return !!sourceObj && typeof sourceObj.on === 'function' && typeof sourceObj.off === 'function';\n}\nfunction isNodeList(sourceObj) {\n    return !!sourceObj && toString.call(sourceObj) === '[object NodeList]';\n}\nfunction isHTMLCollection(sourceObj) {\n    return !!sourceObj && toString.call(sourceObj) === '[object HTMLCollection]';\n}\nfunction isEventTarget(sourceObj) {\n    return !!sourceObj && typeof sourceObj.addEventListener === 'function' && typeof sourceObj.removeEventListener === 'function';\n}\n//# sourceMappingURL=fromEvent.js.map\n","/** PURE_IMPORTS_START .._Observable,.._util_isFunction PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { isFunction } from '../util/isFunction';\n/**\n * Creates an Observable from an API based on addHandler/removeHandler\n * functions.\n *\n * <span class=\"informal\">Converts any addHandler/removeHandler API to an\n * Observable.</span>\n *\n * <img src=\"./img/fromEventPattern.png\" width=\"100%\">\n *\n * Creates an Observable by using the `addHandler` and `removeHandler`\n * functions to add and remove the handlers. The `addHandler` is\n * called when the output Observable is subscribed, and `removeHandler` is\n * called when the Subscription is unsubscribed.\n *\n * @example <caption>Emits clicks happening on the DOM document</caption>\n * function addClickHandler(handler) {\n *   document.addEventListener('click', handler);\n * }\n *\n * function removeClickHandler(handler) {\n *   document.removeEventListener('click', handler);\n * }\n *\n * var clicks = fromEventPattern(\n *   addClickHandler,\n *   removeClickHandler\n * );\n * clicks.subscribe(x => console.log(x));\n *\n * @see {@link from}\n * @see {@link fromEvent}\n *\n * @param {function(handler: Function): any} addHandler A function that takes\n * a `handler` function as argument and attaches it somehow to the actual\n * source of events.\n * @param {function(handler: Function, signal?: any): void} [removeHandler] An optional function that\n * takes a `handler` function as argument and removes it in case it was\n * previously attached using `addHandler`. if addHandler returns signal to teardown when remove,\n * removeHandler function will forward it.\n * @return {Observable<T>}\n * @name fromEventPattern\n */\nexport function fromEventPattern(addHandler, removeHandler) {\n    return new Observable(function (subscriber) {\n        var handler = function (e) { return subscriber.next(e); };\n        var retValue;\n        try {\n            retValue = addHandler(handler);\n        }\n        catch (err) {\n            subscriber.error(err);\n            return undefined;\n        }\n        if (!isFunction(removeHandler)) {\n            return undefined;\n        }\n        return function () { return removeHandler(handler, retValue); };\n    });\n}\n//# sourceMappingURL=fromEventPattern.js.map\n","/** PURE_IMPORTS_START .._Observable,.._util_identity,.._util_isScheduler PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { identity } from '../util/identity';\nimport { isScheduler } from '../util/isScheduler';\nexport function generate(initialStateOrOptions, condition, iterate, resultSelectorOrObservable, scheduler) {\n    var resultSelector;\n    var initialState;\n    if (arguments.length == 1) {\n        var options = initialStateOrOptions;\n        initialState = options.initialState;\n        condition = options.condition;\n        iterate = options.iterate;\n        resultSelector = options.resultSelector || identity;\n        scheduler = options.scheduler;\n    }\n    else if (resultSelectorOrObservable === undefined || isScheduler(resultSelectorOrObservable)) {\n        initialState = initialStateOrOptions;\n        resultSelector = identity;\n        scheduler = resultSelectorOrObservable;\n    }\n    else {\n        initialState = initialStateOrOptions;\n        resultSelector = resultSelectorOrObservable;\n    }\n    return new Observable(function (subscriber) {\n        var state = initialState;\n        if (scheduler) {\n            return scheduler.schedule(dispatch, 0, {\n                subscriber: subscriber,\n                iterate: iterate,\n                condition: condition,\n                resultSelector: resultSelector,\n                state: state\n            });\n        }\n        do {\n            if (condition) {\n                var conditionResult = void 0;\n                try {\n                    conditionResult = condition(state);\n                }\n                catch (err) {\n                    subscriber.error(err);\n                    return undefined;\n                }\n                if (!conditionResult) {\n                    subscriber.complete();\n                    break;\n                }\n            }\n            var value = void 0;\n            try {\n                value = resultSelector(state);\n            }\n            catch (err) {\n                subscriber.error(err);\n                return undefined;\n            }\n            subscriber.next(value);\n            if (subscriber.closed) {\n                break;\n            }\n            try {\n                state = iterate(state);\n            }\n            catch (err) {\n                subscriber.error(err);\n                return undefined;\n            }\n        } while (true);\n        return undefined;\n    });\n}\nfunction dispatch(state) {\n    var subscriber = state.subscriber, condition = state.condition;\n    if (subscriber.closed) {\n        return undefined;\n    }\n    if (state.needIterate) {\n        try {\n            state.state = state.iterate(state.state);\n        }\n        catch (err) {\n            subscriber.error(err);\n            return undefined;\n        }\n    }\n    else {\n        state.needIterate = true;\n    }\n    if (condition) {\n        var conditionResult = void 0;\n        try {\n            conditionResult = condition(state.state);\n        }\n        catch (err) {\n            subscriber.error(err);\n            return undefined;\n        }\n        if (!conditionResult) {\n            subscriber.complete();\n            return undefined;\n        }\n        if (subscriber.closed) {\n            return undefined;\n        }\n    }\n    var value;\n    try {\n        value = state.resultSelector(state.state);\n    }\n    catch (err) {\n        subscriber.error(err);\n        return undefined;\n    }\n    if (subscriber.closed) {\n        return undefined;\n    }\n    subscriber.next(value);\n    if (subscriber.closed) {\n        return undefined;\n    }\n    return this.schedule(state);\n}\n//# sourceMappingURL=generate.js.map\n","/** PURE_IMPORTS_START ._defer,._empty PURE_IMPORTS_END */\nimport { defer } from './defer';\nimport { EMPTY } from './empty';\n/**\n * Decides at subscription time which Observable will actually be subscribed.\n *\n * <span class=\"informal\">`If` statement for Observables.</span>\n *\n * `if` accepts a condition function and two Observables. When\n * an Observable returned by the operator is subscribed, condition function will be called.\n * Based on what boolean it returns at that moment, consumer will subscribe either to\n * the first Observable (if condition was true) or to the second (if condition was false). Condition\n * function may also not return anything - in that case condition will be evaluated as false and\n * second Observable will be subscribed.\n *\n * Note that Observables for both cases (true and false) are optional. If condition points to an Observable that\n * was left undefined, resulting stream will simply complete immediately. That allows you to, rather\n * then controlling which Observable will be subscribed, decide at runtime if consumer should have access\n * to given Observable or not.\n *\n * If you have more complex logic that requires decision between more than two Observables, {@link defer}\n * will probably be a better choice. Actually `if` can be easily implemented with {@link defer}\n * and exists only for convenience and readability reasons.\n *\n *\n * @example <caption>Change at runtime which Observable will be subscribed</caption>\n * let subscribeToFirst;\n * const firstOrSecond = Rx.Observable.if(\n *   () => subscribeToFirst,\n *   Rx.Observable.of('first'),\n *   Rx.Observable.of('second')\n * );\n *\n * subscribeToFirst = true;\n * firstOrSecond.subscribe(value => console.log(value));\n *\n * // Logs:\n * // \"first\"\n *\n * subscribeToFirst = false;\n * firstOrSecond.subscribe(value => console.log(value));\n *\n * // Logs:\n * // \"second\"\n *\n *\n * @example <caption>Control an access to an Observable</caption>\n * let accessGranted;\n * const observableIfYouHaveAccess = Rx.Observable.if(\n *   () => accessGranted,\n *   Rx.Observable.of('It seems you have an access...') // Note that only one Observable is passed to the operator.\n * );\n *\n * accessGranted = true;\n * observableIfYouHaveAccess.subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('The end')\n * );\n *\n * // Logs:\n * // \"It seems you have an access...\"\n * // \"The end\"\n *\n * accessGranted = false;\n * observableIfYouHaveAccess.subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('The end')\n * );\n *\n * // Logs:\n * // \"The end\"\n *\n * @see {@link defer}\n *\n * @param {function(): boolean} condition Condition which Observable should be chosen.\n * @param {Observable} [trueObservable] An Observable that will be subscribed if condition is true.\n * @param {Observable} [falseObservable] An Observable that will be subscribed if condition is false.\n * @return {Observable} Either first or second Observable, depending on condition.\n * @static true\n * @name iif\n * @owner Observable\n */\nexport function iif(condition, trueResult, falseResult) {\n    if (trueResult === void 0) {\n        trueResult = EMPTY;\n    }\n    if (falseResult === void 0) {\n        falseResult = EMPTY;\n    }\n    return defer(function () { return condition() ? trueResult : falseResult; });\n}\n//# sourceMappingURL=iif.js.map\n","/** PURE_IMPORTS_START .._Observable,.._scheduler_async,.._util_isNumeric PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { async } from '../scheduler/async';\nimport { isNumeric } from '../util/isNumeric';\n/**\n * Creates an Observable that emits sequential numbers every specified\n * interval of time, on a specified IScheduler.\n *\n * <span class=\"informal\">Emits incremental numbers periodically in time.\n * </span>\n *\n * <img src=\"./img/interval.png\" width=\"100%\">\n *\n * `interval` returns an Observable that emits an infinite sequence of\n * ascending integers, with a constant interval of time of your choosing\n * between those emissions. The first emission is not sent immediately, but\n * only after the first period has passed. By default, this operator uses the\n * `async` IScheduler to provide a notion of time, but you may pass any\n * IScheduler to it.\n *\n * @example <caption>Emits ascending numbers, one every second (1000ms)</caption>\n * var numbers = Rx.Observable.interval(1000);\n * numbers.subscribe(x => console.log(x));\n *\n * @see {@link timer}\n * @see {@link delay}\n *\n * @param {number} [period=0] The interval size in milliseconds (by default)\n * or the time unit determined by the scheduler's clock.\n * @param {Scheduler} [scheduler=async] The IScheduler to use for scheduling\n * the emission of values, and providing a notion of \"time\".\n * @return {Observable} An Observable that emits a sequential number each time\n * interval.\n * @static true\n * @name interval\n * @owner Observable\n */\nexport function interval(period, scheduler) {\n    if (period === void 0) {\n        period = 0;\n    }\n    if (scheduler === void 0) {\n        scheduler = async;\n    }\n    if (!isNumeric(period) || period < 0) {\n        period = 0;\n    }\n    if (!scheduler || typeof scheduler.schedule !== 'function') {\n        scheduler = async;\n    }\n    return new Observable(function (subscriber) {\n        subscriber.add(scheduler.schedule(dispatch, period, { subscriber: subscriber, counter: 0, period: period }));\n        return subscriber;\n    });\n}\nfunction dispatch(state) {\n    var subscriber = state.subscriber, counter = state.counter, period = state.period;\n    subscriber.next(counter);\n    this.schedule({ subscriber: subscriber, counter: counter + 1, period: period }, period);\n}\n//# sourceMappingURL=interval.js.map\n","/** PURE_IMPORTS_START .._Observable,.._util_isScheduler,.._.._internal_operators_mergeAll,._fromArray PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { isScheduler } from '../util/isScheduler';\nimport { mergeAll } from '../../internal/operators/mergeAll';\nimport { fromArray } from './fromArray';\n/* tslint:enable:max-line-length */\n/**\n * Creates an output Observable which concurrently emits all values from every\n * given input Observable.\n *\n * <span class=\"informal\">Flattens multiple Observables together by blending\n * their values into one Observable.</span>\n *\n * <img src=\"./img/merge.png\" width=\"100%\">\n *\n * `merge` subscribes to each given input Observable (as arguments), and simply\n * forwards (without doing any transformation) all the values from all the input\n * Observables to the output Observable. The output Observable only completes\n * once all input Observables have completed. Any error delivered by an input\n * Observable will be immediately emitted on the output Observable.\n *\n * @example <caption>Merge together two Observables: 1s interval and clicks</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var timer = Rx.Observable.interval(1000);\n * var clicksOrTimer = Rx.Observable.merge(clicks, timer);\n * clicksOrTimer.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // timer will emit ascending values, one every second(1000ms) to console\n * // clicks logs MouseEvents to console everytime the \"document\" is clicked\n * // Since the two streams are merged you see these happening\n * // as they occur.\n *\n * @example <caption>Merge together 3 Observables, but only 2 run concurrently</caption>\n * var timer1 = Rx.Observable.interval(1000).take(10);\n * var timer2 = Rx.Observable.interval(2000).take(6);\n * var timer3 = Rx.Observable.interval(500).take(10);\n * var concurrent = 2; // the argument\n * var merged = Rx.Observable.merge(timer1, timer2, timer3, concurrent);\n * merged.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // - First timer1 and timer2 will run concurrently\n * // - timer1 will emit a value every 1000ms for 10 iterations\n * // - timer2 will emit a value every 2000ms for 6 iterations\n * // - after timer1 hits it's max iteration, timer2 will\n * //   continue, and timer3 will start to run concurrently with timer2\n * // - when timer2 hits it's max iteration it terminates, and\n * //   timer3 will continue to emit a value every 500ms until it is complete\n *\n * @see {@link mergeAll}\n * @see {@link mergeMap}\n * @see {@link mergeMapTo}\n * @see {@link mergeScan}\n *\n * @param {...ObservableInput} observables Input Observables to merge together.\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input\n * Observables being subscribed to concurrently.\n * @param {Scheduler} [scheduler=null] The IScheduler to use for managing\n * concurrency of input Observables.\n * @return {Observable} an Observable that emits items that are the result of\n * every input Observable.\n * @static true\n * @name merge\n * @owner Observable\n */\nexport function merge() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i] = arguments[_i];\n    }\n    var concurrent = Number.POSITIVE_INFINITY;\n    var scheduler = null;\n    var last = observables[observables.length - 1];\n    if (isScheduler(last)) {\n        scheduler = observables.pop();\n        if (observables.length > 1 && typeof observables[observables.length - 1] === 'number') {\n            concurrent = observables.pop();\n        }\n    }\n    else if (typeof last === 'number') {\n        concurrent = observables.pop();\n    }\n    if (scheduler === null && observables.length === 1 && observables[0] instanceof Observable) {\n        return observables[0];\n    }\n    return mergeAll(concurrent)(fromArray(observables, scheduler));\n}\n//# sourceMappingURL=merge.js.map\n","/** PURE_IMPORTS_START .._Observable,._from,.._util_isArray,._empty PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { from } from './from';\nimport { isArray } from '../util/isArray';\nimport { EMPTY } from './empty';\n/* tslint:enable:max-line-length */\n/**\n * When any of the provided Observable emits an complete or error notification, it immediately subscribes to the next one\n * that was passed.\n *\n * <span class=\"informal\">Execute series of Observables no matter what, even if it means swallowing errors.</span>\n *\n * <img src=\"./img/onErrorResumeNext.png\" width=\"100%\">\n *\n * `onErrorResumeNext` Will subscribe to each observable source it is provided, in order.\n * If the source it's subscribed to emits an error or completes, it will move to the next source\n * without error.\n *\n * If `onErrorResumeNext` is provided no arguments, or a single, empty array, it will return {@link EMPTY}.\n *\n * `onErrorResumeNext` is basically {@link concat}, only it will continue, even if one of its\n * sources emits an error.\n *\n * Note that there is no way to handle any errors thrown by sources via the resuult of\n * `onErrorResumeNext`. If you want to handle errors thrown in any given source, you can\n * always use the {@link catchError} operator on them before passing them into `onErrorResumeNext`.\n *\n * @example <caption>Subscribe to the next Observable after map fails</caption>\n * import { onErrorResumeNext, of } from 'rxjs/create';\n * import { map } from 'rxjs/operators';\n *\n * onErrorResumeNext(\n *  of(1, 2, 3, 0).pipe(\n *    map(x => {\n *      if (x === 0) throw Error();\n *      return 10 / x;\n *    })\n *  ),\n *  of(1, 2, 3),\n * )\n * .subscribe(\n *   val => console.log(val),\n *   err => console.log(err),          // Will never be called.\n *   () => console.log('done')\n * );\n *\n * // Logs:\n * // 10\n * // 5\n * // 3.3333333333333335\n * // 1\n * // 2\n * // 3\n * // \"done\"\n *\n * @see {@link concat}\n * @see {@link catch}\n *\n * @param {...ObservableInput} sources Observables (or anything that *is* observable) passed either directly or as an array.\n * @return {Observable} An Observable that concatenates all sources, one after the other,\n * ignoring all errors, such that any error causes it to move on to the next source.\n */\nexport function onErrorResumeNext() {\n    var sources = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        sources[_i] = arguments[_i];\n    }\n    if (sources.length === 0) {\n        return EMPTY;\n    }\n    var first = sources[0], remainder = sources.slice(1);\n    if (sources.length === 1 && isArray(first)) {\n        return onErrorResumeNext.apply(void 0, first);\n    }\n    return new Observable(function (subscriber) {\n        var subNext = function () { return subscriber.add(onErrorResumeNext.apply(void 0, remainder).subscribe(subscriber)); };\n        return from(first).subscribe({\n            next: function (value) { subscriber.next(value); },\n            error: subNext,\n            complete: subNext,\n        });\n    });\n}\n//# sourceMappingURL=onErrorResumeNext.js.map\n","/** PURE_IMPORTS_START .._Observable,.._Subscription PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\n/**\n * Convert an object into an observable sequence of [key, value] pairs\n * using an optional IScheduler to enumerate the object.\n *\n * @example <caption>Converts a javascript object to an Observable</caption>\n * var obj = {\n *   foo: 42,\n *   bar: 56,\n *   baz: 78\n * };\n *\n * var source = Rx.Observable.pairs(obj);\n *\n * var subscription = source.subscribe(\n *   function (x) {\n *     console.log('Next: %s', x);\n *   },\n *   function (err) {\n *     console.log('Error: %s', err);\n *   },\n *   function () {\n *     console.log('Completed');\n *   });\n *\n * @param {Object} obj The object to inspect and turn into an\n * Observable sequence.\n * @param {Scheduler} [scheduler] An optional IScheduler to run the\n * enumeration of the input sequence on.\n * @returns {(Observable<[string, T]>)} An observable sequence of\n * [key, value] pairs from the object.\n */\nexport function pairs(obj, scheduler) {\n    if (!scheduler) {\n        return new Observable(function (subscriber) {\n            var keys = Object.keys(obj);\n            for (var i = 0; i < keys.length && !subscriber.closed; i++) {\n                var key = keys[i];\n                if (obj.hasOwnProperty(key)) {\n                    subscriber.next([key, obj[key]]);\n                }\n            }\n            subscriber.complete();\n        });\n    }\n    else {\n        return new Observable(function (subscriber) {\n            var keys = Object.keys(obj);\n            var subscription = new Subscription();\n            subscription.add(scheduler.schedule(dispatch, 0, { keys: keys, index: 0, subscriber: subscriber, subscription: subscription, obj: obj }));\n            return subscription;\n        });\n    }\n}\n/** @internal */\nexport function dispatch(state) {\n    var keys = state.keys, index = state.index, subscriber = state.subscriber, subscription = state.subscription, obj = state.obj;\n    if (!subscriber.closed) {\n        if (index < keys.length) {\n            var key = keys[index];\n            subscriber.next([key, obj[key]]);\n            subscription.add(this.schedule({ keys: keys, index: index + 1, subscriber: subscriber, subscription: subscription, obj: obj }));\n        }\n        else {\n            subscriber.complete();\n        }\n    }\n}\n//# sourceMappingURL=pairs.js.map\n","/** PURE_IMPORTS_START tslib,.._util_isArray,._fromArray,.._OuterSubscriber,.._util_subscribeToResult PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { isArray } from '../util/isArray';\nimport { fromArray } from './fromArray';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport function race() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i] = arguments[_i];\n    }\n    // if the only argument is an array, it was most likely called with\n    // `race([obs1, obs2, ...])`\n    if (observables.length === 1) {\n        if (isArray(observables[0])) {\n            observables = observables[0];\n        }\n        else {\n            return observables[0];\n        }\n    }\n    return fromArray(observables, undefined).lift(new RaceOperator());\n}\nvar RaceOperator = /*@__PURE__*/ (/*@__PURE__*/ function () {\n    function RaceOperator() {\n    }\n    RaceOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new RaceSubscriber(subscriber));\n    };\n    return RaceOperator;\n}());\nexport { RaceOperator };\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar RaceSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(RaceSubscriber, _super);\n    function RaceSubscriber(destination) {\n        var _this = _super.call(this, destination) || this;\n        _this.hasFirst = false;\n        _this.observables = [];\n        _this.subscriptions = [];\n        return _this;\n    }\n    RaceSubscriber.prototype._next = function (observable) {\n        this.observables.push(observable);\n    };\n    RaceSubscriber.prototype._complete = function () {\n        var observables = this.observables;\n        var len = observables.length;\n        if (len === 0) {\n            this.destination.complete();\n        }\n        else {\n            for (var i = 0; i < len && !this.hasFirst; i++) {\n                var observable = observables[i];\n                var subscription = subscribeToResult(this, observable, observable, i);\n                if (this.subscriptions) {\n                    this.subscriptions.push(subscription);\n                }\n                this.add(subscription);\n            }\n            this.observables = null;\n        }\n    };\n    RaceSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        if (!this.hasFirst) {\n            this.hasFirst = true;\n            for (var i = 0; i < this.subscriptions.length; i++) {\n                if (i !== outerIndex) {\n                    var subscription = this.subscriptions[i];\n                    subscription.unsubscribe();\n                    this.remove(subscription);\n                }\n            }\n            this.subscriptions = null;\n        }\n        this.destination.next(innerValue);\n    };\n    return RaceSubscriber;\n}(OuterSubscriber));\nexport { RaceSubscriber };\n//# sourceMappingURL=race.js.map\n","/** PURE_IMPORTS_START .._Observable PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\n/**\n * Creates an Observable that emits a sequence of numbers within a specified\n * range.\n *\n * <span class=\"informal\">Emits a sequence of numbers in a range.</span>\n *\n * <img src=\"./img/range.png\" width=\"100%\">\n *\n * `range` operator emits a range of sequential integers, in order, where you\n * select the `start` of the range and its `length`. By default, uses no\n * IScheduler and just delivers the notifications synchronously, but may use\n * an optional IScheduler to regulate those deliveries.\n *\n * @example <caption>Emits the numbers 1 to 10</caption>\n * var numbers = Rx.Observable.range(1, 10);\n * numbers.subscribe(x => console.log(x));\n *\n * @see {@link timer}\n * @see {@link interval}\n *\n * @param {number} [start=0] The value of the first integer in the sequence.\n * @param {number} [count=0] The number of sequential integers to generate.\n * @param {Scheduler} [scheduler] A {@link IScheduler} to use for scheduling\n * the emissions of the notifications.\n * @return {Observable} An Observable of numbers that emits a finite range of\n * sequential integers.\n * @static true\n * @name range\n * @owner Observable\n */\nexport function range(start, count, scheduler) {\n    if (start === void 0) {\n        start = 0;\n    }\n    if (count === void 0) {\n        count = 0;\n    }\n    return new Observable(function (subscriber) {\n        var index = 0;\n        if (scheduler) {\n            return scheduler.schedule(dispatch, 0, {\n                index: index, count: count, start: start, subscriber: subscriber\n            });\n        }\n        else {\n            do {\n                if (index++ >= count) {\n                    subscriber.complete();\n                    break;\n                }\n                subscriber.next(start++);\n                if (subscriber.closed) {\n                    break;\n                }\n            } while (true);\n        }\n        return undefined;\n    });\n}\n/** @internal */\nexport function dispatch(state) {\n    var start = state.start, index = state.index, count = state.count, subscriber = state.subscriber;\n    if (index >= count) {\n        subscriber.complete();\n        return;\n    }\n    subscriber.next(start);\n    if (subscriber.closed) {\n        return;\n    }\n    state.index = index + 1;\n    state.start = start + 1;\n    this.schedule(state);\n}\n//# sourceMappingURL=range.js.map\n","/** PURE_IMPORTS_START .._Observable,._from,._empty PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { from } from './from'; // from from from! LAWL\nimport { EMPTY } from './empty';\n/**\n * Creates an Observable that uses a resource which will be disposed at the same time as the Observable.\n *\n * <span class=\"informal\">Use it when you catch yourself cleaning up after an Observable.</span>\n *\n * `using` is a factory operator, which accepts two functions. First function returns a disposable resource.\n * It can be an arbitrary object that implements `unsubscribe` method. Second function will be injected with\n * that object and should return an Observable. That Observable can use resource object during its execution.\n * Both functions passed to `using` will be called every time someone subscribes - neither an Observable nor\n * resource object will be shared in any way between subscriptions.\n *\n * When Observable returned by `using` is subscribed, Observable returned from the second function will be subscribed\n * as well. All its notifications (nexted values, completion and error events) will be emitted unchanged by the output\n * Observable. If however someone unsubscribes from the Observable or source Observable completes or errors by itself,\n * the `unsubscribe` method on resource object will be called. This can be used to do any necessary clean up, which\n * otherwise would have to be handled by hand. Note that complete or error notifications are not emitted when someone\n * cancels subscription to an Observable via `unsubscribe`, so `using` can be used as a hook, allowing you to make\n * sure that all resources which need to exist during an Observable execution will be disposed at appropriate time.\n *\n * @see {@link defer}\n *\n * @param {function(): ISubscription} resourceFactory A function which creates any resource object\n * that implements `unsubscribe` method.\n * @param {function(resource: ISubscription): Observable<T>} observableFactory A function which\n * creates an Observable, that can use injected resource object.\n * @return {Observable<T>} An Observable that behaves the same as Observable returned by `observableFactory`, but\n * which - when completed, errored or unsubscribed - will also call `unsubscribe` on created resource object.\n */\nexport function using(resourceFactory, observableFactory) {\n    return new Observable(function (subscriber) {\n        var resource;\n        try {\n            resource = resourceFactory();\n        }\n        catch (err) {\n            subscriber.error(err);\n            return undefined;\n        }\n        var result;\n        try {\n            result = observableFactory(resource);\n        }\n        catch (err) {\n            subscriber.error(err);\n            return undefined;\n        }\n        var source = result ? from(result) : EMPTY;\n        var subscription = source.subscribe(subscriber);\n        return function () {\n            subscription.unsubscribe();\n            if (resource) {\n                resource.unsubscribe();\n            }\n        };\n    });\n}\n//# sourceMappingURL=using.js.map\n","/** PURE_IMPORTS_START .._Observable,.._util_noop PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { noop } from '../util/noop';\n/**\n * An Observable that emits no items to the Observer and never completes.\n *\n * <img src=\"./img/never.png\" width=\"100%\">\n *\n * A simple Observable that emits neither values nor errors nor the completion\n * notification. It can be used for testing purposes or for composing with other\n * Observables. Please note that by never emitting a complete notification, this\n * Observable keeps the subscription from being disposed automatically.\n * Subscriptions need to be manually disposed.\n *\n * @example <caption>Emit the number 7, then never emit anything else (not even complete).</caption>\n * function info() {\n *   console.log('Will not be called');\n * }\n * var result = NEVER.startWith(7);\n * result.subscribe(x => console.log(x), info, info);\n *\n * @see {@link create}\n * @see {@link EMPTY}\n * @see {@link of}\n * @see {@link throwError}\n */\nexport var NEVER = /*@__PURE__*/ new Observable(noop);\n//# sourceMappingURL=never.js.map\n","/* Observable */\n/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport { Observable } from './internal/Observable';\nexport { ConnectableObservable } from './internal/observable/ConnectableObservable';\nexport { observable } from './internal/symbol/observable';\n/* Subjects */\nexport { Subject } from './internal/Subject';\nexport { BehaviorSubject } from './internal/BehaviorSubject';\nexport { ReplaySubject } from './internal/ReplaySubject';\nexport { AsyncSubject } from './internal/AsyncSubject';\n/* Schedulers */\nexport { asap as asapScheduler } from './internal/scheduler/asap';\nexport { async as asyncScheduler } from './internal/scheduler/async';\nexport { queue as queueScheduler } from './internal/scheduler/queue';\nexport { animationFrame as animationFrameScheduler } from './internal/scheduler/animationFrame';\nexport { VirtualTimeScheduler, VirtualAction } from './internal/scheduler/VirtualTimeScheduler';\n/* Subscription */\nexport { Subscription } from './internal/Subscription';\nexport { Subscriber } from './internal/Subscriber';\n/* Notification */\nexport { Notification } from './internal/Notification';\n/* Utils */\nexport { pipe } from './internal/util/pipe';\nexport { noop } from './internal/util/noop';\nexport { identity } from './internal/util/identity';\n/* Error types */\nexport { ArgumentOutOfRangeError } from './internal/util/ArgumentOutOfRangeError';\nexport { EmptyError } from './internal/util/EmptyError';\nexport { ObjectUnsubscribedError } from './internal/util/ObjectUnsubscribedError';\nexport { UnsubscriptionError } from './internal/util/UnsubscriptionError';\nexport { TimeoutError } from './internal/util/TimeoutError';\n/* Static observable creation exports */\nexport { bindCallback } from './internal/observable/bindCallback';\nexport { bindNodeCallback } from './internal/observable/bindNodeCallback';\nexport { combineLatest } from './internal/observable/combineLatest';\nexport { concat } from './internal/observable/concat';\nexport { defer } from './internal/observable/defer';\nexport { empty } from './internal/observable/empty';\nexport { forkJoin } from './internal/observable/forkJoin';\nexport { from } from './internal/observable/from';\nexport { fromEvent } from './internal/observable/fromEvent';\nexport { fromEventPattern } from './internal/observable/fromEventPattern';\nexport { generate } from './internal/observable/generate';\nexport { iif } from './internal/observable/iif';\nexport { interval } from './internal/observable/interval';\nexport { merge } from './internal/observable/merge';\nexport { of } from './internal/observable/of';\nexport { onErrorResumeNext } from './internal/observable/onErrorResumeNext';\nexport { pairs } from './internal/observable/pairs';\nexport { race } from './internal/observable/race';\nexport { range } from './internal/observable/range';\nexport { throwError } from './internal/observable/throwError';\nexport { timer } from './internal/observable/timer';\nexport { using } from './internal/observable/using';\nexport { zip } from './internal/observable/zip';\n/* Constants */\nexport { EMPTY } from './internal/observable/empty';\nexport { NEVER } from './internal/observable/never';\n//# sourceMappingURL=index.js.map\n","import keycode from 'keycode';\nimport { Observable, fromEvent } from 'rxjs';\nimport { filter, tap } from 'rxjs/operators';\n\nconst KEY_UP$ = fromEvent(document, 'keyup');\nconst KEY_DOWN$ = fromEvent(document, 'keydown');\n\nfunction keyCodeIs(keyCode: number) {\n  return function(event: KeyboardEvent) {\n    return event.keyCode === keyCode;\n  };\n}\n\nexport function keyup(charKey: string | number): Observable<KeyboardEvent> {\n  const keyCode = typeof charKey === 'string' ? keycode(charKey) : charKey;\n  return KEY_UP$.pipe(filter<KeyboardEvent>(keyCodeIs(keyCode)), tap((e: KeyboardEvent) => e.preventDefault()));\n}\n\nexport function keydown(charKey: string | number): Observable<KeyboardEvent> {\n  const keyCode = typeof charKey === 'string' ? keycode(charKey) : charKey;\n  return KEY_DOWN$.pipe(filter<KeyboardEvent>(keyCodeIs(keyCode)), tap((e: KeyboardEvent) => e.preventDefault()));\n}\n\nexport function touchstart(el: HTMLElement = document.body): Observable<TouchEvent> {\n  return fromEvent(el, 'touchstart');\n}\n\nexport function touchend(el: HTMLElement = document.body): Observable<TouchEvent> {\n  return fromEvent(el, 'touchend');\n}\n\nexport function touchmove(el: HTMLElement = document.body): Observable<TouchEvent> {\n  return fromEvent(el, 'touchmove');\n}\n\nexport function resize(): Observable<UIEvent> {\n  return fromEvent(window, 'resize');\n}\n\nexport function hashchange(): Observable<HashChangeEvent> {\n  return fromEvent(window, 'hashchange');\n}\n\nexport function scroll(): Observable<UIEvent> {\n  return fromEvent(window, 'scroll');\n}\n","import { Observable, combineLatest, BehaviorSubject } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nexport enum ResponsiveRatio {\n  NORMAL = '4:3',\n  WIDE = '16:9',\n}\n\nexport interface ResponsiveOptions {\n  samplingElement: HTMLElement | null;\n  resizeObservable$: Observable<any>;\n  ratio: ResponsiveRatio;\n}\n\nexport function initResponsive({ samplingElement, resizeObservable$, ratio }: ResponsiveOptions) {\n  if (samplingElement == null) {\n    throw new Error('oops, `samplingElement` must not to be null');\n  }\n  const trigger$: BehaviorSubject<any> = new BehaviorSubject<any>({});\n  resizeObservable$.subscribe(trigger$);\n\n  const width: number = ratio === ResponsiveRatio.NORMAL ? 1024 : 1366;\n  const height: number = 768;\n\n  const hRatio$: Observable<number> = trigger$.pipe(map(horizontalRatioOf(width)));\n  const vRatio$: Observable<number> = trigger$.pipe(map(verticalRatioOf(height)));\n\n  const currentRatio$: Observable<number> = combineLatest(hRatio$, vRatio$).pipe(\n    map((hv: [number, number]) => Math.min(hv[0], hv[1])),\n  );\n\n  const style: HTMLStyleElement = document.createElement('style');\n  style.innerHTML = `\n    tk-slide {\n      --talkie-slide-width: ${width}px;\n      --talkie-slide-height: ${height}px;\n      --talkie-slide-scale: scale(1);\n      --talkie-slide-top: 0;\n      --talkie-slide-left: 0;\n    }\n  `;\n  document.head.appendChild(style);\n\n  currentRatio$.subscribe((ratio: number) => {\n    style.innerHTML = style.innerHTML.replace(\n      /--talkie-slide-scale: scale\\(.+\\);/,\n      `--talkie-slide-scale: scale(${Math.abs(ratio)});`,\n    );\n\n    const rect: ClientRect = samplingElement.getBoundingClientRect();\n    style.innerHTML = style.innerHTML\n      .replace(/--talkie-slide-top: .+;/, `--talkie-slide-top: ${(window.innerHeight - rect.height) / 2}px;`)\n      .replace(/--talkie-slide-left: .+;/, `--talkie-slide-left: ${(window.innerWidth - rect.width) / 2}px;`);\n  });\n}\n\nfunction horizontalRatioOf(width: number): () => number {\n  return function(): number {\n    return window.innerWidth / width;\n  };\n}\n\nfunction verticalRatioOf(height: number): () => number {\n  return function(): number {\n    return window.innerHeight / height;\n  };\n}\n","import { BehaviorSubject, Observable, Subject, merge } from 'rxjs';\nimport { distinctUntilChanged, withLatestFrom, map } from 'rxjs/operators';\n\nexport interface PagingOptions {\n  startPage: number;\n  totalPage: number;\n}\n\nexport interface PagingExports {\n  current$: Observable<number>;\n  percentage$: Observable<number>;\n  next: Subject<any>;\n  prev: Subject<any>;\n  move: Subject<any>;\n}\n\nexport function initPaging({ startPage, totalPage }: PagingOptions): PagingExports {\n  const nextTrigger: Subject<any> = new Subject<any>();\n  const prevTrigger: Subject<any> = new Subject<any>();\n  const moveTrigger: Subject<number> = new Subject<number>();\n  const currentSubject: BehaviorSubject<number> = new BehaviorSubject<number>(startPage);\n\n  const currentPage$: Observable<number> = currentSubject.pipe(map(inRangeOf(1, totalPage)), distinctUntilChanged());\n  const currentPercentage$: Observable<number> = currentPage$.pipe(map(percentOf(totalPage)));\n\n  merge(\n    nextTrigger.pipe(withLatestFrom(currentPage$, (_, page: number) => page), map((v) => v + 1)),\n    prevTrigger.pipe(withLatestFrom(currentPage$, (_, page: number) => page), map((v) => v - 1)),\n    moveTrigger.pipe(map((v: number) => v /* noop */)),\n  ).subscribe(currentSubject);\n\n  return {\n    current$: currentPage$,\n    percentage$: currentPercentage$,\n    next: nextTrigger,\n    prev: prevTrigger,\n    move: moveTrigger,\n  };\n}\n\nfunction inRangeOf(min: number, max: number): (z: number) => number {\n  return function(z: number): number {\n    return Math.min(max, Math.max(z, min));\n  };\n}\n\nfunction percentOf(max: number): (max: number) => number {\n  return function(current: number): number {\n    return 100 / max * current;\n  };\n}\n","import { Subject } from 'rxjs';\n\n/**\n * fullscreen\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Fullscreen_API\n */\nexport function initFullScreen(target: HTMLElement = document.documentElement) {\n  const fullScreen$ = new Subject();\n  fullScreen$.subscribe(toggleScreenOf(target));\n  return fullScreen$;\n}\n\nfunction toggleScreenOf(el: HTMLElement | any) {\n  let request: string, exit: string;\n  const doc = document as any;\n\n  if (el.requestFullscreen) {\n    request = 'requestFullscreen';\n  } else if (el.webkitRequestFullscreen) {\n    request = 'webkitRequestFullscreen';\n  } else if (el.mozRequestFullScreen) {\n    request = 'mozRequestFullScreen';\n  } else if (el.msRequestFullscreen) {\n    request = 'msRequestFullscreen';\n  }\n\n  if (doc.exitFullscreen) {\n    exit = 'exitFullscreen';\n  } else if (doc.webkitExitFullscreen) {\n    exit = 'webkitExitFullscreen';\n  } else if (doc.mozCancelFullScreen) {\n    exit = 'mozCancelFullScreen';\n  } else if (doc.msExitFullscreen) {\n    exit = 'msExitFullscreen';\n  }\n\n  return function() {\n    if (\n      !doc.fullscreenElement &&\n      !doc.mozFullScreenElement &&\n      !doc.webkitFullscreenElement &&\n      !doc.msFullscreenElement\n    ) {\n      el[request]();\n    } else {\n      doc[exit]();\n    }\n  };\n}\n","export function textAssignOf(el: HTMLElement) {\n  return function(text: string | number | null) {\n    if (text === null) {\n      return;\n    }\n\n    el.textContent = '' + text;\n  };\n}\n\nexport function styleAssignOf(el: HTMLElement, property: string | undefined) {\n  if (property === undefined) {\n    return function(_: string) {\n      // noop\n    };\n  }\n\n  return function(value: string) {\n    (el.style as any)[property] = value === '' ? null : value;\n  };\n}\n\nexport function attributeAssignOf(el: HTMLElement, attribute: string) {\n  return function(value: string | number | null | undefined) {\n    if (value != null) {\n      el.setAttribute(attribute, value + '');\n    } else {\n      el.removeAttribute(attribute);\n    }\n  };\n}\n\nexport function wrapElement(replaceEl: HTMLElement, el: HTMLElement) {\n  const parent: Node | null = el.parentNode;\n\n  if (parent == null) {\n    throw new Error('parent is missing...');\n  }\n\n  parent.replaceChild(replaceEl, el);\n  replaceEl.appendChild(el);\n}\n\nexport function getPageNumberFromHash(): number {\n  return parseInt(location.hash.replace(/^#/, ''), 10) || 0;\n}\n\nexport function setPageNumberAsHash(page: number) {\n  location.hash = page === 1 ? '' : `${page}`;\n}\n\nexport function isTouchDevice() {\n  return (\n    'ontouchstart' in window || navigator.maxTouchPoints // works on most browsers || works on IE10/11 and Surface\n  );\n}\n","import { throttleTime, map } from 'rxjs/operators';\nimport { merge } from 'rxjs/index';\n\nimport { TalkieBackface } from './components/TalkieBackface';\nimport { TalkiePager, TalkiePagerAttributes } from './components/TalkiePager';\nimport { TalkieProgress, TalkieProgressAttributes } from './components/TalkieProgress';\nimport { TalkieSlide } from './components/TalkieSlide';\n\nimport { hashchange, keydown, resize, scroll } from './event';\nimport { initResponsive, ResponsiveRatio } from './responsive';\nimport { initPaging, PagingExports } from './paging';\nimport { initFullScreen } from './fullscreen';\nimport { getPageNumberFromHash } from './util';\n\nfunction run() {\n  customElements.define(TalkieBackface.ns, TalkieBackface);\n  customElements.define(TalkiePager.ns, TalkiePager);\n  customElements.define(TalkieProgress.ns, TalkieProgress);\n  customElements.define(TalkieSlide.ns, TalkieSlide);\n\n  /**\n   * Elements\n   */\n  const pagerElement: TalkiePager | null = document.querySelector('tk-pager');\n  const progressElement: TalkieProgress | null = document.querySelector('tk-progress');\n  const slideElements: TalkieSlide[] = Array.from(document.querySelectorAll('tk-slide'));\n\n  slideElements.forEach((el: HTMLElement, i: number) => el.setAttribute('id', String(i + 1)));\n\n  const startPage = getPageNumberFromHash() || 1;\n  const totalPage = slideElements.length;\n\n  /**\n   * Responsive\n   */\n  initResponsive({\n    samplingElement: (<TalkieSlide>slideElements[0]).getLayoutElement(),\n    resizeObservable$: resize(),\n    ratio: ResponsiveRatio.NORMAL,\n  });\n\n  /**\n   * Paging controls\n   */\n  const { prev, next, move, current$, percentage$ }: PagingExports = initPaging({\n    startPage,\n    totalPage,\n  });\n\n  let isKeyboardMove: boolean = false;\n\n  current$\n    .pipe(map((current: number) => slideElements[current - 1]))\n    .subscribe((currentSlideElement: TalkieSlide): void => {\n      slideElements.forEach((el: TalkieSlide) => el.toInvisible());\n      currentSlideElement.toVisible();\n\n      if (isKeyboardMove) {\n        currentSlideElement.scrollIntoView();\n        isKeyboardMove = false;\n      }\n    });\n\n  // keyboard control\n  merge(keydown('left'), keydown('up'), keydown('a')).subscribe(() => {\n    isKeyboardMove = true;\n    prev.next(); // lol\n  });\n  merge(keydown('right'), keydown('down'), keydown('s')).subscribe(() => {\n    isKeyboardMove = true;\n    next.next(); // oops\n  });\n\n  /// hashchange -> page change\n  hashchange()\n    .pipe(map(getPageNumberFromHash))\n    .subscribe(move);\n\n  // scroll change -> page change\n  scroll()\n    .pipe(throttleTime(200))\n    .subscribe(() => {\n      let el: Element | null = document.elementFromPoint(window.innerWidth / 2, window.innerHeight / 2);\n\n      if (el = el.closest(TalkieSlide.ns)) {\n        move.next(parseInt(<string>el.getAttribute('id'), 10));\n      }\n    });\n\n  // pager\n  if (pagerElement != null) {\n    pagerElement.setAttribute(TalkiePagerAttributes.CURRENT, String(startPage));\n    pagerElement.setAttribute(TalkiePagerAttributes.TOTAL, String(totalPage));\n    current$.subscribe((current: number) => pagerElement.setAttribute(TalkiePagerAttributes.CURRENT, String(current)));\n  }\n\n  if (progressElement != null) {\n    percentage$.subscribe((percentage: number) =>\n      progressElement.setAttribute(TalkieProgressAttributes.PROGRESS, String(percentage)),\n    );\n  }\n\n  /**\n   * Full screeen mode\n   */\n  keydown('f').subscribe(initFullScreen());\n}\n\nexport default { run };\n"],"names":["aFunction","isObject","require$$0","document","require$$1","require$$2","anObject","toPrimitive","IE8_DOM_DEFINE","dP","createDesc","has","hide","global","core","ctx","redefine","defined","uid","Iterators","toInteger","$defineProperty","cof","ITERATOR","classof","$export","toObject","getIterFn","isArrayIter","createProperty","call","toLength","ArrayProto","IObject","min","toIObject","toAbsoluteIndex","$keys","enumBugKeys","getKeys","IE_PROTO","PROTOTYPE","dPs","TAG","create","descriptor","setToStringTag","$iterCreate","getPrototypeOf","LIBRARY","step","addToUnscopables","wks","$iterators","wksExt","gOPS","pIE","toString","gOPD","$GOPD","$DP","gOPN","gOPNExt","shared","ObjectProto","DESCRIPTORS","$fails","_create","enumKeys","require$$3","require$$4","wksDefine","isArray","require$$5","invoke","cel","html","process","Promise","newPromiseCapability","SPECIES","TypeError","isNode","newPromiseCapabilityModule","USE_NATIVE","perform","anInstance","speciesConstructor","require$$6","promiseResolve","require$$7","forOf","extendStatics","Object","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__extends","__","constructor","prototype","errorObject","e","tryCatchTarget","tryCatcher","apply","arguments","tryCatch","fn","isFunction","x","empty","closed","next","value","error","err","complete","length","UnsubscriptionError","_super","tslib_1","errors","_this","map","i","join","name","Error","Subscription","unsubscribe","_parent","_parents","_subscriptions","_unsubscribe","hasErrors","_a","index","len","remove","trial","flattenUnsubscriptionErrors","sub","concat","push","add","teardown","EMPTY","subscription","_addParent","tmp","subscriptions","subscriptionIndex","indexOf","splice","parent","reduce","errs","rxSubscriber","Symbol","for","Subscriber","destinationOrNext","isStopped","destination","emptyObserver","SafeSubscriber","rxSubscriberSymbol","subscriber","_next","_error","_complete","_unsubscribeAndRecycle","observerOrNext","context","bind","_context","_hostReportError","setTimeout","OuterSubscriber","notifyNext","outerValue","innerValue","outerIndex","innerIndex","innerSub","notifyError","notifyComplete","InnerSubscriber","toSubscriber","nextOrObserver","observable","noop","pipeFromArray","fns","piped","input","prev","config","Observable","subscribe","_isScalar","_subscribe","lift","operator","source","sink","_trySubscribe","forEach","promiseCtor","getPromiseCtor","resolve","reject","Symbol_observable","pipe","operations","_i","toPromise","subscribeToArray","array","subscribeToPromise","promise","then","getSymbolIterator","iterator","subscribeToIterable","iterable","Symbol_iterator","item","done","return","subscribeToObservable","obj","obs","isArrayLike","isPromise","subscribeTo","result","undefined","msg","subscribeToResult","outerSubscriber","AuditSubscriber","durationSelector","hasValue","throttled","duration","innerSubscription","clearThrottle","Action","scheduler","work","schedule","state","delay","AsyncAction","pending","id","recycleAsyncId","requestAsyncId","setInterval","flush","clearInterval","execute","_execute","errored","errorValue","actions","Scheduler","SchedulerAction","now","Date","AsyncScheduler","active","scheduled","action","shift","async","isScheduler","BufferSubscriber","closingNotifier","buffer","BufferCountSubscriber","bufferSize","BufferSkipCountSubscriber","startBufferEvery","buffers","count","Context","BufferTimeSubscriber","bufferTimeSpan","bufferCreationInterval","maxBufferSize","contexts","openContext","timespanOnly","timeSpanOnlyState","closeAction","dispatchBufferTimeSpanOnly","closeState","creationState","dispatchBufferClose","dispatchBufferCreation","filledBufferContext","context_1","onBufferFull","context_2","closeContext","spliceIndex","prevContext","arg","BufferToggleSubscriber","openings","closingSelector","closeBuffer","openBuffer","trySubscribe","BufferWhenSubscriber","subscribing","closingSubscription","CatchSubscriber","selector","caught","err2","fromArray","NONE","combineLatest","observables","project","pop","CombineLatestOperator","CombineLatestSubscriber","values","toRespond","unused","oldVal","_tryProject","slice","mergeMap","concurrent","Number","POSITIVE_INFINITY","mergeMapOperatorFunction","MergeMapOperator","observer","MergeMapSubscriber","hasCompleted","_tryNext","_innerSub","ish","identity","mergeAll","CountSubscriber","predicate","_tryPredicate","DebounceSubscriber","durationSubscription","emitValue","DebounceTimeSubscriber","dueTime","debouncedSubscription","lastValue","clearDebounce","dispatchNext","debouncedNext","DefaultIfEmptySubscriber","defaultValue","isEmpty","emptyScheduled","scalar","of","args","throwError","dispatch","Notification","kind","observe","do","accept","toObservable","createNext","undefinedValueNotification","createError","createComplete","completeNotification","DelaySubscriber","queue","time","notification","delay_1","Math","max","_schedule","scheduleNotification","message","DelayMessage","DelayWhenSubscriber","delayDurationSelector","completed","delayNotifierSubscriptions","removeSubscription","tryComplete","delayNotifier","tryDelay","subscriptionIdx","notifierSubscription","SubscriptionDelayObservable","subscriptionDelay","SubscriptionDelaySubscriber","sourceSubscribed","subscribeToSource","DeMaterializeSubscriber","redefineAll","validate","$iterDefine","setSpecies","fails","meta","$iterDetect","inheritIfRequired","strong","Set","DistinctSubscriber","keySelector","flushes","clear","_useKeySelector","_finalizeNext","key","distinctUntilChanged","compare","DistinctUntilChangedOperator","DistinctUntilChangedSubscriber","hasKey","y","Boolean","ArgumentOutOfRangeError","ElementAtSubscriber","EverySubscriber","thisArg","everyValueMatch","SwitchFirstSubscriber","hasSubscription","SwitchFirstMapSubscriber","tryNext","ExpandSubscriber","subscribeToProjection","filter","filterOperatorFunction","FilterOperator","FilterSubscriber","FinallySubscriber","callback","FindValueSubscriber","yieldIndex","EmptyError","FirstSubscriber","_emitted","_emit","ObjectUnsubscribedError","SubjectSubscription","subject","observers","subscriberIndex","SubjectSubscriber","Subject","hasError","thrownError","AnonymousSubject","copy","asObservable","Map","GroupBySubscriber","elementSelector","subjectSelector","groups","attemptedToUnsubscribe","_group","group","get","element","set","groupedObservable","GroupedObservable","GroupDurationSubscriber","removeGroup","delete","groupSubject","refCountSubscription","InnerRefCountSubscription","IgnoreElementsSubscriber","IsEmptySubscriber","LastSubscriber","mapOperation","MapOperator","MapSubscriber","MapToSubscriber","MaterializeSubscriber","ScanSubscriber","accumulator","_seed","hasSeed","defineProperty","enumerable","configurable","seed","TakeLastSubscriber","total","ring","idx","MergeScanSubscriber","acc","refCount","refCountOperatorFunction","RefCountOperator","connectable","_refCount","refCounter","RefCountSubscriber","connection","connect","sharedConnection","_connection","ConnectableObservable","subjectFactory","_isComplete","getSubject","_subject","ConnectableSubscriber","higherOrderRefCount","ObserveOnSubscriber","scheduleMessage","ObserveOnMessage","PairwiseSubscriber","hasPrev","BehaviorSubject","_value","getValue","AsyncSubject","hasNext","QueueAction","QueueScheduler","ReplaySubject","windowTime","_events","_bufferSize","_windowTime","_getNow","ReplayEvent","_trimBufferThenGetEvents","eventsCount","spliceCount","RepeatSubscriber","RepeatWhenSubscriber","notifier","sourceIsBeingSubscribedTo","retries","subscribeToRetries","retriesSubscription","notifications","RetrySubscriber","RetryWhenSubscriber","SampleSubscriber","SampleTimeSubscriber","period","dispatchNotification","SequenceEqualSubscriber","compareTo","comparor","_b","_oneComplete","SequenceEqualCompareToSubscriber","emit","checkValues","_c","a","areEqual","nextB","SingleSubscriber","seenValue","applySingleValue","singleValue","SkipSubscriber","SkipLastSubscriber","_skipCount","_count","_ring","skipCount","currentIndex","oldValue","SkipUntilSubscriber","isInnerStopped","SkipWhileSubscriber","skipping","tryCallPredicate","SwitchMapSubscriber","SwitchMapToSubscriber","inner","TakeSubscriber","TakeUntilSubscriber","TakeWhileSubscriber","nextOrComplete","predicateResult","tap","tapOperatorFunction","DoOperator","TapSubscriber","_tapNext","_tapError","_tapComplete","defaultThrottleConfig","leading","trailing","ThrottleSubscriber","_leading","_trailing","_hasTrailingValue","_trailingValue","tryDurationSelector","_sendTrailing","throttleTime","ThrottleTimeOperator","ThrottleTimeSubscriber","TimeInterval","interval","TimeIntervalSubscriber","lastTime","span","TimeoutError","TimeoutSubscriber","absoluteTimeout","waitFor","errorInstance","scheduleTimeout","dispatchTimeout","TimeoutWithSubscriber","withObservable","WindowSubscriber","window","openWindow","prevWindow","newWindow","WindowCountSubscriber","windowSize","startWindowEvery","windows","c","window_1","CountedSubject","_numberOfNextedValues","WindowTimeSubscriber","windowTimeSpan","windowCreationInterval","maxWindowSize","dispatchWindowClose","dispatchWindowCreation","dispatchWindowTimeSpanOnly","numberOfNextedValues","closeWindow","window_2","timeSpanState","WindowToggleSubscriber","openSubscription","context_3","context_4","unsubscribeClosingNotification","closingNotification","withLatestFrom","WithLatestFromOperator","WithLatestFromSubscriber","found","ZipSubscriber","iterators","StaticArrayIterator","StaticIterator","ZipBufferIterator","stillUnsubscribed","notifyInactive","checkIterators","shouldComplete","nextResult","isComplete","exports","errorObject_1","this","isFunction_1","tryCatch_1","UnsubscriptionError_1","isArray_1","isObject_1","Observer_1","rxSubscriber_1","Subscription_1","Subscriber_1","noop_1","toSubscriber_1","observable_1","pipe_1","config_1","ObjectUnsubscribedError_1","SubjectSubscription_1","Observable_1","refCount_1","connectableProto","writable","Subject_1","Action_1","AsyncAction_1","Scheduler_1","AsyncScheduler_1","QueueScheduler_1","QueueAction_1","subscribeToArray_1","isScheduler_1","empty_1","fromArray_1","scalar_1","of_1","throwError_1","observeOn","observeOnOperatorFunction","ObserveOnOperator","Notification_1","observeOn_1","queue_1","nextHandle","tasksByHandle","runIfPresent","handle","cb","setImmediate","clearImmediate","AsapAction","Immediate_1","Immediate","AsapScheduler","AsapScheduler_1","AsapAction_1","AnimationFrameAction","requestAnimationFrame","cancelAnimationFrame","AnimationFrameScheduler","AnimationFrameScheduler_1","AnimationFrameAction_1","VirtualTimeScheduler","maxFrames","VirtualAction","frame","frameTimeFactor","sort","sortActions","bindCallback","callbackFunc","params","AsyncSubject_1","handler","innerArgs","bindNodeCallback","handlerFn","dispatchError","iterator_1","isArrayLike_1","isPromise_1","subscribeToPromise_1","subscribeToIterable_1","subscribeToObservable_1","InnerSubscriber_1","subscribeTo_1","subscribeToResult_1","OuterSubscriber_1","isObservable","isIterable","fromPromise","fromIterable","fromObservable","from","isObservable_1","fromObservable_1","fromPromise_1","isIterable_1","fromIterable_1","mergeMap_1","identity_1","concatAll","mergeAll_1","from_1","concatAll_1","defer","observableFactory","forkJoin","sources","ForkJoinSubscriber","haveValues","_hasValue","fromEvent","target","eventName","options","setupSubscription","sourceObj","isNodeList","isHTMLCollection","isEventTarget","source_1","addEventListener","removeEventListener","isJQueryStyleEventEmitter","source_2","on","off","isNodeStyleEventEmitter","source_3","addListener","removeListener","fromEventPattern","addHandler","removeHandler","retValue","generate","initialStateOrOptions","condition","iterate","resultSelectorOrObservable","resultSelector","initialState","conditionResult","needIterate","iif","trueResult","falseResult","defer_1","isNumeric","val","parseFloat","async_1","isNumeric_1","counter","merge","last","onErrorResumeNext","first","remainder","subNext","pairs","keys","race","RaceOperator","RaceSubscriber","hasFirst","range","start","timer","periodOrScheduler","due","using","resourceFactory","resource","zip","ZipOperator","ConnectableObservable_1","BehaviorSubject_1","ReplaySubject_1","asap_1","asap","animationFrame_1","animationFrame","VirtualTimeScheduler_1","ArgumentOutOfRangeError_1","EmptyError_1","TimeoutError_1","bindCallback_1","bindNodeCallback_1","combineLatest_1","concat_1","forkJoin_1","fromEvent_1","fromEventPattern_1","generate_1","iif_1","interval_1","merge_1","onErrorResumeNext_1","pairs_1","race_1","range_1","timer_1","using_1","zip_1","empty_2","never_1","NEVER","NAME","templateCaches","strings","TemplateResult","type","partCallback","defaultPartCallback","l","isTextBinding","s","closing","findTagClose","nodeMarker","marker","template","createElement","innerHTML","getHTML","SVGTemplateResult","content","svgElement","firstChild","removeChild","reparentNodes","defaultTemplateFactory","templateCache","Template","getTemplateElement","render","container","templateFactory","instance","__templateInstance","_partCallback","update","TemplateInstance","fragment","_clone","removeNodes","appendChild","String","random","markerRegex","RegExp","lastAttributeNameRegex","str","close","lastIndexOf","open","TemplatePart","rawName","parts","walker","createTreeWalker","partIndex","nodesToRemove","previousNode","currentNode","nextNode","node","nodeType","hasAttributes","attributes","stringForPart","attributeNameInPart","exec","attribute","getNamedItem","stringsForAttributeValue","split","removeAttribute","nodeValue","parentNode","lastIndex","insertBefore","createComment","createTextNode","previousSibling","Node","TEXT_NODE","nextSibling","n","part","isDirective","directiveValue","o","__litDirective","isPrimitiveValue","AttributePart","size","_previousValues","startIndex","text","v","t","_equalToPreviousValues","_interpolate","setAttribute","NodePart","startNode","endNode","_previousValue","_setText","_setTemplateResult","_setIterable","_setNode","_setPromise","_insert","textContent","_getTemplate","itemParts","itemPart","itemStart","previousPart","setValue","lastPart","templatePart","getTemplate","_parts","valueIndex","importNode","end","before","shadyTemplateFactory","scopeName","cacheKey","ShadyCSS","prepareTemplate","baseRender","TalkieBackfaceAttributes","attachShadow","mode","imageUrl","getAttribute","IMAGE","filterDecl","FILTER","style","shadowRoot","TalkieBackface","ns","current","TalkiePagerAttributes","TOTAL","CURRENT","TalkiePager","TalkieProgressAttributes","progress","PROGRESS","TalkieProgress","encodeCache","getEncodeCache","exclude","ch","cache","fromCharCode","test","toUpperCase","charCodeAt","encode","string","keepEscaped","code","nextCode","defaultChars","encodeURIComponent","componentChars","decodeCache","getDecodeCache","decode","replace","seq","b1","b2","b3","b4","chr","parseInt","format","url","protocol","slashes","auth","hostname","port","pathname","search","hash","Url","protocolPattern","portPattern","simplePathPattern","delims","unwise","autoEscape","nonHostChars","hostEndingChars","hostnameMaxLen","hostnamePartPattern","hostnamePartStart","hostlessProtocol","slashedProtocol","urlParse","slashesDenoteHost","u","parse","lowerProto","hec","rest","trim","simplePath","proto","toLowerCase","substr","match","hostEnd","atSign","host","parseHost","ipv6Hostname","hostparts","newpart","j","k","validParts","notHost","bit","unshift","qm","_class","isString","_hasOwnProperty","object","assign","arrayReplaceAt","src","pos","newElements","isValidEntityCode","fromCodePoint","surrogate1","surrogate2","UNESCAPE_MD_RE","ENTITY_RE","UNESCAPE_ALL_RE","DIGITAL_ENTITY_TEST_RE","replaceEntityPattern","entities","unescapeMd","unescapeAll","escaped","entity","HTML_ESCAPE_TEST_RE","HTML_ESCAPE_REPLACE_RE","HTML_REPLACEMENTS","replaceUnsafeChar","escapeHtml","REGEXP_ESCAPE_RE","escapeRE","isSpace","isWhiteSpace","isPunctChar","UNICODE_PUNCT_RE","isMdAsciiPunct","normalizeReference","lib","mdurl","ucmicro","parseLinkLabel","disableNested","level","prevPos","labelEnd","posMax","oldPos","md","inline","skipToken","parseLinkDestination","lines","ok","parseLinkTitle","default_rules","code_inline","tokens","env","slf","token","renderAttrs","code_block","fence","info","langName","highlighted","tmpAttrs","tmpToken","highlight","attrIndex","attrs","langPrefix","image","renderInlineAsText","children","renderToken","hardbreak","xhtmlOut","softbreak","breaks","html_block","html_inline","Renderer","rules","nextToken","needLf","hidden","block","nesting","tag","renderInline","Ruler","__rules__","__cache__","__find__","__compile__","self","chains","rule","enabled","alt","altName","chain","at","opt","beforeName","ruleName","after","afterName","enable","list","ignoreInvalid","enableOnly","disable","getRules","chainName","NEWLINES_RE","NULL_RE","inlineMode","Token","tok","isLinkOpen","isLinkClose","linkify","currentToken","nodes","ln","lastPos","htmlLinkLevel","fullUrl","urlText","blockTokens","links","pretest","normalizeLink","validateLink","schema","normalizeLinkText","markup","RARE_RE","SCOPED_ABBR_TEST_RE","SCOPED_ABBR_RE","SCOPED_ABBR","r","tm","replaceFn","replace_scoped","inlineTokens","inside_autolink","replace_rare","blkIdx","typographer","QUOTE_TEST_RE","QUOTE_RE","APOSTROPHE","replaceAt","process_inlines","thisLevel","lastChar","nextChar","isLastPunctChar","isNextPunctChar","isLastWhiteSpace","isNextWhiteSpace","canOpen","canClose","isSingle","stack","openQuote","closeQuote","OUTER","single","quotes","smartquotes","attrPush","attrData","attrSet","attrGet","attrJoin","StateCore","_rules","Core","ruler","State","getLine","line","bMarks","blkIndent","eMarks","escapedSplit","escapes","backTicked","lastBackTick","substring","table","startLine","endLine","silent","lineText","nextLine","columns","columnCount","aligns","tableLines","tbodyLines","sCount","tShift","getLines","mem","haveEndMarker","skipChars","skipSpaces","blockquote","adjustTab","initial","lastLineEmpty","offset","oldBMarks","oldBSCount","oldIndent","oldParentType","oldSCount","oldTShift","spaceAfterMarker","terminate","terminatorRules","wasOutdented","oldLineMax","lineMax","bsCount","parentType","tokenize","hr","cnt","skipBulletListMarker","skipOrderedListMarker","markTightParagraphs","contentStart","indent","indentAfterMarker","isOrdered","itemLines","listLines","listTokIdx","markerCharCode","markerValue","oldLIndent","oldTight","posAfterMarker","prevEmptyEnd","isTerminatingParagraph","tight","reference","_endLine","destEndPos","destEndLineNo","href","label","res","title","helpers","references","heading","skipSpacesBack","skipCharsBack","lheading","attr_name","unquoted","single_quoted","double_quoted","attr_value","open_tag","close_tag","comment","processing","declaration","cdata","HTML_TAG_RE","HTML_OPEN_CLOSE_TAG_RE","HTML_SEQUENCES","block_names","paragraph","StateBlock","indent_found","ddIndent","skipEmptyLines","begin","keepLastLF","lineIndent","lineStart","require$$8","require$$9","require$$10","ParserBlock","hasEmptyLines","maxNesting","outTokens","require$$11","isTerminatorChar","newline","pmax","ESCAPED","escape","backtick","matchStart","matchEnd","strikethrough","scanned","scanDelims","delimiters","jump","can_open","can_close","startDelim","endDelim","loneMarkers","emphasis","isStrong","link","labelStart","ref","parseReference","EMAIL_RE","AUTOLINK_RE","autolink","tail","linkMatch","emailMatch","isLetter","lc","DIGITAL_RE","NAMED_RE","link_pairs","lastDelim","currDelim","odd_match","text_collapse","curr","StateInline","pendingLevel","pushPending","canSplitWord","left_flanking","right_flanking","_rules2","postProcess","require$$12","ParserInline","ruler2","require$$13","opts","re","src_Any","src_Cc","src_Z","src_P","src_ZPCc","src_ZCc","text_separators","src_pseudo_letter","src_ip4","src_auth","src_port","src_host_terminator","src_path","src_email_name","src_xn","src_domain_root","src_domain","src_host","tpl_host_fuzzy","tpl_host_no_ip_fuzzy","src_host_strict","tpl_host_fuzzy_strict","src_host_port_strict","tpl_host_port_fuzzy_strict","tpl_host_port_no_ip_fuzzy_strict","tpl_host_fuzzy_test","tpl_email_fuzzy","tpl_link_fuzzy","tpl_link_no_ip_fuzzy","isRegExp","defaultOptions","fuzzyLink","fuzzyEmail","fuzzyIP","isOptionsObj","defaultSchemas","http","no_http","mailto","tlds_2ch_src_re","tlds_default","resetScanCache","__index__","__text_cache__","createValidator","createNormalizer","normalize","compile","__opts__","tlds","__tlds__","onCompile","__tlds_replaced__","src_tlds","untpl","tpl","email_fuzzy","link_fuzzy","link_no_ip_fuzzy","host_fuzzy_test","aliases","__compiled__","schemaError","__schemas__","compiled","alias","slist","schema_test","schema_search","Match","__last_index__","__schema__","raw","createMatch","LinkifyIt","schemas","definition","m","ml","me","tld_pos","at_pos","testSchemaAt","keepOld","el","arr","reverse","root","freeExports","freeModule","module","freeGlobal","punycode","maxInt","base","tMin","tMax","skew","damp","initialBias","initialN","delimiter","regexPunycode","regexNonASCII","regexSeparators","baseMinusTMin","floor","stringFromCharCode","RangeError","mapDomain","labels","encoded","ucs2decode","output","extra","ucs2encode","basicToDigit","codePoint","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","inputLength","out","bias","basic","oldi","w","baseMinusT","handledCPCount","basicLength","q","currentValue","handledCPCountPlusOne","qMinusT","toUnicode","toASCII","define","amd","components","rules2","zero","commonmark","BAD_PROTO_RE","GOOD_DATA_RE","RECODE_HOSTNAME_FOR","parsed","er","MarkdownIt","presetName","utils","ParserCore","renderer","configure","presets","missed","use","plugin","parseInline","markdownIt","lang","hljs","console","warn","getLanguage","highlightAuto","markdown","link_open","linkOpenAsTargetBlank","_","linkOpenToken","targetAttrIndex","TalkieSlideAttributes","querySelector","TYPE","compileMarkdown","inheritAttributesToLayoutSlot","layoutEl","getLayoutElement","ownAttributes","attr","includes","ShadyDOM","BACKFACE","BACKFACE_FILTER","TalkieSlide","keyCode","searchInput","hasKeyCode","which","charCode","names","foundNamedKey","codes","isEventKey","event","nameOrCode","KEY_DOWN$","charKey","keycode","keyCodeIs","preventDefault","ResponsiveRatio","samplingElement","resizeObservable$","ratio","trigger$","width","NORMAL","height","hRatio$","horizontalRatioOf","vRatio$","verticalRatioOf","currentRatio$","hv","head","abs","rect","getBoundingClientRect","innerHeight","innerWidth","startPage","totalPage","nextTrigger","prevTrigger","moveTrigger","currentSubject","currentPage$","inRangeOf","currentPercentage$","percentOf","page","current$","percentage$","move","z","documentElement","fullScreen$","toggleScreenOf","request","exit","doc","requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen","exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","msFullscreenElement","location","customElements","pagerElement","progressElement","slideElements","querySelectorAll","getPageNumberFromHash","initResponsive","resize","initPaging","isKeyboardMove","currentSlideElement","toInvisible","toVisible","scrollIntoView","keydown","hashchange","scroll","elementFromPoint","closest","percentage","initFullScreen","run"],"mappings":"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AC,CAAC,EAAE,WAAW,EAAE,YAAY,CAAC,CAAC;KACzD,EAAE,QAAQ,CAAC,CAAC;GACd,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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"}